2001
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2002
redisson client  connect sentinel to Read Data
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I init client like this :
But error reporting when I run the program , please see the following exception information:
The server's IP is the sentry machine's IP，What's the problem?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2003
ERROR org.redisson.client.handler.CommandDecoder - Unable to decode data.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

No exception and return the command result
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2004
Map entry listener when application scale(multiple replicas) for RMapCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
My application running with multiple replicas, so each replicate have map entry listener
I am doing some task (database update) on entry expire, so in my case, each replica get notify and each replica executes update query in the database.
Any solution/suggestion to avoid this scenario.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2005
removeListener method of RTopicReactive and RTopicRx interfaces throws NoSuchMethodException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2006
Improvement for YAML Support: Read from a child yaml block
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Current YAML support expects to provide separate YAML file which has redis configs only. But in real world, redis clients will be used with in a  main application(which also bootstraped from a main yaml file).  It's convenient to support creating Config from a block of some main yaml file as follows.
Even now I can get ClusterServersConfig created pointing to the clusterServersConfig block as in following example, but Config API does now allow to pass a ClusterServerConfig.
Suggestion:
If you can make Config class's following method public, then users can inject ClusterServersCondfig(or any other type) and create a Config object from a existing big yaml file.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2007
Pub/sub subscriptions lost on master failover
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When a primary node fails over, redisson appears to detect this and correctly pick up the new primary. However, after this point, pub/sub subscriptions no longer work.
This occurred in our production env when AWS Elasticache triggered a failover by itself. I was able to reproduce using.
Here's a log from the client during the failover:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2008
Springcache @sync allowNullValues set false not work
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2010
Error deserializing Json with Optionals after version 3.10.1. Object mapper behaves unexpectedly  · 10 ·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Deserializing Jsons that contain Optionals. In buckets or maps, with JsonJacksonCodec or TypedJsonJacksonCodec
ObjectMapper does not behave as expected, it does not deserialize Optional even though the provided ObjectMapper has the JDK8Module.
The issue resides in org.redisson.command.CommandAsyncService#getCodec. More specifically:
I've managed to trigger NoSuchMethodException (by providing an anonymous class JsonJacksonCodec() {}) there so that  codecToUse = codec; ObjectMapper works this way.
ObjectMapper is replaced in org.redisson.codec.JsonJacksonCodec#createObjectMapper
Steps to reproduce or test case
Try to deserialize any object that contains an Optional.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2011
Add remainTimeToLive method to RLock object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2013
o.redisson.client.handler.CommandsQueue  : Exception occured. Channel:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2014
JCache.getAll throws RedisException: too many results to unpack
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
All entries are returned.
A RedisException is thrown:
Steps to reproduce or test case
Add more than 10k entries to a JCache.
Just wanted to wonder if it is a correct behavior and there is just a limit of entities I can retrieve in one batch or it is actually a bug somewhere.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2015
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2016
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2017
Fetching data from RMap is slow. 11000 entries in RMap taking total 207mb. Is there  a way to make it fast. Every minute my cache is updated. so,I want to fetch all entries in RMap every minute.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RMap containing 11000 entries(RMap<String, Map<Integer, Data>>). Total size 207 mb.
Time taken to retrieve all keys - 8-10 seconds.
My Rmap is getting updated every minute. So i need to get data from RMap every minute
Is there a way to fasten get call.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2018
RLock.unlock method returns true if lock doesn't exist
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2019
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2020
Tomcat Session Manager issue in Load Balance environment with redMode MEMORY
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a 2 instances of tomcat running in front of apache (with sticky session).
We have a single redis instance and we are using the redisson tomcat 8 session manager (setup in the context.xml in the /conf dir). Version redisson-tomcat-8-3.7. Tomcat version 8.0.32.
This is similar to bug #1311 . We have a session timeout of 30mins.
What is happening:
User logs onto instance 1, session created.
User uses session on instance 1
Apache loadbalancers the request over to instance 2 (perhaps load was too great on instance1)
New session created on instance 2 and loaded with session info via redis, user carries on without loosing session. All good so far.
15 mins later user makes another request and apache loadbalancers back to instance 1. User carries on without issue.
User keeps using their session on instance 1.
7)On instance 2 the session timesout after 30 mins. This then invalidates the session on instance 1 even though the user is still using it and user looses session . This is the problem.
It seems that  in RedissonSessionManager.java -> startInternal() -> onMessage() when receiving a AttributesPutAllMessage is NOT updating the timing on the session (at least in readMode MEMORY)  and then tomcat MangerBase times the session out. I can see session values session:lastAccessedTime and session:thisAccessedTime are sent in the map, however debugging into superSetAttribute() on Tomcat 8 does NOT update these member variables, and therefore the session timesout.
I made a local patch to test my thoery by calling session.superEndAccess() instead:
This now works as expected. However I'm not sure this is the best implementation and looking for your guidence/fix. This is consistently reproducable.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2021
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2022
redis server response timeout (3000ms) occured for command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
This paper：
I tried many way, but there has been no redis overtime this solution. Hope to get a great god for help, thank you.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2023
Redisson sessions that never dies - missing TTL
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
For the record, we are using Redisson 3.10.4 with Redisson Tomcat 8.
In som cases we end up with shallow sessions without a TTL that fills up Redis. These junk sessions should probably not end up in Redis in the first place, but due to our complex application that is the situation for now. Anyway, there should be a guard in the Redis code that avoid sessions beeing created without a TTL. I'll explain why this happens and a suggestion for a solution which we are running ourselves in production.
This particular case arises when a request includes a session id which is neither stored locally in Tomcat or in Redis and it is immediately abandoned(no more interaction with the session). Then the public Session findSession(String id)  code in RedissonSessionManager is triggered, it doesn't find the session of course, but a new empty session is created and persisted in Redis where they stay forever. The fix is obviously to setMaxInactiveInterval on the session, which we in fact have done. But to accomplish this we have overriden the default RedissonSessionManager with out own custom RedissonSessionManager and added only session.setMaxInactiveInterval(getContext().getSessionTimeout() * 60), reusing the logic used when creating new sessions. Ideally we wan't to avoid having a custom RedissonSessionManager to solve what should probably be part of the default RedissonSessionManager.
@mrniko Could you please add this task to the next milestone?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2024
Improve Write Behind and Write Through strategies
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Reconsider MapWriter object - introduce two methods instead of current four.
Remove MapOptions.writeBehindThreads setting
Add MapOptions.writeBehindDelay setting
Add MapOptions.writeBehindBatchSize setting
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2025
Use RMap<String, Map<Integer, Integer>> show exception: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer · 25 ·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
when user RMap
throw java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2026
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2027
Whats the meaning of freeConnectionsAmount?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi
When our server reach some load we are getting this errors from Redis:
I have read a lot about this error in the issues but i cannot find how to solve :-(, what i have notice is that the freeConnectionsAmount is equals to 1, can this means that our code is unable to create more connections and this is what is causing the problem? I also see that freeConnectionsCounter=64 so this means that there are free connections?
Redisson version: 3.10.1
Best Regards.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2028
none·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2029
WARNING: Illegal reflective access by org.redisson.misc.URIBuilder
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, i have just migrate my project from Java 8 to Java 11 and i have encounter the following warning message when i am loading a redissonClient:
I am using Intellij IDEA 2019.1 (Community Edition), Java 11, Redisson-3.10.5, on Windows 10 and Ubuntu 18.04.
Does anyone has the same issue? Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2030
 ERROR CommandDecoder - Unable to decode data. reply: $85998717
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am doing a POC on Redisson. We added 600K  records as List into Rmap
While doing dlMap.get(key); it is causing the above error.
The good thing is , it is working fine if users list is 150k.
UserList is a list of Users object. is there a way i can get rid of this issue. or even better if i can get a particular user object say having user.getId = 181062
Thanks for the help in advance.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2031
hadoop - yarn application failed due to Error: io.netty.util.internal.StringUtil.indexOfNonWhiteSpace with redisson-3.10.5
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hadoop yarn application should run successfully
2019-04-07 23:15:58 INFO  [THREAD ID=LTM-worker-thd-128] Job:1406 - Task Id : attempt_1554192178061_15274_m_000003_2, Status : FAILED
programatic configuration with sentinel servers
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2032
NullPointer 3.10.6
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No NullPointer Error
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2033
(redisson-tomcat)Can't connect to sentinel server. Unable to connect to: redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Can't connect to sentinel server. Unable to connect to: redis://110.210.110.31:26479
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2034
connection error when Redis Cluster deployed in kubernetes fail over
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson is not able to send request to redis cluster deployed in kubernetes when master/slave are down.
Below are the exceptions caught when requests were sent to Redisson; the exceptions are alternating (i.e. I got exception #1 in one request - then got exception #2 in an other request for the same test)
exeception #1:
exception #2:
Steps to reproduce or test case
Deploy redis cluster in kubernetes (3 masters: redis-cluster-0, redis-cluster-1, redis-cluster-2; 3 slaves: redis-cluster-3, redis-cluster-4, redis-cluster5)
Kill redis-cluster-0 and redis-cluster-3.
Wait for redis-cluster-0 and redis-cluster3 to have state RUNNING and READY
Kill redis-cluster-1, redis-cluster-2, redis-cluster-4, redis-cluster-5
Send requests to see exceptions
I am using redisson reactive clien
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2035
FstCodec can't deserialize ConcurrentHashMap based object with package visibility
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2036
[Promotion] scan get results in an unperdictable order  on redis-cluster mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In  Redis cluster mode, when we use scan to get the keys with in a pattern mode like (test_key*), we want to get the results in a certain order.
In  Redis cluster mode, when we use scan to get the keys with in a pattern mode like (test_key*), in on redis instance, we can get the keys in order, bug in different nodes, the order is random.
Steps to reproduce or test case
1: a redis cluter with 2 master and 2 slave
2 put kv like :
3 : we scan the keys with test_key* in the following way
Some times we get the reuslt :
while some times ,we get the result :
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2037
RedissonLock.renewExpiration will refresh forever
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
If the lock key no longer exist the refresh should cease
The renewExpiration() method ignores the return value of renewExpirationAsync() and reschedules itself forever
Steps to reproduce or test case
Should be as simple as manually removing a lock entry key from redis.
On a side note, another thing we noticed while looking into this is that renewExpirationAsync() does a scripted call that returns 0 or 1 depending on HEXISTS. It seems unnecessary as according to the redis docs about PEXPIRE, it does the same thing out of the box in a single command call.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2038
Password support for sentinel.conf requirepass config option
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Sentinel support for authentication with password was added in Redis 5. Redisson will authenticate to Redis Sentinel's started with requirepass <password.here> in sentinel.conf.  The work around for now is to simply have the sentinel's not run in protected mode even if Redis Master/Slave instances have password requirements.  This works, however when auth is required on the sentinel nodes (as set by sentinel.conf requirepass <foo.bared.blahblahblah>) themselves, RedissonClient cannot perform commands to the sentinel nodes (Sentinel Sentinels, Sentinel Master, yada yada)
Commit adding authentication support for sentinels: is that RedissonClient sends the auth with a password value that's set in a config.
Redisson does not appear to authenticate with the redis password stored in BaseConfig, and there doesn't appear to be a place to add one in the SentinelConfig.  On Spring boot application with redis password set and requirepass in sentinel.conf, startup has the following error:
Steps to reproduce or test case
Start a Redis Master, Replica, and Sentinels all with requirepass set to some value, then attempt to get RedissonClient with SentinelServersConfig set up, setting password to whatever your password is, master name to whatever your master name is, and your nodes as appropriate.
Due to sensitive nature of passwords, names etc, these will remain abstracted in my configuration snippet here.  None of these values are null, they are all set via a configuration setting.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2039
java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/type/WritableTypeId
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In springboot 2.1.4
the jackson-core version is 2.8.7
How can I resolve this version conflict?
I tried to filter the jackson-core in spring json, but it didn't work.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2040
Add support for Reactive and RxJava2 interfaces for RemoteService object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2042
WriteRedisConnectionException HANDLING
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
handle org.redisson.client.WriteRedisConnectionException for example same way as others in spring CacheErrorHandler
I try sentinel, master-slave and also single server redisson config. In each configuration is problem when cached method with sync=true and connection to redis server is broken or redis server is down.
IF WE USE method without SYNC=true then exception is similar but is HANDLED by org.springframework.cache.interceptor.CacheErrorHandler and is behavior OK
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2043
Possibility of broken connections on the pool
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using a fixed connection pool of min=64 and max=64 to every node (masters and slaves) on cluster config. Redisson is able to open a healthy connection pool of 64 to each of the nodes
It seems that on some cases when our app container (dockerized app) starts there might be some network/warm up issues (also seen by getting a few CLUSTER_NODES and CLUSTER_INFO timeouts during startup) leads to some connections on the pool to be broken. No issue is easily observed at low traffic after but after increasing a bit the load, it seems some requests to those instances (we deployed 20 instances and 2 ended up like this) fail with timeouts. This doesn't seem to happen to instances that started and opened all the connections properly at startup but seems this faulty startup instances remain in a broken state and do not recover and/or re-create those broken connections.
On any case, as said, this only happens on those cases during startup. So that's our primary hypothesis. If any logic can be put into place to deal with potential broken connections on the pool or some monitoring of the pool we can enable or some config we could do differently. Please advice
example timeout:
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2044
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2045
RedissonSemaphore doesn't take linux machine's down into account, like RedissonLock do
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
when machine is down, RedissonSemaphore should release it never released.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2046
UpdateValve should be removed from engine pipeline in RedissonSessionManager instance stopInternal method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When ReddissonSessionManager is stopped using stopInternal() it should clean all supporting valves that were added into engine pipeline
RedissonSessionManager will leave UpdateValve in the engine pipeline
Steps to reproduce or test case
Redisson configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2047
UpdateValve is executed outside application classloader
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
without application classloader which could lead to ClassNotFoundException
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2048
Maven build fails with: Failed during checkstyle configuration: cannot initialize module SuppressionFilter - Unable to find: suppressions.xml
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Maven build to be successful
Maven build fails with Failed during checkstyle configuration: cannot initialize module SuppressionFilter - Unable to find: suppressions.xml
Steps to reproduce or test case
Do mvn clean install on root directory
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2049
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2050
about helm redis-ha deploy
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
i deploy https://github.com/helm/charts/tree/master/stable/redis-ha to kubernetes use helm. default values.yaml.
java client startup error:
At least two sentinels are required
why?
but use Replicated mode it's ok.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2051
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2052
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2054
Redis Cache Read Latency Increase with Time
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are using ElastiCache Redis (version 5.0.3) as our cache server and Redisson 3.8 as our client.
Here are the write and read code.
We find that with time on, the cache read latency will increase, for example,
after the deployment, in the first 3 days, the latency is almost same, keep 2 to 3 milliseconds.
in the next 3 days, the latency can increase to 20 milliseconds. It will keep increasing.
This latency increase has no relation with traffic.
At the same time, I find that that the redis cluster cache miss provided by AWS (The number of unsuccessful read-only key lookups in the main dictionary. This is derived from keyspace_misses at Redis INFO.) will increase from the very beginning (after the deployment).
We can do deployment to fix the issue.
After the deployment, the latency and cache miss go to normal.
Please help me to fix the issue.
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2055
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2056
JCache.removeAll method doesn't notify Cache listeners
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2057
Numerous RedisConnectionException :Can't aquire connection to...
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Numerous RedisConnectionException occur in production environment for no apparent reason.
The same deployment is used in other production environments without problems.
The first guess would be a configuration or environmental issue.
The stack trace is:
The error probably happens when trying to read data from Redis cluster as I see access to "SlaveConnectionPool".
Please note we set an expiration time for each entry in the cache.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2058
RListMultimap Listener
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello friends
Actually I'm new at working with Redis and Redisson. I'm going to develop a client server application in which multiple clients send an image(my data type) and a key to a unique server.
So I've selected RListMultimap as my desire data structure.
Inserting and retrieving data is ok but I need a listener to be fired whenever a new data enters to my RListMultimap.
I've looked for it on the documentations but I haven't found any thing yet.
I'll be thankful if any body helps me.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2059
Add Async, Reactive, RxJava2 interfaces to JCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2060
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2061
Wrong logic for Map in RedissonLiveObjectService:persist method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In RedissonLiveObjectService class, while copying and persisting map Entities in persist method, the "for" loop just accesses empty Redisson map instead of right map object, it causes no any map entity is copied and persisted into redis.
Redisson version: from 3.5.3 to 3.10.6
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2062
Redisson no longer supports auth in sentinel clusters older than Redis 5.0.1
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
As of version 3.10.5, Redisson no longer supports sentinel clusters that have a master password but no sentinel password. The commit 4ee3074 changed the MasterSlaveConnectionManager to set the sentinel and master password to the same thing so if they differ the client will be unable to connect. This breaks any software using Redisson that connects to a sentinel Redis cluster with a password that is older than 5.0.1, when sentinel auth was added.
A potential solution would be to add a sentinelPassword field to the SentinelServersConfig class representing the sentinel password and have the existing password field only represent the master password. It would change the meaning of the existing password field as well as force the MasterSlaveConnectionManager to be aware of the sentinel password, so that fix might require some thought from someone more familiar with the codebase than I am.

Redisson should be able to connect to a sentinel cluster with the following configurations:
A master password but no sentinel password
A sentinel password but no master password
Different passwords for the master and sentinels
The same password for both the master and sentinels
No password for either
Only the last two are currently supported in Redisson. Redis as of version 5.0.1 supports all of them and before version 5.0.1 supports 1 and 5.

Attempting to connect to a cluster with a master password but no sentinel password and giving the client the master password results in this error:
org.redisson.client.RedisConnectionException: At least two sentinels should be defined in Redis configuration! SENTINEL SENTINELS command returns empty result!
This does not cause an error in 3.10.4. The same error occurs if the master and sentinel passwords differ and the client is given the master password.
Attempting to connect to a cluster with a sentinel password but no master password and giving the client the sentinel password results in this error:
The same error occurs if the master and sentinel passwords differ and the client is given the sentinel password.
Steps to reproduce or test case
Start a redis master/slave cluster with requirepass and masterauth set to password
Start 3 sentinels with auth-pass set to password and either requirepass set to differentpassword or no requirepass set at all.
Set the password in the sentinel config to either the master password password or, if set, the sentinel password differentpassword.
Attempt to connect to the Redis cluster.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2063
Redisson 3.10.6 with liferay 7.1 tomcat 9 and redis 5.0.4
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No exception
On liferay / tomcat start i see this error:

Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2064
Reference leak on timeout of async operations in 3.10.3+
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Timeouts of async operations should not produce reference leaks.
Timeouts of async operations appear to produce a reference leak, in the form of a listener to the shutdown promise associated with the connection manager.
Steps to reproduce or test case
Perform async Redisson operation (e.g., BlockingQueue.pollAsync) with a short timeout in a loop (allowing the timout to expire). Observe growth in memory usage over time, and/or inspect with VisualVM or similar.
issue appears to have been introduced in 3.10.3 in CommandAsyncService.handleBlockingOperations, around line 975. When the AtomicBoolean "skip" flag was introduced, a statement removing the listener from the shutdown promise on timeout was removed. I believe removing the listener would eliminate the leak. Here is a screenshot of visualvm inspecting a heap dump showing the reference chain.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2065
Add Local Cache for JCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2066
Rename RListMultimap then set value in map , but old value can not output
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2067
redisson don't detect if new sentinel added to sentinel group.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2068
Composit codec getMapValueDecoder confuse
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CompositeCodec.getMapValueDecoder uses mapValueCodec.getMapKeyDecoder() instead of
mapValueCodec.getMapValueDecoder()
Is it a typo?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2069
RedisTimeoutException: Unable to get connection / Command execution timeout for command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have two types of RedisTimeoutExceptions as below.
Can anyone give me an advice on how to fix this error?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2071
NullPointerException and ClassNotFoundException from trying to decode values
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2072
RRateLimiter allows permits exceeding
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
During first permits aquisition call RRateLimiter allows to acquire permits more than defined in rate.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2073
MILLISECONDS option added to RRateLimiter.RateIntervalUnit object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2074
Is this a bug of Redisson?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Error Message
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2076
Which API is used to monitor expired keys？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Which API is used to monitor expired keys？
Jedis：
Redisson? I didn't find it.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2077
Redisson Pub/Sub Successful, but RTopic publish method return 0 when use cluster and register some executor service workers
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
the subscribers should be 1
the actual is 0
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2078
om.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.redisson.codec.FstCodec`, problem: sun/misc/Unsafe
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
in jboss can't use org.redisson.codec.FstCodec
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2079
10X Performance boost for JCache.putAll method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2080
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2081
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2082
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2083
Redis Cluster issue while using Redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, 
We have 3 master and 3 slave node redis cluster architecture and
we're trying to put around 16000 keys in redis cluster cache.
Out of this 16K keys all the keys are distributed on all the 3 master node(based on hash slots).
each of the master nodes gets ~5k approx successfully But below error is printed near about 15744 key(sum of all the keys on 3 master nodes collectively).
We are completely stuck on this as out of 16k keys 15743  keys gets successfully but on 15744th key its thows the above exception every time.
Can anybody please let me know when we get this error & what should I fix to eliminate this error.
All the key put will be successful
Getting exception" java.lang.IllegalArgumentException: 16 > -1"
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2084
UpdateValve needs to execute manager.store only once at the end of the request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
UpdateValve needs to execute manager.store only once at the end of the request
UpdateValve could invoke manager.store() multiple times per request processing, for example if the request processing involves includes and/or forward of the request to another servlet/jsp to complete request processing
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2086
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
Redis version
Redisson version
Redisson configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2088
NIO - when does read happen?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm reading the source code of Redisson and I'm having a hard time tracing down when the read operation happens during the whole NIO thing with Netty. I'm not seeing OP_READ being explicitly set, or read() being called... The closest part I'm able to see, is: from processSelectedKey in NioEventLoop, but it doesn't make too much sense to me...
I was able to figure out how the write part works, and I'm sure I must have missed something... Can someone please help me understand this? Thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2089
"Unable to send command" from time to time
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I'm using for tests Redis 4.x version on a single master node with a Redission java client.
I'm making concurrent hget requests trough getMap().get() from about 20 threads.
nettyThreads is configured to 100
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2092
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2093
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2094
ERROR Exception occured. Channel:| CommandsQueue.exceptionCaught(153)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Running for a while will happen.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2095
is this is a bug ? release() method in org.redisson.pubsub.AsyncSemaphore.java
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
should this line be :
please check ,thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2097
Exception when use RedissonRedLock + RedissonMultiLock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm trying to introduce RedLock algorithm in my project, I have 3 Redis nodes, and I need to lock several keys in each thread. Here is my implementation:
no exception
Got exception with message: ""org.redisson.RedissonMultiLock cannot be cast to org.redisson.RedissonLock""
Steps to reproduce or test case
the root cause is this code in method tryLock(long waitTime, long leaseTime, TimeUnit unit) of class RedissonMultiLock.java:
It trys to cast rLock to RedissonLock, but in my case the rLock is RedissonMultiLock. By this implementation, RedissonMultiLock actually can not group any RLock types but RedissonLock.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2098
Get data sanity after RBuckets get error.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Because of some errors, Our redis mixes some different serialized data
Some data use StringCodec. Some Data use JsonJacksonCodec.
In this case, when using mget get data, if the <n-1 of result of mget have a decode error, then the ByteBuf will not be cleaned up, causing the next command to get the wrong data.
getStringValue("test3") return test3
getStringValue("test3") return test1
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2099
RedissonFairLock timeout drift
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We've discovered additional conditions that produce timeout drift as originally described in #1104. To summarize the issue, we see that the timeouts in the redisson_lock_timeout sorted set created by RedissonFairLock can gradually increase over time to be hours or days in the future despite the queue only containing less than 10 threads; this condition continues until the fair wait queue empties, or one of the threads dies and the rest of the threads are forced to wait for the far in the future timeout on the dead thread to lapse (this creates a dead lock-like situation).
I'll provide a PR to follow shortly with test cases and proposed changes to fix the issue. We greatly appreciate feed back on any misunderstanding of the issue described here and will do the same for feedback on the PR.
The expected behavior is that which is documented in the second paragraph of 8.2 Fair Lock:
All waiting threads are queued and if some thread has died then Redisson waits its return for 5 seconds. For example, if 5 threads are died for some reason then delay will be 25 seconds.
As an example that replicates this documentation, given we have 7 threads trying to take one lock, we expect the redis data structures to contain roughly the following after a 7 threads try to acquire the lock once using RLock.tryLock(threadId) in order with short delays between:
1) lock name of the 1st thread
2) "1"
3) lock name of the 2nd thread
4) lock name of the 3rd thread
5) lock name of the 4th thread
6) lock name of the 5th thread
7) lock name of the 6th thread
8) lock name of the 7th thread
9) lock name of the 2nd thread
10) lock timeout + 5s
11) lock name of the 3rd thread
12) lock timeout + 10s
13) lock name of the 4th thread
14) lock timeout + 15s
15) lock name of the 5th thread
16) lock timeout + 20s
17) lock name of the 6th thread
18) lock timeout + 25s
19) lock name of the 7th thread
20) lock timeout + 30s
In the above we see that the 7th thread will need to wait 25s after the lock expiration (based on the lease time) until it can acquire the lock if the 1st to 6th threads die.
Additionally, we expect that when a thread leaves the queue voluntarily either by wait timeout or by acquiring the lock, that timeouts adjust regardless of where the thread was in the queue. For example, if the 3rd thread in the above example left the queue via a RedissonFairLock.acquireFailedAsync call due to wait timeout, the sorted set would then be expected to be:
1) lock name of the 2nd thread
2) lock timeout + 5s
3) lock name of the 4th thread
4) lock timeout + 10s
5) lock name of the 5th thread
6) lock timeout + 15s
7) lock name of the 6th thread
8)  lock timeout + 20s
9)  lock name of the 7th thread
10) lock timeout + 25s
And the 7th thread would then only need to wait 20s after the lock expiration to acquire the lock if the other threads died.

In one of our usages of redisson we use the fair lock using 3-6 servers using each a single instance of Redisson running roughly the following code in one thread per server:
We observe that since the work done within the locked portion of the code can take only ~100ms that the 6 server threads running this code quickly churn through the lock queue without issue, though a queue is always present since there is little time between when each thread unlocks and locks again. If we take periodic snapshots of the redisson_lock_timeout sorted set, we tend to see that the timeouts increase in increments of 5s over time until the timeouts are hours or days in the future. If one of the servers is killed, then we observe that the other servers stop doing work and are timing out trying to get the lock due to the dead server's lock holding the first position in redisson_lock_queue with a timeout in redisson_lock_timeout that may be hours or days in the future. We expect that under the case that we lose one server of 6, that the timeout values will be in the range of 10 to 35s in the future at any one time (5s lease time + 5s thread wait time * position in queue). It may be said that the above lock usage itself may be foolish, but its mostly working except for the chance of deadlock.
Steps to reproduce or test case
I'll provide a PR for this issue to follow with additional test cases added to RedissonFairLockTest. However, what we started with was a modification of the testTimeoutDrift where we changed the wait time from 500ms to 3s and changed the lock holding time from 30s to 100ms (see Thread.sleep(30000)); with this test case, instead of the tryLock failing due to wait timeout, the threads are able to lock and unlock the lock quickly. The new version of the test, the test fails with a timeout drift into the futre, in a similar way that the test failed in #1104.
The PR will contain other test cases with the hope that we cover all code changes and produce the expected behavior described above.
We run a single redis server for use exclusively by redisson
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2101
io.netty.handler.codec.DecoderException: CommandPubSubDecoder.decode() must consume the inbound data or change its state if it did not decode anything.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2102
CommandsQueue thread-safety?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In CommandsQueue, the following:
In sendData method, do QueueCommandHolder command = queue.peek(); and is it guaranteed peek returns what has just been added? If another thread added a different item before sendData, we can get a wrong item for the current command, right?
The queue is a MPSC queue, which is thread safe in that case,  but here multiple consumers are actually peeking data from the queue.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2103
RedisConnectionException: Not all slots are covered! Only 14044 slots are available
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
It should work without error.
Getting a follwoing error while my application is accessing the redis cluster in aws:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2104
HttpSessionListener#sessionDestoyed isn't invoked (Tomcat 8)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Description
I have two nodes:
sessionDestroyed event must be handled by both nodes
sessionDestroyed event handled only by N1
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2105
ClusterConnectionManager generate lots of map lead to memory leak/oom
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
we use redisson as lock, in our test env,  we have 3 master nodes, 3 slave nodes, and we use these jvm arguments.
and memory increase over time. look at this.
and I found there's an scheduled thread to do this every scanInterval(default 5000) ms,
is this a problem?
Steps to reproduce or test case
we set redis cluster nodes and password only.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2106
always use one thread to do cluster change check
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
in our test env, we set log level debug, and there's some output for redisson, I found redisson always use one thread to do clusterChangeCheck, no matter how many times I relaunch.
I read source code, and I found default nettyThread is 32, why does redisson just use second thread?
we only set cluster nodes and password.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2107
RStream.readGroup doesn't work properly with TypedJsonJacksonCodec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
TypedJsonJacksonCodec should decode messages within stream to specific types.
JSON is decoded to LinkedHashMap rather than to specific type.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2108
redissonClient.getKeys().deleteByPatternAsync
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2109
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2110
Fails to store Tomcat 8 Session in Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I am using "AFTER_REQUEST" update mode in Redisson Session Manager configuration to ensure that mutable session attributes are in sync with the session stored in Redis
But it fails with this exception :
Caused by: java.lang.RuntimeException: Class org.apache.catalina.session.StandardSessionFacade does not implement Serializable or externalizable
This is my configuration:
Please advise what is wrong ?
Steps to reproduce or test case
I am running Tomcat 8.0.14 version and Redisson Tomcat
Redisson configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2111
RedisResponseTimeoutException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2112
RScoredSortedSet
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No deletion after removing the last N；
Which api？
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2113
GEORADIUS with STOREDIST support
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
georadius GEO  73.9064 18.5453 10 km STOREDIST userResultSet
userResultSet key points to a sortedSet which is sorted by distance.
Redisson currently only supports the STORE option
georadius GEO  73.9064 18.5453 10 km STORE userResultSet
This creates a sortedSet using the hash value.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2114
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2115
Redis connection fails to re-establish
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson in single server mode should reconnect after the connection is unavailable for some time.
Redisson fails to re-establish a connection to the Redis server.
Steps to reproduce or test case
At some point, when Redis is needed, an error is reported when trying to
Debug logs when the connection is unavailable, and redisson is trying to reconnect:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2116
Can I get the lock's owner?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I want to get the lock's owner name when i lock fail.So I can know who prevent me to get lcok.
Can i get it?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2117
Expose async entrySet with keyPattern and count, RedissonMap#scanIteratorAsync?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Async API for org.redisson.api.RMap#entrySet(java.lang.String, int)
There is only sync API available.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2118
org.redisson.config.SingleServerConfig has no public constructor
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
SentinelServersConfig,MasterSlaveServersConfig,ClusterServersConfig,ReplicatedServersConfig all has a public constructor except SingleServerConfig, it makes SingleServerConfig hard to extends. Why not defined SingleServerConfig consistent with a public constructor?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2119
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2120
Memory leak using Sentinel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am getting a memory leak when I try to connect to Redis using SentinelServer and the server is unavailable.
I create a separated thread trying to connect in a loop and the memory consumption increase over time. My RedissonWrapper code:
Simulating the error:
1 - Turn Off the REDIS SERVER
2 - Execute the code (Spring Boot)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2121
Explanation of Config connection/thread settings
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am fairly new to Redisson and had a few questions I would like clarified. I read through the documentation, but the description of config settings weren't very helpful to me.
For every RedissonClient, a connection pool is created with a set min idle size and max size. How is each connection exactly used? Does each operation use a connection? Are ops batched into one request and sent through the connection?
When we set the threads parameter (setThreads), what are these threads used for? Connecting to redis? Deserializing?
When we set the nettyThreads parameter, what are these threads used for?
What is relationship between nettyThreads, threads, and connectionPool? What are important things to keep in mind while tuning these parameters?
Thank you!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2123
Clearer documentation regarding pattern topics
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The following is an excerpt from the documentation regarding pattern topics:
The pattern string looks like a regexp even though it is a glob string, which confounded us.
Please clarify the documentation, both in the code example - for instance by replacing "topic1.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2124
Why calling releaseConnection(entry) every time when a RedisConnection is created?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
My understanding is that the counter in AsyncSemaphore should decrement by 1 when a new connection is added to the pool however by calling releaseConnection(entry) in the runnable,  the counter is added by 1, which means after minimal idle size of connections are created, the counter will be the same as it was before the pool is initialized.
Please help me understand this, as I think more than max pool size of connections would be allowed to exist in the pool, since counter is not decremented after the pool's initialization.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2125
RedisTimeoutException: Unable to send batch after 3 retry attempts
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We observe around 2qps errors (RedisTimeoutException: Unable to send batch after 3 retry attempts) that increase in a "step" up fashion. See image:
This graph is the traffic sent to redis in the same timespan:
As a side note: we are running 2 kubernetes pods, each with one RedissonClient that cumulatively are making requests/seeing the errors from the graphs above. The interesting thing to note is that for about 9hours after we start the pods (creating a new client in each) and send them traffic, they perform fine for around ~9hours and then the errors begin. We hypothesize that there is some issue in how the connections are managed.
Steps to reproduce or test case
Create 2 RedissonClient instances
Send between 400-850qps of traffic (variable) for around a day, where traffic includes batch ADD and PUT commands.
Observe failures.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2126
RedissonReactiveSubscription
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
this well always return null
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2127
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2128
after following the link we are getiing the below errors
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2129
RMapCache addListener
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi friends,
sorry if my topic is duplicated. I've looked for my question but haven't found any answer yet.
my question :  is RMapCache's onCreate event fired as a multi thread function?
for example: if I have multiple clients that produce data endlessly, is it possible to get produced data concurrently with onCreate event? or it's fired consecutively?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2130
Redis cluster health check fails while cluster is up
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a Spring-boot app with Redisson and actuator.
All system components are up and running: my app, Redis cluster, etc.
The health-check API is being called at "/health" (backed by actuator).
Please note that running the "CLUSTER NODES" command on the cluster (either with one node or several nodes) completes successfully:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2131
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2132
Permanent kv (ttl=-1) was found in Redis while using Tomcat Session Manager
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
All the timeout kv will disappear automaticlly.
Some permanent kv still alive, and whose ttl are -1.
Steps to reproduce or test case
Using Tomcat Session Manager normally
Details
First of all, after using Tomcat Session Manager for a long time, I found many kv in Redis and their ttl are all -1.
Then I cleared Redis and did a simple test, first I put config content to tomcat in context.xml, then open a page but not did login action. I found a ttl=-1 kv.
And second I did login with user name and password, I found another kv, but the ttl is session timeout second and was reducing automaticlly.
After a while (longer then timeout config value), it disappered. But another kv (ttl=-1) was still alive.
In my expected case, all the kv will disappered automaticlly. That is to say, after a long long time and if nobody do login action, the Redis server will be empty.
Do anybody has some advise for this issue?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2133
RedissonClient CreateError  in my Production Environment
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Development environment ,it run ok ,i use it well。
development-right-log, in my Production Environment it didnt work ,and throw those Exception.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2134
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2135
Use maven packaging for redisson project as jar instead of bundle
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2136
ClassNotFoundException thrown during SeriazliationCodec.decode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No ClassNotFoundException to occur
ClassNotFoundException occur during object deserialization
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2139
Purpose of returning RFuture in setupMasterEntry
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
As I'm following through the code, the method setupMasterEntry is executed in a single-threaded context, so what is the idea of the RFuture? The caller of this method is essentially "blocked" on this method until it's done. Am I understanding this right? If the caller expects a Future to be returned immediately, all the heavy-lifting work has to be done by a different thread, which is the basic idea of the Future/Promise model.
Please correct me.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2140
`redissonClient.getRedLock` does not work well with Read-Write block in a multi-JVM environment.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Then call lock.tryLock() first, return true.
Then call lock.tryLock() after the previous call has been made, now it should return false because there is a readLock under the same name.
Then call lock.tryLock() first return true as expected.
Then call lock.tryLock() after the previous one, now it return true i.e. have both write lock and read lock on the same ReadWriteLock.
Steps to reproduce or test case
As described above.
In case if this is useful information, if replace getRedLock with getMultiLock it actually works. Also if having only one JVM it also works.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2141
[HELP]Default configuration hasn't been specified!
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
startup
get error
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2142
org.redisson.RedissonShutdownException: Redisson is shutdown
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
SUCCESS
Redisson is shutdown
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2143
Redisson warning ，redis sentinel node added and down frequently！
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2144
Question about design of readWriteLock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
If thread1 set expire 5000ms ,and then thread2 set expire 1000ms, then thread2 shutdown.
In this case,thread1 will lose its lock.
I think we can change code like this
And the rwlock_timeout key will be not required.
Am I right? Where is the problem?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2145
CROSSSLOT Keys in request don't hash to the same slot
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a testing redis cluster environment with only 1 master and 1 slave. When using redisson client with RedissonBinaryStream to write byte array to redis server, we encountered the exception logged below.
Successfully write and read from Redis Cluster using RedissonBinaryStream implementation
Seeing exception:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2146
redisson fails to connect to slave node
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson fails to connect to slave node.
successful connection.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2147
Non thread-safe initialization in RedissonObjectBuilder
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Spring bean created successfully
Steps to reproduce or test case
We have several spring beans that initialise in prallel
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2148
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2149
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2150
Redisson throws NPE when host name contains underscore in it
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version 3.10.7
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2151
redisson RRemoteService.getFreeWorkers api code issue?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
it seems RRemoteService.getFreeWorkers api code issue?
from the document RRemoteService.getFreeWorkers, I get the follow description
Returns free workers amount available for tasks
Then I find the source code
are you kidding me？
why remove? it should be get
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2153
The PRINCIPAL_NAME_INDEX_NAME key is not created in redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
What I want to do is depending on PRINCIPAL_NAME_INDEX_NAME in redis to control the Spring Security's maximum session management through SpringSessionBackedSessionRegistry class.
The first look at RedissonSessionRepository.save() confused me that it is an empty method which says "session changes are stored in real-time". In comparison, the standard RedisOperationsSessionRepository.save() of spring-session-data-redis has codes to create PRINCIPAL_NAME_INDEX_NAME. In fact, these codes are in RedisOperationsSessionRepository$RedisSession.saveDelta().
The PRINCIPAL_NAME_INDEX_NAME key is created with Spring Security's principal information
The PRINCIPAL_NAME_INDEX_NAME key is not created
Steps to reproduce or test case
Using Spring Boot 2.1.3/Spring Security 5.1.4/Spring Session 2.1.4, during which the Spring Session java configuration is:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2154
Redison Deployment error
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2156
Add pendingRange method to RStream object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2157
Issue with reading record from RMapCache and ttl
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm getting a timeout when I try to read some keys from an RMapCache.  This also seems to trigger a catastrophic out of memory error in the application
This should generally print true/false, and it works most of the time.   But about 1 key out of 500 or so, this throws a timeout error.
In debug mode, I'm getting the following information, with a hard error.  If I do this on production, with this key, the server will fail within about 30 minutes.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2159
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2162
Is jdk11 Perfectly Supported?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2163
Add implementation of ReactiveSessionRepository
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2164
Containerizing Reddison client for Tomcat
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am thinking of the possibility of separating out the Reddison client from Tomcat container. Is there any way to do that? or do I always have to use RedissonSessionManager with Tomcat? I am using AWS Elasticache Redis. Thanks.
Redisson version - 3.10
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2165
All reads happening from Master even in ReadMode.SLAVE
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Reads to be disctibuted across primary + replica servers for ReadMode.Master_Slave and ReadMode.Slave
All the reads are going to primary server
Steps to reproduce or test case
We are using Aws elasticCache redis instance ( 1 primary 1 replica )
I have tried both useReplicated and useMaterSlave configs below
Also note I have tried both read modes ReadMode.SLAVE and ReadMode.MASTER_SLAVE
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2166
Bloom filter size can't be greater than Integer.MAX_VALUE*2L?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Why bloom filter bit size limit Integer.MAX_VALUE*2？not Integer.MAX_VALUE or other value?
@mrniko can you tell me the reason？
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2167
changeMaster question
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In method private void changeMaster(URI address, ClientConnectionsEntry oldMaster, RFuture<RedisClient> future), parameter oldMaster is assigned masterEntry, however on complete of the future of setupMasterEntry, masterEntry is already assigned a new value which means oldMaster changes as well. How can this oldMaster get ahold of the "old master" as the code intends? After hours of reading the code my brain is slow, so I must be wrong. Please help me understand this.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2169
Why do locks fail occasionally?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Here's how I use it：
But there are still high concurrency issues
Two of the same information is generated
Request to solve
thank
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2170
org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 3 retry attempts. Command: (EVAL), params:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
question:
when i get allvalue of a key, occured RedisResponseTimeoutException,why? the numbers of the values is 10000 or more .
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2171
Add RRemoteService.getPendingInvocations method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2172
if waitTime == -1 and leaseTime != -1，multiple threads get the lock at the same time
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
if waitTime == -1  and leaseTime != -1，multiple threads get the lock at the same time
Thank you
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2174
RStream.getInfo throws java.lang.ClassCastException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2175
Redisson throws RedisTimeoutException before timeout has exceeded
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson throws RedisTimeoutException after timeout has exceeded.
There is a race condition where Redisson may throw RedisTimeoutException after retryInterval has exceeded but before timeout has exceeded (in a nutshell when there are bursts of commands, commands will timeout even if timeout hasn't passed if retry interval is set to 0).
line 765 in CommandAsyncService seems suspect as it uses retry interval for the initial timeout value..
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2176
Hibernate 5.4.3 final
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi everybody
I'm trying to configure hibernate (5.4.3 final) with redisson (3.11.0). I use RedissonRegionFactory by default but i want that expiration.time_to_live be 10 seconds.
How should the correct configuration be?
hibernate.cache.redisson.RedissonRegionFactory.expiration.time_to_live = 10000 ???
Thanks in advanced.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2177
usage of weak ReferenceCacheMap on org.redisson.command.CommandAsyncService#CODECS  may cause frequent recreation of code
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
We noticed recently there are a lot of org.nustaq.serialization.FSTConfiguration instances around in our jvm service(with redisson 3.6 installed and FstCodec enabled).But according to the comment in the javadoc, construction of org.nustaq.serialization.FSTConfiguration is very expensive, which should be cached and reused.
After some digging in redisson's code, I get some clue, it may be caused by the implementation type of org.redisson.command.CommandAsyncService#CODECS . By design, codec construction should be limited, mostly old ones from the ConcurrentHashMap stored in the ReferenceCacheMap should get returned. But since CODECS is a weak reference cache map, the ConcurrentHashMap is possible to get removed by GC. And since there is only one possible strong reference to the ConcurrentHashMap, which is a local variable in org.redisson.command.CommandAsyncService#getCodec,  the possibility of CODECS getting cleared during a GC event is very large.
the declaration and usage of org.redisson.command.CommandAsyncService#CODECS  is included in the following snippet.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2178
UpdateValve should be installed only once, remove MessageListener from topic when SessionManager stopInternal is invoked
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
UpdateValve valve should be installed only once for tomcat pipeline but if there are multiple web application each one will instantiate a new RedissonSessionManager and each startInternal() will install it's own copy of the UpdateValve, more over the UpdateValve  have back reference to RedissonSessionManager, so remove this reference in order to have only one UpdateValve installed for the tomcat pipeline and allow proper RedissonSessionManager garbage collection.
When we have Redisson client set in JNDI which is shared between web applications we need to remove MessageListener from the topic when web application is deinstalled during stopInternal method of RedissonSessionManager
Each web app will create it's own RedissonSessionManager instance which will result in multiple UpdateValve instances installed into tomcat pipeline
MessageListener is not removed from redisson topic which will cause web application class loader memory leak as MessageListener have reference to codecToUse which in turn have reference to application class loader
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2180
Subscribe timeout - after master re-election
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Please delete this issue, needs more work before filing. I cant delete myself.
see #2181
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2181
Subscribe Timeout Exceptions - After master Re-election
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
None, or fewer Exceptions (just during failover period)
After a master re-election (and not otherwise) a constant percentage (about 1%) of the requests fail with this exception until the Redisson client is re-initialised manually with a pod bounce.
Steps to reproduce or test case
I'm running 3 redis (master, slave, slave) alongside 3 sentinels.
I'm running a constant load of requests through a redisson client which can run indefinitely without any issue. 
When I introduce a chaos script to trigger a failure of the master and thus a master re-election I start to see the errors, yet only for a very small percentage of the requests (but that percentage remains constant indefinitely until a manual restart of the redisson client happens)
Each request acquires and releases an RLock with a chance of collision with another request being 1 in 100.
If I lower the collision probability to be 1 in 10000 this problem almost completely disappears to the point where I lose only perhaps a single request, during the failover period (which is the expected behaviour for the higher collision case also)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2182
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2183
@Transactional and RLock.unlock()
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
As can be seen from the above, transaction committing occurs after the unlocking operation. Is there a possibility that other threads will have concurrent problems because the thread has been unlocked before the transaction has been submitted?
I tested it with JMeter and found no concurrency problems between unlocking and committing transactions.If you know, please let me know. Thank you.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2184
ignore
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2185
add default entries in MANIFEST.MF file and extra Build-Time entry as well
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Currently there is no way to tell when a jar file has been build - This feature request is to add Build-Time manifest entry so that we could tell when it was build/rebuild as often if release version is not changed (e.g. providing patches via rebuild of the master code) once the modified version of the jar file is created we can't tell if it contains the fixes or not by simply having a file inside the jar to tell us when it has been build. Also some of the jars that are created do not have the default implementation entries and/or specification entries
Each jar to have default implementation/specification entries and have a build time - optionally if we have git branch / commit into MANIFEST.MF would be beneficial as well.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2186
distributed web application will throw exception if the session attribute value is not Serializable but we are having Codec that serialize the attribute values using different approach than java Serialization
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
If we want to serialize object with codec other than SerializationCodec as the values are not Serializable for example and if the web app xml have the distributable tag when we try to set attribute into the session that is not Serializable an exception will be thrown that the object is not serializable.
Redisson codec other than SerializationCodec and web application that have web.xml tag distributable
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2187
RedissonSession setAttribute do not check if the value is null before removing the attribute name from removedAttributes collection
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RedissonSession setAttribute do not check if the value is null before removing the attribute name from removedAttributes collection
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2189
Microsoft Azure and Redisson: Unable to init enough connections amount
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Context
We are in the process of migrating to Microsoft Azure and are planning to make use of the Azure Redis Cache. Because of this, I am in the process of investigating Redisson and have been for the most part impressed by the performance and feature set.
However, I have been running into this intermittent issue for a few days now. Every now and again, when the application starts up, Redisson will throw an error, telling me that it's only able to initialise 31 of 32 connections. My experiments with Lettuce didn't seem to run into anything similar to this.
Anyone have any thoughts or suggestions on things to look into to resolve this? Is there something particular about Azure Redis Cache that might need to be configured? Does Redisson need all 32 connections or would reducing the required number potentially resolve this?
Successfully connects to Redis every time.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2192
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2193
Suggestion
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Jdk1.7 is still used a lot, what is the corresponding version?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2196
Can't seem to run Redisson tests on OSX Mojave 10.14.2
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Should be able to run the tests using mvn or intellij on OSX
After uncommenting line 245 in RedisRunner, I see these output lines repeating forever instead of a test being run:
Steps to reproduce or test case
I've tested the redis-server commands as expected to be run via Redis Runner manually on the same environment and see no issues starting the redis process, it seems like there is some issue when the tests are running the same commands though, via ProcessBuilder.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2197
Command execution timeout for command: PING
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am experiencing a lot of command execution timeout exceptions mainly for PING as well as other operations intermittently.
I have been back and forth with AWS customer support and I can conclusively say that there exist no CPU, memory and N/W constraints that were faced during any of the timeouts seen.
Further, we have captured and analyzed the TCP dump on the client side to reveal nothing on the network side.
Any help in this regard is much appreciated.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2198
RKeys getKeys block with empty REDIS
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
getKeys should return even with an empty redis
getKeys block and never return
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2199
org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (10000 ms) occured after 3 retry attempts.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2200
HGET implementation in Redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Apologies if this is something simple that I've missed out
Have been trying to figure this out for a while but can't.
Trying to simply get the value associated with field in the hash stored at key as described in the documentation for HGET
The code used is
However, it seems like this implementation fetches all values stored in all fields in 'myHash' instead of just the value stored in field 'a'. Unsure if this fetching of values happens during redisson.getMap ( More likely ) or map.get()

Redisson issues only one HGET and retrieves only the value of field 'a' in hash 'myhash'

Redisson seems to be fetching values of all fields in 'myhash'
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2201
Can't execute SENTINELS commands, only happens to the last sentinel server
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm using Redis with 1 master and 2 slaves, watched over by 3 sentinels on 3 ports 8359, 8360 and 8361 from a single node. When executing through redisson the program works perfectly fine except that every now and then it spews out this error:
This doesn't really affect anything so far, the sentinels still send data properly to the clients but I have ever wondered what might be the cause of this? It only happens to the last port 8361, the two other ports are unaffected albeit on the same node.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2202
Why do you reinitialize the time of the previous lock when unlocking?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2203
Why do you reinitialize the time of the previous lock when unlocking?？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2204
Error creating bean with name 'redissonClient' defined in class path resource
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2205
org.redisson.client.RedisTimeoutException:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2206
Redisson 3.10.7 & FST 2.57 - Data is not cleared from ThraedLocal while using Serialization of FST library
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When we are saving some data in redis using FST codec then data is not cleared from ThreadLocal after data saved to the redis. This is causing issue of OutOfMemory as tomcat thread's ThreadLocalMap is filled with huge data which was used while FST serialization.
Detail:
Main code requested for putting some data in Redis.
Redisson uses FST serialization to serialize data and then stores into Redis.
FSTObjectOutput which was used while serialization has stored data in ThreadLocal object and it has not cleared data from ThreadLocal after it was saved in the Redis.
I can see ThreadLocalMap contains all the data which was used while FST serialization. Please see below snapshot of heap dump:
Ideally it should clear the data from ThreadLocal, once the data stored in Redis.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2207
o.redisson.client.handler.CommandsQueue  : Exception occured. Channel:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2208
How to disable info logs in tomcat 9.0.21?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In Tomcat 9.0.20 the setting in logging.properties is respected, but in 9.0.21, it is ignored.
Don't log INFO. Only Warning, Error, Severe.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2209
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2210
RMap write-behind service may execute "put" and "delete" in different order
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The order of tasks is not preserved, which is pretty critical if the same key was both added/updated and deleted. Looks like tasks are accumulated in two separate batches, each one is flushed once full. If there are no more incoming tasks, then "deletes" are always executed first.
Check sample code in "steps to reproduce".
In the sample code below I'd expect it to print:
Btw, setting batch size to "1" fixes the issue, which makes sense - all tasks are carried out with delay but exactly when received, so the order is preserved.
But without batching "write-behind" feature isn't really that useful.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2211
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2212
CommandBatchService Execute Error
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2213
how to recover semaphore release failed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
if a semaphore release failed (shutdown or net not available)，it's there any way to let the server recover the permits? just like expired in Lock
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2214
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2215
renewExpiration not working when manually delete key
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
renewExpiration normal

1.Multiple spring boot services have been started
2.Get the lock every 2 seconds
3.After the lock is acquired, the lock key is removed through the redis client
4.After deletion, the first few times can be normal, or it may not update the expiration event
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2216
batch.getKeys().deleteByPatternAsync does not work
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am new in Redisson, so probably it is a dumb question.
Please give it a look.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2217
return null when not used in pipeline / transaction
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2218
RRateLimiter RateConfig  Forced update
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I hope there is a way to force  update RateConfig. for example add a method ? forceSetRate
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2219
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2220
Local Cache implementation issues
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, I was trying to implement local cache in my spring application and saw that eviction support is not supported in open source version. But that's okay, I tried to set cacheSize and syncStrategy in LocalCacheOptions, but that also didn't work.
So my question is are all options for the local cache are included in the redisson pro pack only?
Because I was not able to configure the sync strategy. I set it to NONE, but regardless of that, it was syncing to other JVM machines.
Also, some other doubts, in some code provided in your documentation:
This doesnt compile in java spring app.
Please provide the resolution asap!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2221
Redisson 3.11.1 with Java 11 and JsonJacksonCodec throws FST errors
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No errors in log
I start up my application and this error appears. Why am I getting this when I am not using FST codec?:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2222
How to get the slots range of the ClusterNode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I want to get the ClusterNodeInfo contains the slots range info.
Now i could only get the slots range info by the java reflect.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2223
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2224
RLock unlock with a different thread that the one that locked gives: attempt to unlock lock, not locked by current thread by node id
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm using RxJava and as a part of the sequence I use a RLock, at some point (in another process) I unlock it and if the thread to unlock is not the same as the one that blocked I get an exception (see below).
I see that the lock has been done using the pool of redisson-netty, and the unlock is done by the same pool, but there are several threads in that pool, so any thread can potentially perform the unlock.
That should be as simple as tryLock and unlock without having to control anything else right? Do we have to do something specific to ensure the proper behaviour?
The lock gets unlocked regardless the thread that did the lock

An exception is thrown and the lock is not unlocked
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2225
How can i use redisson If EVAL is disable?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No error
How can I solve this problem if the DBA disable this command EVAL? He will not able this order for security reasons, he said.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2226
Unable to configure Redis to keyspace notifications
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, I'm using Redisson and it works fine in dev environment because I use default config of redis. But when I deploy my app in stage environment it failed to start. The error message is "Unable to configure Redis to keyspace notifications" and I think this is caused by disabling the CONFIG command in the Redis of stage environment. The command CONFIG was disabled by renaming to another wired name so we cannot use that command. But when my springboot app starts, redisson try to set the config keyspace notifications, is there any purpose of this behavior? If I don't want to use event subscription, how can I disable this feature to avoid this Exception?
Thanks in advance.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2227
o.redisson.client.handler.CommandsQueue  : Exception occured. Channel:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Dear sirs, When I just start a simple Demo with Redisson and SpringBoot v2.1.6.RELEASE according to the example of redisson with springboot In GitHub ( where is refence: https://github.com/redisson/redisson/wiki/14.-Integration-with-frameworks#149-spring-boot-starter), But I run a unit test In my project@SpringBootTest, The test result is OK but throw java.io.IOException below, my redis server is a single localhost not remote or Cluster;
What's The problem of this configuration ,Please help me;
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2228
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2229
Cann't find yaml config file in Springboot when config is not in classpath
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2230
Session behaviour mismatch - Redis + AFTER_REQUEST
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson session manager should return actual value of value persisted to session.

Redisson returns null for every value previously saved.
Steps to reproduce or test case
but accroding to my opinion, it should return "abcd"
If I use readMode = MEMORY, it is somehow working but currently, I´m experiencing issues with synchronization => getting outdated session / not latest data. So I tried to use readMode = "REDIS". I would expect session to be on every request fully loaded from Session, during request are made to the memory object and at the end, it should be push to Redis.
Maybe it is not a bug, not sure, whether it is intended or not. Otherwise, could you advise how to solve? Or tune config somehow to eleminate outdated session data?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2231
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2232
How do I use Redisson with SSL enabled?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
I'm trying to connect to my Redis provider with SSL. I've downloaded the pem file provided by my Redis provider, and this is how I'm setting up Redisson:
And this is the error I'm getting:
Does anyone have an idea about what I should do here?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2233
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2234
org.redisson.client.RedisNodeNotFoundException: Node: NodeSource hasn't been discovered yet
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello. I am using redisson to connect to redis cluster. However, while I am reading from redis (via redisson), I shutdown one of master instance. So I get this error:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2235
Live Object List inside LiveObject not expiring
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a java.util.List of LiveObjects under a LiveObject. Marking parent LiveObject expires it properly however LiveObjects under the List (inside Parent Live Object)  are not expired and i am explicitly expiring them, is this going to be supported any time soon if not supported already?
Also even if i set expiry of List Objects, List itself remains present in redis DB.
How to handle such scenario as i don't see an option to add listener for RLiveObjectService persisted Objects?
Also is there a way to have the @Rid field part of key (instead of enoded key) in Redis as i need to access the keys from another non java application?
Having key as "redisson_live_object:{fc093839}:com.test.abc.A:Id:java.lang.String" doesn't allow me to build search capability by Id outside java application.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2236
How to properly implement rate limiter hasPermits
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Using Redisson latest.
We have queues with messages in them to be sent to 3rd party APIs. We are using the rate limit functionality to prevent 429s from the 3rd party APIs. When we do get a 429, we re-queue the message and try again later. After several retries, it ends up in a DLQ. To prevent this we wrote a hasPermits method on a wrapper around RRateLimiter and RAtomicLong where the atomic long points to the "{" + rateLimiterName + "}:value" key. We then use hasPermits to test whether we should poll the queue for messages or not.
We are now on our 3rd implementation of this method and want to double check it for correctness and/or ask that it be added to the RRateLimter interface.
Our 1st implementation simply checked RAtomicLong::get > 0 . This failed because an uninitialized RRateLimter did not have the corresponding atomic long key and always returned 0.
2nd implementation:
If false we called RRateLimter::tryAcquire(1) because tryAcquire would create the atomic long if it was not present with the correct value and TTL.
If tryAcquire succeeded, we put a token back with RAtomicLong:: incrementAndGet. This caused an edge case where the TTL expired, the key was deleted by Redis and the incrementAndGet created a key without a TTL.  The value would then get decremented to 0 by the next tryAcquire and the rate limiter would never show any available tokens. This probably could have been prevented by using a Lua script or a batch/pipeline.
Our 3rd implementation seems correct, but we want to double check since we've had so many issues. We now:
if -2 (not present), then return true as the next call to RRateLimter::tryAcquire will (re)create the atomic long with the correct number of permits
if -1 (key present, but no TTL), we set the TTL using the configured rate interval. This step would not normally be necessary except to fix the bad atomic long keys created by implementation 2 above.
return RAtomicLong::get > 0
We think this 3rd implementation is now correct, but could be improved by using a Lua script or batch/pipeline to perform the check in a single round trip to Redis. Any feedback would be appreciated. If this could be added to the RRateLimter interface, that would be even better.
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2237
[CLuster Node]redisson.getPatternTopic only subscribe one master node channel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
only subscribe one master node pattern topic because only use one connection that node map hash slot
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2238
RedisTimeoutException on HMGET
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello @mrniko
We are seeing a lot of RedisTimeoutExceptions with below log snippets
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2239
isExists always return false (only RLock return true when locked)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
sample code
RLock always work in all redis deploy mode
when we add set mode to MASTER exist return true as expected
clusterServersConfig.setReadMode(ReadMode.MASTER);
redis command works fine
exists and gets return datae
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2240
CROSSSLOT Keys in request don't hash to the same slot. channel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2241
RX and Reactive Set Intersection `java.lang.ClassCastException`
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Both Rx and Reactive versions of RSet throw java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap') when using intersection(String... names) method.
I think this is happening because org.redisson.RedissonSet#intersection returns an int
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2243
ERR This instance has cluster support disabled.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Giving error org.redisson.client.RedisException: ERR This instance has cluster support disabled.
 should connect to the give cluster of two nodes
Steps to reproduce or test case
Adding stacktrace
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2244
Redisson map operations are very slow
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Example program inserts 50,000 records into an RMap in under a minute (in under 10 seconds if possible).

Example program never completes.  This example is similar but not exactly what we're running.  The real program takes up to 3 minutes to insert 50,000 records.  What am I doing wrong?
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2245
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2249
Not all methods have a async variant
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
What's the reason that not all methods have a async variant? For example, .getKeys(), which calls .get(RFuture) and return the result.
Redisson version: 3.11.1
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2250
redission ScheduledFuture can not be execute after definite time
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

complete the ScheduledFuture after ten seconds
the schedule task above can not be executed after 10 seconds, the current thread beign blocked
Steps to reproduce or test case
using spring boot org.redisson.spring.starter.RedissonAutoConfiguration, just configure redis host and port in properties file.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2251
Expect redisson-spring-boot-starter to be more optimized
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
the redisson-spring-boot-starter ‘s configuration is too simple，Configuration files have to be introduced to configure more features. such as codec、connectionPoolSize and timeout, It's too complicated to introduce more configuration files, Hopefully it will optimize the configuration in spring-boot environment.
Thank you verify much!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2252
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2253
Redisson issue on Spark
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Successfully write and read data from Redis Cluster throught Redisson inside an appache Spark App.
Thanks for your Help !

Failing  with this stack trace when trying to write about  more than 20 items
Everything is OK when limited to about 10 items
Thanks for your help
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2254
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2255
Eviction support in JCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Right now there seems to be no Eviction support in JCache , where as MapCache supports eviction. Is there any reason for not supporting eviction in JCache ? Are there any plans to support it ?
If there is no eviction support in JCache , what happens when the cache reaches the max memory limit of server?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2256
RedisNodeNotFoundException thrown on Redis Cluster restart
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, I am currently experiencing an issue with a Redis cluster on Redisson 3.11.2 while testing how our application will handle major outages.
I am providing the cluster config with the address of one of the master nodes. On app startup, it successfully finds all of the other nodes on the cluster. However, if I take down the entire cluster and restart it, Redisson will fail to reconnect to the cluster when it comes back online, throwing a RedisNodeNotFoundException whenever it tries to contact Redis. (see  for stack trace).
The application reconnects successfully when using a single server setup.
I found this similar issue, #2234 but upgrading to 3.11.2 has not fixed this for me.
Redisson successfully reconnects to the cluster after the cluster restarts.

Throws the following error every time the application attempts to communicate with Redis:
Steps to reproduce or test case
Create a RedissonClient with the config specified below. Stop the cluster and restart it.
If I've missed something or you'd like more information let me know.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2257
none·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2258
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2259
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2260
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2261
Support for rediss:// when using Sentinel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Just wondering if Redisson officially supports the use of rediss: for Sentinel? I can't see the use of that protocol mentioned in the Sentinel setup documentation whereas it is for cluster mode. Also it seems like there are some places where the redis: protocol is hardcoded in Sentinel-related code.
For example in on line 486 of SentinelConnectionManager.java:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2262
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2263
Upgrade from 3.6.4 to 3.7.3 and receive default configuration hasn't been specified.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a redisson-jcache.json in the root of the classpath. The only difference is the library version moving from 3.6.4 to 3.7.3.
Here is the contents of the config file.
This file is located on the file system in a directory which is configured to be read by tomcat. It is found in 3.6.4. I tried copying it to the webapps WEB-INF/classes directory and it still cannot find it so I don't think that is the issue. I have a redis server running locally inside a docker container with tomcat so I know there are no additional changes to the environment. The base docker container has not changed, only the war file with the new redisson version.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2264
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2265
Large number of Connections opened to redis in case of load 65 ·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Connection count should remain stable even during load due to connection pooling.

When the application is load, there is a spike in number of connections to redis. This starts causing redis timeout exceptions in the application.
Cache manager implementation
Following is how we have implemented the cache manager which is used to handle data transfer to and from redis.
Every time there is a request to get and put things from/in cache we get an instance of RMapCache from redisClient and use that for the operation.
This map is not singleton or pooled. Since this map is instantiated for every request is this causing the spike in connections?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2266
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2267
subscription data loss 67 ·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson toptic.addListener；Subscribers can receive each piece of data in succession;
Subscribers can only receive a few pieces of data and stop outputting content and the idea console without reporting errors. But on linux, all data can be subscribed to by a client directly connected to. / redis-cli.sh.
Steps to reproduce or test case
lose data ,disconnect, listener ,redisson,topic
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2268
org.redisson.client.RedisConnectionClosedException: Command (EVAL), .... succesfully sent, but channel [..] has been closed 68 ·
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

I have three reids nodes, and I have configured three sentinel, now Redis fairLock for redisson, and I tried the following exception multiple times. Redis port my telnet communication is normal.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2269
when I unlock the lock, accept an exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
somebody can help me ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2270
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2271
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2272
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2273
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2274
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2275
the redission can not shutdown
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use single mode redisson to test batch function. However after I have finished the test, I can not shutdown the redissonClient. In the test, if I call rfuture.cancel(), then the redissonclient can not shutdown. If not, it shutdown normally
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2276
"ERR max number of clients reached" exception while using redisson jcache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am using Azure c0 redis instance which has maxClients value set to 250 , which cannot be changed. Now I have an application which uses Jcache implementation of REDIS for caching. Below is the code of redis cache creation:
But when I do a load testing with just 10 users for 10 minutes on the cache I and facing "ERR max number of clients reached" issue. Here is what I have observed, whenever I create a cache instance through the above code, 32 new clients are being created and that is the default value of "connectionMinimumIdleSize" property in redis. But according to the API doc , this property is
"Minimum idle Redis connection amount" and I believe that this number of clients shouldnt be created.
Any help here is appreciated.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2277
ClusterConnectionManager question
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Method checkMasterNodesChange is assuming if slots of a partition is to have a new master, then all slots of that partition will have that new master. What if slots of this partition (in previous cluster configuration) are now distributed in different partition/master in the latest cluster configuration?
imagine for slots in currentPart, find method returns multiple different newMasterPart. In this case, do we have a messed up configuration? Please explain. Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2278
RedissonFairLock deadlock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Seems related to the change on #2099.
We have tried to upgrade to 3.11.2 from 3.10.7 and this behavior started occurring.

The FairLock acquired on high load system without lease time defined.

Redisson does not handle the case of Fair lock without lease time (on high load).
when many different threads are asking for the same lock key the client is stuck and no thread acquires the lock.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2279
default Config constructor not using any Codec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Using FstCodec as default Codec if not specified
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2280
How to access localCachedMap wit RedissonBatch?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
is getLocalCachedMap not available with rBatch? or is rBatch.getMap() and rBatch.getMapCache() good enough to getLocalCachedMap reference?

rBatch.getLocalCachedMap() is available

Only rBatch.getMapCache() and rBatch.getMap() is avaiable
will using rBatch.getMap() return a local cached reference or will it actually fetch from redis when rBatch.execute is called?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2281
why the ansy method can not ensure insert data crectly
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
inert data fast and crect
can not ensure insert data crectly
Steps to reproduce or test case
Redis version
I used geospatial method(redisson.getGeo and geo.addAsync) to write data with a data size of 50 million, but found that redisson could not guarantee that all data were written every time.
//In debug mode, I found the futureTask: some compled normally , completed exceptionly, and some unfinished
Meanwhile, I also conducted experiments in the multi-node redis environment, and redisson could not guarantee that all data were written.However, it's only when I'm using the geo. Add () method and I'm writing multiple threads based on Thread class that I can make sure that all the data is written properly.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2282
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2283
Add JBoss Marshalling codec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2284
redis cluster: RedisConnectionException: Not all slots are covered
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
environment
test
I test in redis cluster based on redis 4.0.3 and redis 5.0.5, the error is same。redis.conf:
analysis
I guess the error is beacuse redisson use one of my configuration node(8001) to connnet to redis cluster,and then executecluster nodescommand on that node(8001) to get other nodes,not direct use the nodes in configuration。But the node(8001) where cluster nodes is executed always return  private ip(172.16.30.41) while other node's ip is public ip(149.129.48.110),just the same as nodes.conf of 8001.
error
redisson log:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2285
java.lang.AbstractMethodError: org.redisson.spring.data.connection.RedissonReactiveRedisConnection.close()V
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


Steps to reproduce or test case
spring boot version：2.0.9.RELEASE
when i boot the application，i got this
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2286
Circuit Break Hibernate L2 cache, if redis is unreachable.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Redis server becomes unavailable, usage of L2 cache should be bypassed and the application should continue to run.

The whole application goes down, Hibernate can't function. Keep getting connection timeouts.
We have to manually turn off L2 in app config and redeploy the application, this could be prevented by using a circuit breaker.
Steps to reproduce
While the application is running, kill the redis server.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2287
Prevent "split brain" scenario with HA-proxy
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
With the use of HAProxy server, Redis Sentinels can be configured to allow for automatic failover between the master and slave Redis replica instances for high availability.
HAProxy comes with built-in TCP health check feature for Redis to perform an automatic failover. To avoid having to change Redis IP/Port in the front-end client application after each failover, I have setup HAProxy with the TCP health check to test if a Redis instance is a master or slave. This setup is needed to make sure it only proxy connections to an active master instance. More Info here

Running in the replicated mode, this causes split brain and redisson fails to start with an error "Multiple masters detected".

Redisson should to be able to connect to the ha-proxy ports and run without split brain.
Steps to reproduce or test case
Use HAProxy and Redis Sentinel for automatic failover
Replicated Servers Config with nodeAddresses of ha proxy port
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2288
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2289
query about Redisson at scale
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Planning to embed redisson in each of my application instance.  I want to know how redisson behaves in following scenarios.
Q1) a. If application instances scale to a number of 100 or more will there by any challenge from redisson side?
b. Do redisson instances  talk to each other over network? Then such scaling can cause problems.
Q2) If node 1 created a redisson object , are there any restrictions on usage of same object on another node in a big cluster?
Q3) In a big cluster are there any challenges if some of applications instances are shutdown or terminated abruptly?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2290
Spring boot 2.1.7 failed to startup with redisson-spring-boot-starter 3.11.3
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2291
Spring boot 2.1.7 failed to startup with redisson-spring-boot-starter 3.11.3
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Spring boot starts successfully and works normally

Connected to the target VM, address: '127.0.0.1:63319', transport: 'socket'
but it works well with redisson-spring-boot-starter 3.10.7
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2292
LockWatchdogTimeout will cause the IllegalMonitorStateException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redis version: 3.0.504
redisson version：3.11.1
setLockWatchdogTimeout will cause the IllegalMonitorStateException
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2293
Did not get Connect callback in high load
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Callback for connect should come after reconnecting

Never got connect callback after disconnect CB even server is working fine. (Although Redis server is never disconnected ... I don't know why disconnect CB also come)
Steps to reproduce or test case
Add Callback listener to Redis nodes.
Add 10k data in 1 second to different keys. and observe.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2294
DNS
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2295
DNS resolve error
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

I used redisson master/slave mode and get dns resolve error.
I init the client as followed:
I have 4 master/slave redis nodes(rs1,rs2,rs3,rs4). I found that the program failed 4 times and after that the program successed! The dns resolve failing was from rs1 to rs4 and I guess because I set different DnsAddressResolverGroupFactory instance for each redisson client config, so each redisson client failed one time.

Here is the error:
I want to know why this happened and how to make the program work success at the first run time.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2296
org.redisson.client.RedisTimeoutException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
org.redisson.client.RedisTimeoutException:
Unable to send command! Try to increase 'nettyThreads' and/or connection pool size settings
Node source: NodeSource

Not seeing this error

After running for days in hundreds QPS, this kind of error emerges.
Steps to reproduce or test cases
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2297
is this a typo of how to install via pom.xml?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
I found a typo of how to install via pom.xml in "Used by",  which maybe is missing a letter "r".
Is there such a version for "redisson-3.11.3" in maven repository? I could't find it in mvn repository.
if this is a typo, please help out revamp.
thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2298
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2299
Redisson netty thread consumes ~100% CPU with RedisTimeoutException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
The issue being faced is that redisson netty thread consumes ~100% CPU and when a redis operation is performed we get RedisTimeoutException.
In the current set up,
3 redis sentinels and 3 redis servers
2 pods with our application that uses redisson client.
Out of the 2 pods only one pod seems to have this issue.
The pattern of the issue is that it runs with .1% CPU utilisation for few days and,
suddenly there is increase in CPU usage which hits 100%. Once it reached 100% all redis operation fail with RedisTimeoutException.
The CPU utilisation drops down back to .1% if the pod is restarted and the issue doesnt appear for few days.
If the pod is not restarted CPU utilisation continues to be at 100% throughout.
This is happening irrespective of the load even for as low as 1 request per minute.
The exception being faced post high CPU usage is
Redisson netty threads should not consumer 100% CPU, even if it does should release it eventually.
And we should not be having RedisTimeoutException.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2301
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2302
Is there any requirement for the version correspondence between Redisson and redis?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2303
3.11.3 Constantly repeating sentinel WARN
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

I should not see any warnings in my logs.

after I had updated Redisson from 3.3.1 to 3.11.3, it started constantly repeating logs, never ending:
Steps to reproduce or test case
we have 9 sentinels. One of these sentinels, the special one, redis://10.76.155.139:26379  is deployed on the same machine as the application itself. I think this is the key to understand the problem. We use docker for redis, sentinels and application.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2304
threads blocked waiting on CountDownLatch
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
We are facing an an issue where some threads get blocked indefinitely waiting on the CountDownLatch in CommandAsyncService.get(). Relevant section of the thread dump:
The reason for why the requests aren't able to complete isn't relevant here (we are deploying redis in kubernetes, and are working through various upgrade/failure scenarios that currently can result in severed connections). However, it's strange to me that the CommandAsyncService.get() method doesn't respect timeout configuration, and simply calls l.await().
Is there any way around this? Please let me know if I am misunderstanding the situation.

CommandAsyncService.get() should throw an exception if the future is unable to complete within a timeout.

Many threads are hanging indefinitely in the CommandAsyncService.get() method.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2305
Jackson mapping for Config raising java.lang.reflect.InaccessibleObjectException with Java
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Reading properties from a config file and mapping them with com.fasterxml.jackson.databind.ObjectMapper.convertValue() to a Redisson Config to be working fine.

It seems like with Java 9 module system using reflection is not as safe as before. We are running Java 11 and the following exception is raised when using com.fasterxml.jackson.databind.ObjectMapper.convertValue() to create a Redisson Config from a Map (properties loaded from a config file).
The exception is raised when trying to create a ClassLoader (which is needed in the Redisson Codec) via reflection.
I would like to know if there's any other way to easily create a Redisson Config based on a config file without having to hardcode every property.
If you have something in mind which can be implemented here to avoid this kind of issues we are more than happy to contribute a PR.
Steps to reproduce or test case
We still can't reproduce this with a clear example, in some of our Java 11 apps we can convert to a Redisson Config, but in other ones the above exception is raised. So we are still trying to figure out how we can reproduce this consistently.
That said, the piece of code is something like this:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2306
thread blocked at closeNodeConnections
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
The call to closeNodeConnection waits indefinitely on call to MasterSlaveConnectionManager.closeNodeConnections.
Section from thread dump:

MasterSlaveConnectionManager.closeNodeConnections should throw an timeout exception if the same is not able to complete within a configured timeout.

Thread hangs indefinitely at the request.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2307
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2308
ExecutorOptions.taskRetryInterval not working as expected
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

When submitting task with taskRetryInterval option set, the task should run on the next available Redisson executor node when the original executor node was killed.

The task is not retried on the next available worker. Also when the worker node is started again it will run duplicate task on all the available worker nodes.
Steps to reproduce or test case
Submit JobA and then start 2 instance of the Worker lets say Worker1 and Worker2. When Worker1 is running JobA kill that worker, now the Worker2 should try to run the JobA after the taskRetryInterval, but it does not. Now start Worker1 again, Redisson will duplicate the task run on both Worker1 and Worker2.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2309
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2310
Tomcat-Error on getSession
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Errror on get saved session
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2311
RedisOutOfMemoryException caused inconsistency
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson and redis are used ONLY as cache by spring @Cacheable(value="xy", key="ab") annotations.  TTL is set to 10min. no manual access or manual redisson commands are written in code.

after catch RedisOutOfMemoryException redisson evicts old keys to make more space, because redis cannot handle outOfMemory due to redisson creates key "xy" that represents whole cache name and ttl is not set for this key. Value of this key is "map" that contains cache our keys "ab" and cached values. There exists also other redis key with prefix redisson__timeout__set:{xy} that holds TTL.

after RedisOutOfMemoryException there is inconsistency that stored records are alive and is returned from cache after 5 days even we have TTL only 10min. Maybe because redisson first put value to xy cache and next put TTL value to redisson__timeout__set:{xy} cache. if write to redisson__timeout__set:{xy} caused OOM exception then record in xy cache will stay alive forever.
Steps to reproduce or test case
set redis max memory to low value and store bigger data to cache.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2312
when aquire redisson lock , that throw redis response timeout sometimes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson.2.2.13
when occouring this problem,the redis has not much qps
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2313
Rate Limiter wiki misleading example
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In , the example is:
5 permits per 2 seconds
Should it be the following?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2314
Graceful handling of failures for Redisson Tomcat Session Manager
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am using Redisson's Tomcat9 session manager going against Azure Redis Cache
with readMode=MEMORY and updateMode=DEFAULT .
This is mainly for session failover in case a server fails. Sessions are sticky, and so during normal operation, all session reads should be local within Tomcat.
Occasionally all of our Tomcat instances experience Netty timeout errors and requests to Redis fail.  This causes a complete failure of the application, as sessions are unavailable. This failure seems unnecessary, since the session data is available in local Tomcat memory and is not dependent on Redis (except in the case of failover)
Is there any way to get Redisson session manager to circuit break if calls to Redis fail or time out, and fall back to using session data from local memory ? The exception is below. Any help would be appreciated. Thanks!

Redisson Session Manager should fail gracefully and fall back to local memory if Redis calls fail, and Tomcat requests should succeed

All Tomcat requests that use the http session data fail
Steps to reproduce or test case
Issue is intermittent, but occurs when calls to Netty time out
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2315
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2316
DNS issues occuring sometimes with Elasticache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
We are running in to DNS resolution failures sometimes.
The redisson configuration details are as below
Can you please look in to this. This is happening intermittently(nearly 50% of times)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2317
How to resolve error "ERR unknown command EVAL"?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redis version
The exception I see is:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2318
Unable to inject SpringBoot beans or use any other Bean in Tasks that doesn't implement Serializable
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I've tried running tasks Runnable/Callable that have autowired dependencies from SpringBoot and I get serialization errors on scheduling tasks or null pointer exceptions when tasks are about to execute.
I've crawled through documentation very carefully and I've even noticed there is some invalid documentation examples.
Please check out in your documentation Section 9. , 9.4.3. Distributed scheduled executor service. Scheduling a task with Spring beans.
Example code is invalid and it doesn't work.
To summarize:
Is there a way to create Callable/Runnable tasks that have SpringBoot beans as dependencies autowired - Important: that they dont have to implement Serializable interface.
Thank you.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2319
On Reading Locks
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Multithread concurrency can be unlocked successfully

Multithread concurrency with only one thread successfully unlocked
Are there any problems with the script here?
When a thread finds the corresponding key, it deletes the whole key. Is it impossible for other threads to find it?
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2320
CommandDecoder : Unable to decode data, command: (SMEMBERS)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Code
Exception
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2321
Only one sentinel connected in Sentinel Mode using JSON
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Redisson add all sentinels

Add only the first one, ignoring the other two.
When the added sentinel and the master fail, even if fail over happens normally with the other 2 sentinels, redisson dont reconnect.
Steps to reproduce or test case
Configure de redisson with Tomcat
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2322
RRateLimiter does not provide way to overwrite config
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

RRateLimiter does not have a setRate/setRateAsync method.
It only has trySetRate/trySetRateAsync methods, so once a rate-limiter's config is persisted to Redis, it cannot be overwritten.

Invoking RRateLimiter.trySetRate twice with different rate-limiter configuration values does not overwrite, since it uses HSETNX instead of HSET operation.
Steps to reproduce or test case
There is no way to overwrite the existing "myRateLimiter" with a different rate, besides modifying the rate limiter name
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2324
Add support for gt, ge, lt and le conditions to LiveObject search engine
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2325
java semaphores's performance differs a lot in fair and unfair mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use a semaphore in a complex system with 300 permits while the background workflow has 1000 concurrent requests. It takes about 7ms for processing after permit acquired.
For unfair semaphore, the delay for acquiring the permit is less than 1ms while delay for fair semaphore is more than 30ms.
I understand unfair semaphore may have a slightly better performance. But why it differs so much?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2326
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2327
RBlockingQueue.take doesn't throw InterruptedException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2328
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2330
Writing hashmap using redisson client and retrieving same value using redis-cli
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi  ,
I am using following code:
I can get the same value back using redisson , But when i see all values using redis-cli , i see following:
How could i avoid this serialization or encoding of data so that i can access the data using some other redisson client ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2331
Session can't be found
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Session xxxxxxxxxxxxxx can't be found

get session from redission

But i found key 'redission:tomcat_session:2905FF64FAF76CCF89DC2FF4CDE7BFB9' in redis client
Steps to reproduce or test case
1、restart tomcat
2、access other tomcat
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2332
Difficult with basic operation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Dear all,
I tried to test with redisson lib but I saw lack of basic example.
In redis I set String value, for example SET testkey testvalue.
How can I use redisson to get  the String value of testkey?
Here are my code:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2333
After restarted a slave node of cluster, redisson could not recover from "RedisConnection is not active" exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

The redisson should reconnect and query without exceptions, after the slave restarted.

By contrast, the servers using redisson v3.7.3 recovered as expected.
Steps to reproduce or test case
The redis cluster are composed of 3 masters with 3 slaves.
I did cluster failover on the slave, after the master and slave switched successfully, i did shutdown and restarted the server. After the operations, the redisson threw exceptions when queried the restarted redis node, and could not recovered automatically in half an hour.
Redis version
Other problems
After master-slave switch and restart slave node, I found all redisson(v2.13.1 and v3.7.3) connections increased significantly(almost twice as normal connections), and config timeout set xxx was useless. When i restarted the servers, the redisson connections were back to normal. So is there a reason that redisson do no release idle connections for a long time?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2334
【BUG->redission-tomcat】Access other tomcat findSession cause session invalid
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In RedissionSessionManager.findSession()
source code：
Steps to reproduce or test case
1、access tomcat A, createSession
2、access tomcat B, findSession
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2335
Calling RSet.getSize() returns the correct size of set, but then set is empty afterward
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Call RSet.getSize() returns set size of N, and a subsequent call to RSet.iterator(batchSize) allows you to iterate through all N items.

Call RSet.getSize() returns set size of N, and a subsequent call to RSet.iterator(batchSize) returns an iterator that has no items to iterate through.  Without (first) getting the size, the iterator will iterate through the set of N elements.  For some reason, getting the size (first) makes the set appear to be empty, and there seems to be no method to "reset" to the head of the set, if this is, indeed, what is happening.  Another detail that may also be notable is that, each time I restart my application, RSet.size() returns the expected size, so the data is not being removed with a call to get the cardinality of the set.
Steps to reproduce or test case
Get a set by calling RSet testSet = RedissonClient.getSet("testSet");
Add items to the set with testSet.addAll(Arrays.asList("1", "2", "3", "4", "5"));
Get the set size with int testSetSize = RSet.size();
The size of testSetSize == 5.
Get an iterator with testSet.iterator(5);
Attempt to iterate over the set, but there will be no items to iterate over.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2336
example code to connect to redis in Kubernetes setup
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In my Kubernetes setup, REDIS pods get created as following..
So 1 master and few slaves
Output of "kubectl get svc" is like:

I want to connect to both master-slave via Raddison client

I'm not sure how though because there are like following ways!
This is what i am confused with
Could you please provide a sample code on how best to connect to Redis with master slave configuration?
master could become slave and vice versa so how dynamically Raddision would take care of this switch?
IPs of service needs to be configured or IPs of pods?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2337
Redisson session key to much in redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson session key is keeps increasing rapidly, now there are 300,000 key in redis, but HttpSessionListener can't get any sessionCreated even.


Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2338
can redisson-lock support on codis or twemproxy or aliyun-redis?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I found that redisson-lock can not run well on aliyun-redis which cluster by proxy like code or twemproxy. Does anyone occour this problem?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2339
Use `Redisson.createBatch` method. It accumulates all invoked commands in one batch command.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
You can use it via Redisson.createBatch method. It accumulates all invoked commands in one batch command.
Originally posted by @mrniko in #263 (comment)
How can we exactly do that?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2340
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2341
RedisClient createBatch() returning null
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Here is an example https://github.com/redisson/redisson/wiki/10.-additional-features#103-execution-batches-of-commands
Originally posted by @mrniko in #2339 (comment)
I tried using RedissonClient.createBatch(), its returning null. Whereas, RBucket getBucket(String name) is working fine.
Can't figure out the issue behind this. I am extending RedissonClient and initialised its constructor.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2342
Add an Automatic-Module-Name manifest entry
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2343
ReplicatedServersConfig vs. MasterSlaveServersConfig
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
While trying to track down an issue we had with AWS Elasticache redis + Redisson and a botched failover, this question came up -- "What is the difference between config.useReplicatedServers() and config.useMasterSlaveServers()?
The documentation suggests that ReplicatedServers is the right choice for Elasticache but doesn't go into more details. Thoughts?
Thanks
Tony
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2344
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2345
listener execute multi times when register multi topics
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

the listener execute multi times as the topics` size
execute one time
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2346
Add subscribe based methods to RBlockingQueue and RBlockingDeque objects
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2347
DNSMonitor UnknownHostException with Azure Redis Cache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
While looking through the server logs of our application running on Microsoft Azure, I came across the UnknownHostException below. It seems to occur on average once or twice a day.
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/127.0.0.11:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
I found this issue which discusses a similar problem, but I am still seeing the error after upgrading to the latest version of Redisson.
Any assistance would be much appreciated.
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2349
Add subscribe based methods to RScoredSortedSet object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2350
scheduled executor service get pending tasks
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
For the Redisson executor and scheduled executor service, is there a way to get the count of pending tasks in the queue?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2351
Add support of Spring Data Redis 2.2.x
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2352
RStream.trim throws exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2353
How can we have replication of Redis from one DC to another, but control the nodes Redissson connects to
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
DC's . in LN and US
Want primaries + slaves in US, just replicas in LN
Want Sentinel HA
Want to hit the primaries+slaves in US when runnng service on US, LN would only be used with reconfigure/failover.
But it looks like the connection pool will try to spread over all slaves?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2354
RedissonTopic subscribe lost connection
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using RedissonTopic，subscribe sucess and when publish message, can subscribe message success. Bug after a few days,publish message success, but cannot subscribe message.
I found some errors in redis log:
There no error in my application.
redisson version is 3.10.0
Is connection reset but no reconnect?How can I resolved?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2355
RedissonLock.unlock() hangs infinitely waiting for RedissonPromise
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Calls to RedissonLock.unlock() are expected to finish after the lock has been deleted from Redis.

We have experienced several threads locked forever waiting inside calls to RedissonLock.unlock() in our production system within a few hours after upgrading to Redisson 3.11.4 from Redisson 3.8.0.
Steps to reproduce or test case
Unfortunately I am unable to reproduce the problem on my own computer. We have however experienced it on several of our production servers within just a few hours after starting our newer version of the application with updated Redisson version. We upgraded from 3.8.0 in order to receive fixes for bug #1966 - Deadlock after Redis timeout, which we also experienced a couple of times. However right after start we have found some (29) exceptions in our logs coming from internal redisson threads:
After that we were investigating issues with blocked threads by analyzing thread dumps. All stuck threads had exactly the same stack trace as below:
After examining the source code of RedissonLock.java we have found that the NullPointerException occurs probably due to missing timeout object inside task:
I'm not sure if it would solve the root cause why task.getTimeout() returns null, but calls to cancelExpirationRenewal method should not fail with an exception, otherwise, e.g. in RedissonLock.unlockAsync method the future will never receive a result (or a failure):
Please add null check for timeout inside the ExpirationEntry object.
We had to return to 3.8.0 version because of this problem. I think it is quire severe.
Default configuration with sentinel servers.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2356
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2357
RedisException - ClassNotFoundException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am getting following exception sometimes in my tomcat app which uses redisson client to connect to AWS Redis. it says java.lang.ClassNotFoundException: com.sun.proxy.$Proxy222 but I have all the jar files in the classpath. Could someone shed some light on this. Thanks
note The full stack trace of the root cause is available in the Apache Tomcat logs.```
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2358
RMapCache Elimination Strategy does not work
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson version is 2.15.2，In a concurrent environment, the number of maps continues to grow, with 4000,000 pieces of data. When replaced by redisTemplate, only 100,000 pieces of data are run at the same time and remain unchanged. All data is set to an hour timeout
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2359
Add batched persist method to RLiveObjectService object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2360
Determining the number of running tasks for a RScheduledExecutorService
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have the next example https://github.com/kaa-ghub/redisson-sheduler.

I assume there should be an API with which I could find out if there are running tasks for a given executor manager.

Each time when start the application, a new task is added and the running jobs are duplicated.
Steps to reproduce or test case
Run a example two or more times.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2361
Decoding Issue in RBuckets.get Function
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

can use a different codec rather than the codec defined in config to encode and decode the object.

it works when encoding, but doesn't work when decoding
Steps to reproduce or test case
the issue should be in the CommandAsyncService.executeBatchedAsync function. when the Redis is not in cluster mode, the parameter codec is useless.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2362
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2363
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2364
Transaction Commitasync doest return at all
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Trying to remove multiple records through transaction , when executing case after 4,5 successful iteration,  transaction commitAsync doesnt return at all. test generator keeps waiting indefinitely.
around 2k size of testSet
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2365
HashCode of Value stored as Map differs
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am using following function code to insert data in redis :
Value is a Map whose key is: JioNSSFSnssai
and Have defined this class as following with over-riding equals and hashcode :
I see that HashCode of values key(JIONSSFSNSSAI) obtained from redis has changes , not sure whats the reason for it ?
As a result I can't perform operations on the obtained Map since equals and hashcode don't match to the same key.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2366
Add Kryo5 codec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2367
Reads failing on replication mode when attempting to read immediately after write
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello @mrniko
We are facing an issue when using redisson with Elasticache with replication.
We are writing some 100K key value pairs to a map and then renaming it. Then we immediately attempt to read the same. It fails and redisson reports that the key does not exist.
Note that we have default values of read mode (SLAVE) and scan interval (1000ms) . Can you please suggest if changing to MASTER_SLAVE read mode can help in this. Also are there any configurations on redisson that we can try with.
Thanks,
Yash
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2369
Migrate data from a Redis cluster to an other
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

I want to migrate data from an old Redis cluster to a new one programmatically, so I did this :
The problem with this, is that I when I do RBucket::get, Redisson try to decode the value with a class that is not necessarily in the classpath (because that was set by an other microservice).
Is there a way to disable decoding in Redisson ? Or a better way to do this ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2370
Redis hostname gets a `]` at the end
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Connects to Redis on AWS

Netty throws an exception trying to resolve the hostname:
Somehow, there is a added to the hostname, even though my redisson.json does not contain one.
Steps to reproduce or test case
Click this button to deploy the repro example for free on Heroku:
Then view the logs (you may need to restart the app if you want to view the logs in the browser because it crashes).
Or you may run this sample app with a command like:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2371
Connection issue with redisson 3.11.x and Amazon ElastiCache Redis cluster mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Amazon ElastiCache Redis cluster mode, Redis version:  3.2.4
Redisson version: 3.11.x Community version.
Java version: Oracle 1.8
App: Spring boot 1.5.22 with spring-data-redis 1.8.23
Hi,
When I deploy my app to Amazon dev server, after about 24 to 28 hours, I got the following log:
And my app sometimes throws exception when it gets data from redis.
I have such issue in redisson 3.11.0.to 3.11.4
If I switch back to redisson 3.10.7, then it is ok. Please help to fix it. Thank you very much.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2372
Unable to Create Redisson Session
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Session object is stored in Redis

Getting the following error trying to enable session replication via Redisson:
Steps to reproduce or test case
Tomcat Version 8.0.14
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2373
Connection refused: no further information
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2374
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2375
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2376
redisson session
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
why session is null？
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2377
Need details on entry updated
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi there,
I am using redisson and just imagined a possible behavior on scaled environments.
I have a Redisson Map like that:
Where MyDataSerializable is my custom serializer for redisson.
Where BaseWebsite is a bean stored in database
Imagine I have two instances which have in memory this map entry.
Now one of them update the BaseWebsite's object and then do a "map.fastput(id, object);"
Since the website_id didn't change, when the other instance will do "map.get(id);", will the map entry be refetched and the website's object reloaded or not?
Thanks,
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2378
Hibernate with Redisson (L2 cache) : invalidate cache when adding a @Column to @Entity
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

When I add a @Column on an @Entity, I want Redisson to invalidate the cache, so to do this I manually change the region property in the @Cache annotation.
Is there a better way to do this ?

When I add a @Column on an @Entity with @Cache, I got an exception when Redisson try to fetch the entity in Redis.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2379
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2380
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2381
It doesn't work with RXJava 2
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

That it will work at all

Steps to reproduce or test case
Redisson configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2383
Running into RedisTimeoutException. Need help to figure out
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

few Timeout Exceptions

A lot of timeout exceptions and Can't add slave exceptions
Steps to reproduce or test case
intermittent
Redis version
Azure Redis Cache with 5 shards
My logs are flooded with these exceptions and when I login to Azure portal, I see the CPU metric for Redis spiked to 100%. Any help is appreciated.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2384
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2385
RScheduledExecutorService
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2386
RScheduledExecutorService two usage attention
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

test RScheduledExecutorService as demo:
and run 2 JVM
Expected: every 10 second only one thread run in one of two JVM

has one run thread in both JVM in evety 10 second
shutdown one JVM ,has two run thread in the other JVM.
is that mean: one JVM schedule task , multiple JVM run as woker？
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2387
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2388
Make write-behind queue fault-tolerant
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Store write-behind queue in Redis
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2389
RedissonMapCache destroy
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

after mapCache.destroy() any lookup on mapCache should return null.

mapCache is not destroyed. It is still returning old values.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2390
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2391
Add poll methods with limit to RQueue, RDeque, RDelayedQueue objects
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2392
Question - LocalCacheMapOptions - Eviction Policy/TTL
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
If I were to set the EvictionPolicy and TimeToLive in the LocalCachedMapOptions when creating a new RLocalCachedMap, does this actually do anything?
Will each entry added to the map get this TTL set to it?  If so, would I be able to configure the redis server to expire entries whose TTL has past?
It is my understanding that the LocalCachedMap does not actually support eviction unless you are using Redisson Pro.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2393
Question - Not need many connection?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson is using non-blocking I/O. so i think not need many connection.
But not exists detail setting connection pool guide in document.
If in many traffic, Will performance increase as connection pools increase?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2394
Question - is it possible to configure redisson to use multiple codecs?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
is it possible to configure multiple codecs ?
we are trying to use redisson for tomcat session replication.
not all our session attributes are serializable, so we cannot use codec which relies on java serialization
i was wondering if we can specify in redisson.yaml list of codecs:
something like that:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2395
RedissonRxClient has not SortedSet implemented
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

To have it implemented

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2396
java.lang.NumberFormatException when ZRangeByScore query with -Infinity Double value
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

No Exception must be thrown

Default Configuration on localhost
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2397
RMapCache listener call twice
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

The map entry listener should only call once When invoke RMapCache#put method.
I found that if use single server, there will be no problem. But when configured in cluster mode, the listener will call twice.

The map entry listener call twice.
Steps to reproduce or test case
Clone the reidsson source code.
Execute unit test RedissonMapCacheTest#testCreatedListener
Before step2 , should create redisson server instance with cluster mode.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2398
Improve thread visibility in AsyncSemaphore
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
counter variable in AsyncSemaphore is not volatile variable.
but getCounter() method is public, and not synchronized.
getCounter() method is possible access by many thread. (not in now. but may be possible in the future.)
so add volatile keyword to counter variable.
Redisson version
redisson-3.11.5 (latest)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2399
ClusterNodesDecoder throw an exception when getting an unknown flag
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

When any node of a Redis Cluster has configure "cluster-slave-no-failover yes" which is enable after Redis 4.0，the result of "cluster nodes" command will contains a "nofailover" flag like this
ClusterNodesDecoder should ignore this flag and do nothing.

ClusterNodesDecoder throw an exception
Steps to reproduce or test case
set the config "cluster-slave-no-failover yes" to one slave instance of a Redis Cluster
start a RedissonClient connecting to that Redis Cluster
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2401
Node: NodeSource hasn't been discovered yet Error Class: class org.redisson.client.RedisNodeNotFoundException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

I am using AWS Elastic cache with cluster mode enabled and after scale out (adding more shards we see below errors from Redisson client on application layer

New node and slot changes need to be auto discovered and scale out should be seam less without failures.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2402
Serialization codec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Question
We are currently using the Kryo serializer, whenever these is a change to the object cached we have to invalidate entire cache else we face serialization errors.
How can we support backwards compatibility for already cached objects?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2403
Interrupted blocking methods aren't canceled
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2404
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2405
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2406
IBM liberty Codec Error when trying to get session data from redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Configured session management in IBM liberty below is the configuration inside liberty server.xml, below I also attached teh redis-jcache.yml configuration.  I was expecting the session data to be stored in redis and get back the session whenever needed based on user activity. However I see redis throwing error during decode the data from redis.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2407
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2408
Redistribution session sharing, memory leak
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2409
java.io.IOException: java.lang.RuntimeException: unable to find class for code 52
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2410
redisson cannot close
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
my application is jar project not web application project , init redisson run my task, but redisson cannot shutdown.
redisson have Daemon thread?
how ido to shutdown .when my task run over.?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2411
RMap.get with trigger additional MapWriter.write when load value from external.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

RMap.get only put data in Redis when load value from external.

RMap.get put data in both Redis and external.
Steps to reproduce or test case
clear redis data and do get operation which triger MapLoader.load to load value from external.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2412
Dynamic Lock IDs
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
More a question of use case then an issue -- unless the answer is "Cant do that"
I have some small 'microservice' type processes (running in docker ECS on AWS).  One thing they do is pocess S3 filels on change notificaiton.  Im subscribing to a SNS topic which then gets routeed and load balnced to an avoaible node.   For some operations I want to 'lock' a segment of code identifyed by the S3 Path -- Like a pool of ionotify workers.
Since the spae of possible key values is large and unknown upfront I cant pre-allocate locks.
Rather when a node gets an event I want it to 'lock' such that other nodes if they get the ssame event can be (cooperatively) kept from operrating on the same file at th3es ame time.
(inthe same process or a differnt process) In a period of an hour -- hundreds or thousands of unique keys/files may occur.  The operations while locked may vary from ms to munltiple minutes.  I realize I will likely have to treat these cases differnt -- (keep a map of locked node)
My question is this.  I tried a 'simplistic' approch which carates a NEW lock structure on eveyr eent, passing it the unique IID vailel Then after 'work' is complete releasing the lock.
Other apps may be doing the same thing and they should block in some way sothey dont both operatioe on the same file.   This seems to work --but I dont know if its effective.
For exmaple -- how 'expensive' is it to allodate a new lock.
If I simply 'unlock a loc does that delete it from Redis ?   What do I need to do to 'release' the lock  fully?  THen assumign all went well -- what is the latency to examime a lock ot sed if its sill in use ?
There will be hundreds of uniquie Ids --  Is there a better dataa type for this ?  Maybe a combonation of a Map and Lock ?
Any suggestions welcom.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2413
PublishSubscribeService#freePubSubConnections to be per cluster node?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Subscribe/connect to the cluster node specific to the topic

Great chance to subscribe/connect to wrong cluster node
Steps to reproduce or test case
2-1. subscribe to topic 1, correct cluster node connected/subscribed
2-2. subscribe to topic 2 from different cluster node, but still node of topic 1 is connected/subscribed
When "freeEntry == null", PublishSubscribeService#connect does the right thing by locating cluster node via topic.
Nonetheless, when "freeEntry != null", topic 2 of above reproduction would use connection to topic 1 cluster node. For example of cluster of 5 nodes, we experienced 80% chance topic 2 appeared successfully subscribed, but never notified.
Maybe PublishSubscribeService#freePubSubConnections can be per cluster node ?
Additionally, ClusterConnectionManager#calcSlot parses key out of "{KEY}..." to locate cluster node, any chance to extend it to support Redis format of "keyspace*:KEY" such as the one from redisson/src/test/java/org/redisson/RedissonTopicTest.java please ?
More additionally, any chance to extend ClusterConnectionManager to subscribe/connect to all cluster nodes for non-key based topics "__keyevent@*" such as the ones from redisson/src/main/java/org/redisson/RedissonObject.java & redisson/src/main/java/org/redisson/spring/session/RedissonSessionRepository.java please ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2414
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2415
springboot
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2416
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2417
Tomcat Redis Session Manager & Scoped Spring Beans as dependecies problem
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I'm using Tomcat Redis Session Manager. Our application uses Spring Beans with scoped beans as dependencies:

Autowired session scoped bean member of a singleton bean should preserve its state/value inside same session.

Autowired session scoped bean member of singleton bean does not preserve its state/value inside same session. Right after setting some (primitive) field of this session bean, it returns empty value (e.g. empty string).
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2418
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2419
Unable to decode data NPE
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2420
Can't write command: (PING)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2421
WriteRedisConnectionException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2422
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2423
RedissonMap.getAllAsync return smaller Map<K, V> than expected when load value from external.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

RedissonMap.getAllAsync(keySet) can return all correct value when load value from external.

RedissonMap.getAllAsync return smaller Map<K, V> than expected when load value from external.
Steps to reproduce or test case
suppose:
clear redis data
One thread execute redisMapCache.get(key).
Sometimes the myMap.size() is smaller than keySet.size(), myMap.get(someKey) is null.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2424
Add RExecutorService.getTaskIds method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2425
data not persisted after application restart
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Just trying out Redisson to see if its right for our product. Whenever I restart my application, all data that I have written to Redis disappear even if the Redis database hasn't itself restarted. Is it because Redisson only works as in-memory and doesn't actually write to the Redis Database?
I am very new to this so excuse me if I am missing something fundamental
Regards
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2426
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2427
Add awaitAsync methods to RCountDownLatch object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2428
Channel subscription process in interrupted methods can't be interrupted
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2429
Add RCountDownLatchRx and RCountDownLatchReactive objects
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2430
ClassNotFoundException: org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use Redission and Redission-Hibernate and got this error but cannot figure why.

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2431
RedissonSessionManager tomcat session timeout in cluster environment even if user is active
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson session manager is creating sessions which is getting expired after 30 minutes even if the user is actively reading the session every few minutes. This is happening in clustering environment, we have AWS redis cluster cache as server and using tomcat redisson session manager. Our application runs on multiple tomcat instances

If user is actively reading transactions, same session should be active all the time since the time user is active.

Session manager expiring the session after 30 minutes since initial login/session creation time even if user is updating transaction in the beginning and constantly reading the session data.
Steps to reproduce or test case
web.xml set session timeout as 30 mins
using Tomcat manager like this
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2432
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2433
"redissonClient.getMap(redisKey, options)" will return empty after redis service restart
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Scenario
Using DB as the persistence data of redis，after redis service restart, redis cache is empty, when "redissonClient.getMap(redisKey, options)", the loader in options is not called.
"redissonClient.getMap(redisKey, options).size()=0"

the loader in options will called when redis cache is empty
after redis server restart, when calling "redissonclient.getmap (rediskey, options)", redisson finds that the redis cache is empty. It should read the data externally through the loader and load it into the redis cache

the loader is not excuted, the data in the redis cache is incomplete after the redis server is restarted
Steps to reproduce or test case
restart redis server, do get operation with options, load data from DB
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2434
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2435
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2436
Redlock implement
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
the usage of RedissonMultiLock :
RLock lock1 = client1.getLock("lock1");
RLock lock2 = client1.getLock("lock2");
RLock lock3 = client2.getLock("lock3");
RedissonMultiLock lock = new RedissonRedLock(lock1, lock2, lock3);
so ,according to the redlock algorithm, how should i ensoure lock1-lock3 finally  stored in different redis master in redis  cluster
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2437
Redlock implement
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
he usage of RedissonMultiLock :
RLock lock1 = client1.getLock("lock1");
RLock lock2 = client1.getLock("lock2");
RLock lock3 = client2.getLock("lock3");
RedissonMultiLock lock = new RedissonRedLock(lock1, lock2, lock3);
so ,according to the redlock algorithm, how should i ensoure lock1-lock3 finally stored in different redis master in redis cluster
@mrniko  do not easily close my issue！
i just want to  ask  how should i  “locate locks manually” ， i have no idea how to ensure   keys of a  RedissonRedLock  distributed throughout redis masters in a redis cluster
that is to say , if i want get a redlock  in a 3 masters-slavses of  redis clusrer， how shoud i define  3 name of key  to implement    redlock by redisson.
lockkey1  -->  master1;
lockkey2  -->  master2;
lockkey3  -->  master3;
thanks, this is very important  to those use redisson
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2438
Reddison AWS ElastiCache Redis Cluster connection issues
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When attempting to connect to our AWS ElastiCache Redis instance using the application.yaml configuration below.

Successful connection

I receive the following exception when trying to use the RedissonClient
Steps to reproduce or test case
Created Spring Boot Application (2.2.1), Added redisson-spring-boot-starter (3.11.5)
Created a spring Scheduled function to execute every second that uses RLock to getLock(), then tryLock(), then unlock()
The AWS ElastiCache Redis configuration is using TLS encryption (Encryption-in-transit) , and I'm able to connect using the same information using the instructions provided by AWS here
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2439
Add feature to get low level details about redis instances using RedissonClient
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

We should have a way to get low level details(e.g. memory details, client list etc) about redis instances using RedissonClient.
Or
We should be able to get single RedisConnection from pool of connection via RedissonClient.

Currently we don't have a way to do it. We can get these details from RedisClient object.
Steps to reproduce or test case
RedissonClient is injected into spring container on startup.
I want to get low-level details about redis instances. What could be the best way to do it.
Can I get single connection from pool of connection to get the details?
I am using redisson-spring-boot-starter for connecting to redis instances using RedissonClient.
I am making use of spring.redis.redisson.config=classpath:redisson.yaml property for setting the yaml configuration.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2440
java.lang.IllegalArgumentException: java.net.MalformedURLException: Invalid host:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
same exception for all the other nodes of cluster.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2441
set the max block time for method lock()
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
first ，i  set a key “lock” with no expiration in redis。
then  i use  lock  like the following:
after running,the program was blocking continuously at the  code line of lock.lock();
is this a bug or can i set a parm such as max time of waitting lock?
thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2442
some start error with redisson-spring-boot-starter
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I need some help to deal with my problem
Steps to reproduce or test case
my dependency:
when start my springboot application, some error happened,but redissonClient.getLock worked, errors are as follows:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2443
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2444
Why ExpirableSemaphore does not expire?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
@mrniko, could you take a look at this question:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2445
Add RExecutorService task expiration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2446
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2447
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2448
Update documentation to RMapReactive
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Method 'putIfAbsent' at javadoc says:
But method wrap null as empty Mono and return Mono.empty() instead of null.
Try to check it with this
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2449
Spring boot with redisson 3.11.5 fails without optional actuator dependency
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
It looks like the file RedissonCacheMeterBinderProvider needs a ConditionalOnClass annotation, otherwise it isn't working with Spring boot 2 without the optional actuator dependency.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2451
RRateLimiter Exception----RateLimiter is not initialized
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version:3.11.2
Exception details:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2453
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2454
Can I config spring.redis.redisson.config in application.properties?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am using redisson-spring-boot-starter in my spring-boot project, your document writed like this:
can I config properties in redisson.yaml in application.properties of spring-boot?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2455
Unable to retrieve original string stored in HyperLogLog using GET operation on the key
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi Everyone,
I am in process of backing up the values present in the HyperLogLog data structure in Redis to a backing store on disk, which can later be used for cache misses. I am unable to do the same because of the following scenario, details of which I have mentioned below.
Please let me know if anyone has encountered the same or if have any solutions for this scenario.
Thanks in advance!


Although, on running GET operation from redisson client it is returning string like HYLL]f�b�.
Steps to reproduce or test case
Value returned here is not the expected one.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2456
ElasticCache - How to use configuration endpoint instead of node addresses?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is there a way to use configuration endpoint with clusterServersConfig instead of using individual node addresses?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2457
exception while retrieving data in RMap , data inserted using RMapCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Observation ,
do we need to set codec in this case, is fst is default in RMapCache. or RMap
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2458
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2460
RMap.addAndGet is not compatible with get/put methods by using default codec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
By using default codec FstCodec, put/get methods is not compatible with addAndGet method. When calling RMap,get after RMap.addAndGet, the program will throw DecoderException.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2462
redis cluster write successfully but read bucket failed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

read bucket value properly

get bucket by name, and then bucket.get(), the result is null
Steps to reproduce or test case
get bucket by name and set a value
read the bucket and call the get method
three masters three slaves in local machine
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2463
Add MyBatis cache implementation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2464
Caused by: java.lang.ClassNotFoundException: org.springframework.data.redis.connection.ReactiveRedisConnectionFactory
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
3.11.6 witch spring boot 1.5.7
boot up fail
Caused by: java.lang.ClassNotFoundException: org.springframework.data.redis.connection.ReactiveRedisConnectionFactory
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2465
redisson set value and get value from bucket is null
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

get the set value

the value is null
Steps to reproduce or test case
redis-cli to create a cluster include six nodes
useCluster.addAddress to set and get value
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2466
ERR Error running script:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2467
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2468
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


2469
Add RScheduledExecutorService task expiration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2470
Multiple tomcat instance behind a load balancer
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, We are trying to host the application in 2 tomcat instance hosted behind a application gateway(load balancer in AWS). In both tomcat instance we have configured redisson session manager with required jars in tomcat/lib.
Below is the context xml entry:
Scenario:
Bring up instance 1 and login to app, go to a screen and do some changes and don't save yet. This ensures we have logged in to instance 1.
Bring up instance 2 now. Bring down the instance 1. Try to do save on the application now and app throws below error.
Basically we are trying to aim for zero downtime with these 2 instances, so that if one instance goes down, other instance should be able to pick up the application state and continue the execution without user needing to re-login.
Please help us with the above error.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2471
Redisson prints sentinel has down messages frequently
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Version 3.11.6

Should not print this logs frequently

When connected to redis deployed in kubernetes and sentinel address is a headless kubernetes SVC.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2472
Cache write behind - Redis Live Object Service.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi Guys,
Would there be support on having a cache write behind listener for the RLO service as we have it for RMap ? This is for the use case , if I have Java POJO as a REntity and I have persisted the REntity Object using RLO service . As a result of that , I want to a cache write behind functionality to persist the entity in MySQL.
Regards,
Harish
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2473
Subscribe timeout  AND Unable to send command AND Redis server response timeout
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2474
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2475
slave network down reconnect
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
my configuration
1.slave 7007,7008,7009 vs network down
log: slave 127.0.0.1/127.0.0.1:7007 has been disconnected after 180000 ms interval since moment of the first failed connection
1. Kill the redis process down the network
2. Remove the redis from the cluster by forgetting the live redis.
4.initialize redis data redis 7007,7008,7009
1. Application error log
2. Error log stop after joining cluster with addis node redis 7007,7008,7009
If you look at redisson ConnectionPool.createConnection (), if it fails to establish a connection, checkForReconnect () is called to check if it is reconnected.
If the network was restored immediately after 1, it would be reconnected and the problem would be solved. But the network did not recover immediately.
There will be no information about slave 7007,7008,7009 when the cluster view is fetched after 3 no (Remove the redis from the cluster by forgetting the live redis.)
If I update the cluster information and there is a redis node removed at this time, is it correct that it should be excluded from reconnect check in ConnectionPool.scheduleCheck ()?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2476
Redisson Session Manager session attributes problem
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We want to use Redisson Session Manager as a Tomcat Session Manager. It is essential that Redisson is configured as a shared instance in Tomcat since plugins that need access to a shared Session will be used. We found a behavior that could potentially indicate a bug in the session management.
A simplified diagram of our system is shown in the following figure.
The repository with the test project based on Spring Boot is here:

All apps should use the same shared Session which is resolved based on JSESSIONID cookie. The Session should contain attributes with latest values that also include session scoped beans.
When the readMode property of Manager configuration in context.xml is set to REDIS, behavior seems to be as expected (see value of session_attribute_count in response or logs which is incremented by 1 for every request). But with REDIS read mode, session scoped beans are not stored as session attributes.
However, if we change readMode to MEMORY, session scoped beans are stored as session attributes. Behavior is as expected if requests are sent to apps with the same context path (app-a in Tomcat 1 and Tomcat 2). When the request is sent to a different app (e.g. to app-b after being sent to app-a before), the second app (app-b) gets session attributes with values of the last request to the first app (app-a). If the request is sent to the first app (app-a) again, the session attribute values such as session_attribute_count will not continue from the values that the second app (app-b) had set. It also seems that session attributes that are added to the Session by the second app (such as session_attribute_app_b_value) are not available in the first app.
Steps to reproduce or test case
Checkout repository with the test project
Build project with maven (mvn clean verify) to get war files at
Run docker-compose up from project root to set up stack with two Tomcats and Redis
Send requests to following endpoints (use the same session identifier) and inspect response and logs:
Set different readMode property value (REDIS or MEMORY), redeploy docker stack, flush Redis and repeat step 4.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2477
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2478
upgrade 3.11.6
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
springboot version 2.1.11.RELEASE,upgrdate 3.11.5to 3.11.6,error
java.lang.NoClassDefFoundError: org/springframework/data/redis/connection/RedisStreamCommands
3.11.6 Can it only support springboot verison 2.2
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2479
Add ReactiveTransactionManager implementation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2480
Spring Transaction Manager doesn't handle Redisson TransactionException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2481
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2482
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2483
Reactive/Rxjava2 transaction doesn't unlock lock on rollback or commit
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2484
RedissonPriorityQueue throws NPE when add() method is called
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


I'm getting NPE at line 180
Steps to reproduce or test case
I think it is possible looking BinarySearchCode inside the class
please take a  look at the code:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2486
java.lang.ClassNotFoundException: org.springframework.data.redis.connection.RedisStreamCommands
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2487
java.lang.ClassNotFoundException: org.springframework.data.redis.connection.RedisStreamCommands
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2488
java.lang.ClassNotFoundException: org.springframework.data.redis.connection.RedisStreamCommands
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello
I just submitted two questions that didn't work. The reason is that I pressed the wrong key(ctrl + enter on windows). I'm sorry to be embarrassed. My problem is that I use springboot version 2.1.11.RELEASE and the redisson-spring-boot-starter version is 3.11.  .6, the error is the same as the title. I checked issue 2478 and suggested that he downgrade to redisson-spring-data-21. If it is redisson-spring-boot-starter, what version should he downgrade to?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2489
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2490
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2491
Add taskTimeout setting to RExecutorService
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2492
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2493
Encoder NPE
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson configuration
Master-Slave Cluster configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2494
Issue May Be Need Open Again
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
#2477
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2495
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2496
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2497
takeLastAndOfferFirstTo() does not block until an element is available
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Calling RBlockingQueue.takeLastAndOfferFirstTo(otherQueue) should block until an element is available.

When the queue is empty RBlockingQueue.takeLastAndOfferFirstTo(otherQueue) returns null immediately.
Steps to reproduce or test case
// running from a Runnable submitted to redisson.getExecutorService()
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2498
org.redisson.RedissonRemoteService caches and runs old versions of code
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

When submitting a task to a Redisson executor service the task is run in the state at the time of submit().
Meaning: when i submit at task at some time X the code in the body of that task must execute exactly as it was at time X. If in the meantime the task code is modified and a new task is submitted at time Y, the code as it was submitted at time Y must be executed.

Both code-at-time-X and code-at-time-Y are executed, randomly. This leads to unpredictable behaviour.
Actually it seems more than one version of the code is cached and one is randomly picked for execution. This was proved by adding log statements.
When restarting the app one of the versions would be executed.
It's not documented how to clear this cache.
Steps to reproduce or test case
BASIC:
Create a Runnable that delegates part of the execution to a spring bean. (using the bean factory obtained from the spring context)
Submit the Runnable in different versions, making sure it "prints" some different debugging output during execution, so it's possible to know which version is running.
CASE 1: in one of the versions i changed the type of data i write to a redis list from string to a json object. BOTH versions were running! That means RANDOMLY some tasks would write a json and some others a string. The service somehow caches the code to run.
CASE 2: the code caching became even more evident when the code was refactored (and one method eliminated). AFTER RESTART the executor service was expecting (for NEWLY submitted tasks) the deleted class to be present, and failed with a no-such-method-error
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2499
Add RSemaphore.addPermits method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2500
RedissonReactiveClient,  should aways invoke next method.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
always return value, so i can check is exists
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2501
NPE when using FST codec only in Elastic cache redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
This is observed only when a key is already put in the map. When key is not available it is working as expected. put operation was successful but after that when we try to get the value of the key, following exception is taken. Using redis elastic cache 5.0.6 with redisson 3.11.3
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2502
Tomcat session expires causing session information in redis to be deleted
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Background: The use Redis do session sharing. Session is currently shared by three projects
Problem: After logining in to a service, the service does not operate for a long time. When the timeout time set by the service tomcat is reached, even if other services are still in operation, there will be a forced exit. However, as long as one service is still in use, we do not want it to exit because one of the services has reached the timeout period.
Is there a good solution?
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2503
Provide classloader incase of FST so that it doesnt get the class loader from current thread
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Do we have a way to provide class loader when using FST codec. we are facing classNotfound exceptions as the FSTConfiguration is picking up the current thread class loader which is used by RedisExecutor as shown in the below stack trace.
Our proprietary classes are loaded from our class loader. So wanted to understand if we can set the classloader which is used by FSTCodec.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2506
Is there a guide for porting from Jedis?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
After running into some threading/scalability issues I'm moving over redission. Would be great if there was a guide for porting from Jedis.
For example, what is the closest resembling API to the jedis.get() and jedis.set() methods?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2507
How to FLUSHALL?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is there a convenience method for FLUSHALL? Would be super helpful during development.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2508
java.lang.IllegalStateException: Failed to introspect Class from ClassLoader
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Deploying spring boot as web application :
The missing class 'org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider' is in spring-boot-actuator-2.1.6.RELEASE.jar that is inside the web application inside WEB-INF/lib folder
I guess the issue is because the redisson library is inside tomcat system lib and the introspection happens from the web application -  e.g. different classloaders - I guess redisson tomcat lib can't load classes from war file where the CacheMeterBinderProvider class is located - If I remove redisson lib from tomcat the web application deploys and functions as intended
If I put a break point into org.springframework.util.ReflectionUtils method's getDeclaredMethods
where the exception occur here is the exception stack trace from this method and exception that occur:
The getDeclaredMethods is invoked with parameter "org.redisson.spring.cache.RedissonCacheStatisticsAutoConfiguration" for bean redissonCacheMeterBinderProvider
here is the exception :
Note there are no "org.springframework" libs in Tomcat lib directory (only inside war lib directory).
The class "org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider" is defined only inside /WEB-INF/lib/spring-boot-actuator-2.1.6.RELEASE.jar of the war file (no such class inside tomcat lib or another jar file inside the war file)
If I define this inside spring boot web app in the @configuration:
So I can't exclude redisson auto configuration. The javax.cache package is only defined inside redisson;s lib redisson-all-3.11.1-SNAPSHOT.jar - there are no javax.cache packages bundled with the war file
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2509
RedissonConnectionFactory does not shutdown RedissonClient on Spring destroy() call
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Using Redisson PRO 3.11.6.
The destroy() method on RedissonConnectionFactory is empty. When the RedissonConnectionFactory creates its own RedissonClient using the default constructor or the constructor that takes a Config as an argument, it should be responsible for calling shutdown() on the created RedissonClient. The RedissonClient is internal to the class and cannot be shutdown otherwise.
To safely manage resources, we must use the constructor that takes a RedissonClient argument so that the client has an external reference that we can shutdown.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2510
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2511
No result for read command on redis cluster(version 5.* ) with password
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

read from redis cluster  properly
read nothing from redis clsuter
Steps to reproduce or test case
1. redis cluster(5.*) with password
2 run the following code. When we use the following code to set an value(CC) for key(cc),when these codes runs on redis version of 4.*,  CC will be printed, But when it runs on redis cluster of version 5.*, null will be printed. But when we use command (get cc) in redis-cli console, we could get the value 'CC' of key 'cc'.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2512
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2513
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2514
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2515
Lock expiration renewal stops working after connection error/timeout
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

After a connection problem during expiration renewal, if a new lock is created (with the same key), the expiration renewal should be working.

If an error ocurred in the expiration renewal (ex: connection to redis timeout), it stops working for new locks.
Steps to reproduce or test case
Create a Redisson lock
Force a expiration renewal timeout (ex: restarting redis-server)
unlock (it will throw a exception, as expected)
Create a new lock with the same key
wait for the expiration renewal time
unlock (it will throw a exception, because the expiration renewal is not working)
Default, SingleServer, (LockWatchdogTimeout reduced just for testing)
I believe the problem is in RedissonLock.unlockAsync method, when opStatus is null, the cancelExpirationRenewal method should be called.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2516
With spring boot application redisson by default connect to local host even after providing configuration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am creating tiny redis cache library for all running java based microservices using redisson. This library will be used by all spring boot and and non spring boot microservices.
I am using below maven dependency for redission:
And using below implementation for redisson bean creation
@Configuration
Above configuration works well when I use this library with non spring boot based application.
But it fails with spring boot based application. I saw that redissonClient try to connect to local redis instance instead of configuration provided by me in application.properties.
It works when I used below configration in application.properties
But being a common library I can not use above configuration for non spring boot based application.
Is there a way where I can force redissonClient to be created with custom configuration instead of default configuration?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2519
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2520
How can i merge redisson.yml and spring-application.yml ·20
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, i just want to change the codec from org.redisson.codec.FstCodec to org.redisson.codec.JsonJacksonCodec, so i write the redisson.yml:
but when i run the application, it calls exception:
in org.redisson.spring.starter.RedissonAutoConfiguration#redisson,i find code
so, i must write server config in redisson.yml again.
Is there anyway to merge  redisson.yml and  spring-application.yml?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2521
How to dynamically fetch node addresses from AWS Elasticache?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
How is redisson meant to be used with AWS Elasticache? Would love to see a full example with multiple shards, dynamically fetching node addresses, failover handling, node health monitoring etc.
This link gives a very minimal example, I think a production ready example would be super helpful to anyone using redisson with AWS elasticache.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2522
Subscriptions become zombies when network lost
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Steps to reproduce or test case
Establish a connection to a single-server Redis
Subscribe to a topic using Redisson
Kill the network or restart Redis

Existing subscriptions should be closed when connection to Redis is lost
(and/or) subscriptions should re-subscribe when connection becomes possible again

The subscriptions are left in a zombie state where they're not connected and will never receive any data. Even if a new connection from the same JVM is established to Redis once it's available again, and it publishes data on the topic, the zombie subscription never receives it.
It's ok that Redisson doesn't resubscribe when connection becomes available, but at the bare minimum it'd be super helpful if it closes the subscription or gave me an event to listen to or something so that I could handle it myself. I've tried all the options like keep-alive etc and there doesn't seem to be any workaround.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2523
Deserialization the object from redis to RList throws InvocationTargetException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Deserialization the object from redis to RList throws InvocationTargetException
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2524
Deserialization the object from redis to RList throws InvocationTargetException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Deserialization the object from redis to RList throws InvocationTargetException
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2525
Add tryExecute and tryExecuteAsync methods to RRemoteService object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2526
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2527
How to build from source and package as single jar without all optional dependency?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
Redission collection is used in my application (single jar) and want to package needed classes without all optional dependencies to reduce app size.
Describe the solution you'd like
Split feature (optional dependencies are used) as sub module.
Describe alternatives you've considered
Remove all optional dependencies java classes from my jar (Follow dependency document in wiki). But I don't think it is right approach and whether have potential problems.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2528
Connecting to a password protected Redis Sentinel fails, due to scheme not being forwarded
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Given both redis sentinel and redis master/slave are protected by passwords, Redisson should be able to establish a connection through sentinel.

Scheme ( redis or rediss) is not being forwarding from the Redis Sentinel URI to the URI created in order to connect the Redis node.
Following exception is returned:
Steps to reproduce or test case
Setup a password protected Redis Sentinel/Redis nodes and try to connect using useSentinelServers config.
I replicated this using docker:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2529
redisson-spring-boot-starter RedissonAutoConfiguration customizer
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In Spring Boot RedissonAutoConfiguration there is the need for post customizing the autoconfigured RedissonClient.
Would you consider a pull request with this functionality?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2530
Delay job execute time is not correct when use RDelayedQueue
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Use RDelayedQueue hit an bug.
The code is as below:
I expect the job can be executed after 5 second.
In my prod environment, I found almost all job is executed after 5 second, but only a few jobs were executed immediately(do not delay 5 seconds)
Steps to reproduce or test case
It is hard to reproducde, only a few jobs were executed immediately in each day
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2531
java.lang.ClassCastException: java.lang.Double cannot be cast to java.lang.Float
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No exception is thrown
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2532
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2535
"RedisConnectionException: SlaveConnectionPool no available Redis entries" even when the slaves are reachable and connections established
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are using Redisson with AWS elasticache redisson cluster. Redisson client throws exception from some of the hosts. Only way to recover is to reboot the EC2 instances/restart the application. Slaves are reachable from the EC2.
Redisson client fails with the following exception eventhough slaves are reachable from EC2.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2536
Updating from 3.8.2 to 3.12.0 breaks.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When I try to upgrade redisson from 3.8.2 to the version after 3.11.2. The following code breaks.
The code should pass, but it throws an error:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2537
RRateLimiter allows permits query
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RRateLimiter don't allow query the remain permits for now . so i can not get the permits . i think add a method like :
int remain() may be well.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2538
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2539
Memory Leak in SentinelConnectionManager ·39
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Might be connected to #2120, but I wasn't too sure about that, so I decided to create a new issue instead.
No memory leak?
SentinelConnectionManager is leaking memory because it stores too many connections to the sentinels in the nodeConnections map.
We are using a singleton Redisson instance for connecting to our replicated Redis instance (3 nodes, 3 sentinels). After running for some days, we are experiencing high GC times and OOM errors. Upon investigating the heap dump, we noticed that the SentinelConnectionManager stores nearly 50,000 connection to the same 3 sentinels in its nodeConnections map. However, the sentinels map itself only contains the expected 3 entries.
I tried analyzing and reproducing the leak myself, but I wasn't too successful since I am not familiar with your code. Would be great if you could have a look what could cause such a behavior :)
Unfortunately can't provide the heap dump since it might contain sensitive data.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2541
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2542
Does the Redisson（BLPOP） support multily key?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does the Redisson（BLPOP） support multily key？
Just like BLPOP key [key …]，When multiple key parameters are given, check each list in order of parameter key, and the first non empty list header element will pop up
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2543
RLock unlock always throw an exception what like 'not lock by current thread'
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
trylock and unlock success
RLock unlock always throw an exception what like 'not lock by current thread'
Steps to reproduce or test case
According to the stack information, the underlying asynchronous unlocking may cause the unlocking to throw an exception.This phenomenon can be reproduced 100%.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2544
lock.isHeldByCurrentThread() verification  before unlocking Exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RLock
lock.isHeldByCurrentThread() verification  before unlocking
but sometimes exception
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2545
Implement port mapping for sentinel and reported master
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are interested in running Sentinel behind a L4 proxy terminating TLS.  This sentinel will report a master at IP:master_port.  This master is behind a second L4 proxy terminating TLS on a port we plan to infer from the reported master_port.   Ideally, Redisson would offer Sentinel + Master over TLS, with the ability to configure a port mapping function to take master_port and translate it to the L4 proxy port terminating TLS in front of the master.   As an aside, our model does not require us to translate either the sentinel or master IP, but the Lettuce example below fully allows that.
Here is the equivalent Lettuce 5.2.2 (due out 2/11/2020) code:
Describe alternatives you've considered
Many.  Including putting the sentinel / master cluster behind an F5 load balancer terminating TLS and let the F5 choose the master.  Clients program to the F5 over plain Redis API over TLS.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2546
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2547
there are dead locks in redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
in my app, sometimes there are some dead locks in redis
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2548
java.net.MalformedURLException: Invalid host
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using ipv6, we get the following error:
It seems that in org.redisson.connection.SentinelConnectionManager#createAddress, the square bracket is added to the address; then in new RedisURI(), the square bracket was added AGAIN.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2549
ElastiCache/Redis - RedisConnectionException and RedisResponseTimeoutException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We use redis distributed delay queues for queuing data for future process and connecting to redis using node from each shard in cluster. Around 10% of the data is lost due to these errors.
Redis client version -3.9.1
We see RedisConnectionException and RedisResponseTimeoutException**
RedisResponseTimeoutException: Redis server response timeout (3000 ms) occurred for command:".
Here is the complete error.
Redis configuration is below.  We have configured single node from each shard, what is the recommended approach for node configuration, cluster endpoint or nodes from each shard?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2550
Crash connection Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello
I have a bug in redisson
i have many server who need to be connected on redis
when the first one start all work fine it is connected
but when the second one start the server freeze and there is no error log
it freeze when i call Redisson.create(config)
it's the same program than the first server so i don't understand why it don't work
someone as any idea ?
the only error i've found is this summon when i try to login to the server, it will crash and restart and print me this:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2551
RLock.unlock() results in ERR hash value is not an integer
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The following code snippet will successfully create and lock RLock and will throw RedisException unlocking the lock.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2552
Master/Slave mode with master only writer and slaves as reader
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I tried Master Slave configuration for redission-mybatis. I want to set 'master' only for writer and 'slave' for read only. But when is set master slave configuration i can see master is also used for reading purpose.
Can i set configuration in which 'master' work only as writer not reader?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2553
delay queue doesn't work after one of cluster node occur master slave switch
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
throw follow exception continuous, but the the APP host acctualy has ony 7 connection
thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2554
Improve Redisson Eviction Rate
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Our application uses UUIDs for keys and stores them in a RMapCache<String, Boolean>. Clearing 3MB of expired keys currently takes about 10 minutes though even a trivial service load can generate 5-7MB/min. Is there a way to increase the frequency of the eviction task, or increase the batch size of objects that are expired ?
Currently using a default configuration, connecting to a 3-node Redis cluster in Sentinel mode.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2555
Cycled RLO objects with cause RCascadeType.PERSIST infinite loop and stuck
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
I have about 100,000 redis object should be persist into Redis.
And they are of several data types. each data type will associate with others.
In other word, they form a cycle.
If I use RCascadeType.PERSIST, the program will stuck. Because it is gone into an infinite loop.
Describe the solution you'd like
regisiter rlo class method should record all the classes that user need to persist
add a new method to calculate the class's adjacencyArrays.
persist vertex classes
construct relationships according to adjacencyArrays.
Describe alternatives you've considered
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2556
Unable to remove lock automatically
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The code is as follows, the lock cannot be automatically deleted, the lock will continue to live
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2557
Can you use a service to lock and unlock threads?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a redisson lock implementation in my code like:
Distributed lock implementation:
SonarQube complains not having the lock unlocked in the same path as lock. Is there any solution for this? Or can we not have this implementation for redisson locks? It does always execute the unlock but relies on the client to do so.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2558
java.lang.NoClassDefFoundError: org.redisson.misc.RedissonPromise
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Working with replicaof server.
Returning data when using RedisDesktopManager. But when I tried to create client following exception occurs with RedissonPromise
I am using implementation 'org.redisson:redisson:3.12.6'
same exception occurs using config.useSingleServer()
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2559
Command still hasn't been written into connection?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
There was almost no load on the system and it has almost no activity with only one idle connection  (we keep two connections in reserve - connectionMinimumIdleSize: 2) and the freeConnectionsCounter=63  (out of  connectionPoolSize: 64).
How come we received the “Command still hasn't been written into connection” error message? It seems like something was preventing Redisson from sending commands to Redis, resulting in a timeout exception...
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2560
Distributed scheduled executor service with Spring Boot
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello there.
I try to use Redisson for schedule tasks in my Spring Boot application. And I have the next issue: after application restart with graceful shutdown - Redison scheduled executor service is in shutdown state, and all my tasks are rejected with exception
java.util.concurrent.RejectedExecutionException: Task rejected. ExecutorService is in shutdown state
Here is my code:
I use Distributed scheduled executor service like a bean
I use spring boot version - 2.1.7.RELEASE, and redisson-spring-boot-starter with version 3.11.5
Thank you for any help!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2561
zCount 0/-1 instead of -inf/+inf
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RedissonReactiveZSetCommands.zCount behaves incorrectly if one of range bounds is unbounded.
if lower bound is unbounded:
btw this is how RedissonReactiveZSetCommands.zRangeByScore implemented.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2562
Dynamically setting TTL
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
we set TTL into CacheConfig when the cache is initially created. Is there a way to change that AFTER creation?
we are caching an api endpoint and would like to return stale objects even after expiry.
one way to achieve this is to check the downstream api and if not responding then extend ttl to use the existing stale object.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2564
How to properly load redisson dependencies inside a jar file
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello guys,
I've setup Redission, Redission-Hibernate and Spring Data Cache to work with Spring Boot.
When I start the application I'm getting the following warning:
When I start the application through eclipse application lunch, everything works fine. But when I create my application jar (mvn package), and run it by prompt command and issue a request for a cached resource, I'm getting the following error:
I have checked the dependencies inside the jar and I could find a nested dependency in the lib folder "./BOOT-INF/lib/hibernate-core-5.4.10.Final.jar".
I found the issue 2430, but in my case, all dependencies belongs to the same module.
What I'm missing?
Thanks in advance, Alan
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2566
Unable to unlock  when thread isInterrupted
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Unable to unlock when thread isInterrupted,Please,RUN it First!!!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2567
Unable to initialize JCache using Redisson's config object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
When using Redisson with JCache with custom Redisson config, this custom config should be taken into account
From documentation:
When executing Caching.getCachingProvider(), underneath config from default json config is used:
Steps to reproduce or test case
Create a simple project with an empty redisson-jache.json(or without the file at all).
Create a cache as explained in the documentation: 14.4 JCache API (JSR-107) implementation -> 3. Using Redisson's config object:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2568
Cache performance is less when compared to map.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have performed an analysis on how map and cache performs with 50 KB and 1 MB data . As part of it, we observed map performs well compared to cache and also as data size increases the performance is degrading.
But this states better performance with 6 bytes of data even though with open source redisson.
Are there any configuration parameters which will help us to get better performance? If any, please provide the details of those parameters.
Here are the benchmark performance numbers we got for 10000 entries :
The redis configuration file, redisson configuration file and the sample program with which the performance numbers are taken are attached below.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2569
Reading stream throws IndexOutOfBoundsException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Reading Redis stream containing message without any field-value pairs should return successfully.
Actual behavior
IndexOutOfBoundsException is thrown:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2570
How do i specify default permits when creating semaphore object with RMap
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
i am trying to create semaphore using below method from RMap interface.
RSemaphore getSemaphore(K key);
What is the default permits associated with this semaphore ?  i wanted to use Semaphore as an alternate to RLock , so i need a default max permit of 1. I see trySetPermits() method in RSemaphore class.. But is there a way to set default number of permits while creating Semaphore object without having to call trySetPermits() method.
Without a provision to set a default number of permits, how would we achieve the scenario where multiple threads are trying to create a semaphore with same key ? Developer is forced to ensure that everytime a semaphore object is created for a given key,  trySetPermits() method need to be called exactly once in the entire lifecycle of application. Is my understanding right ? what happens in below scenario assuming events happen in same sequence as listed
thread 1 calls rmap.getsemaphore(key1);
thread 1 calls trySetPermits(1); // number of availble permits is 1
thread 1 calls acquire();  // number of available permits to 0
thread 2 calls rmap.getsemaphore(key1);
thread 2 calls trySetPermits(1); // Will this call sets the available permits to 1 again ? What would happen here?
thread 2 calls acquire() // ideally thread 2 should not acquire permit.  What would happen here?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2574
redisson.cache.ReferenceCacheMap causes OOM..
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Recently I used redisson 3.11.6 to r/w online redis on our server serivce, however, after it runs few days correctly something bad happens. Yep, it is awful OOM. I dumped server memory file and found that the biggest object is ReferenceCacheMap from redission (see on the pic of jprofiler).. I am really confused about why this object increased all the time and can't be released by GC, I will post some pics, hope anyone can help me to fix this. Thanks a lot.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2575
RedissonLock fails to unsubscribe from channel when a lock is acquired
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
The pub/sub channels that are created while trying to acquire a lock with RedissonLock should be unsubscribed when no longer needed.
Actual behavior
Some pub/sub channels are still present (meaning that the client did not unsubscribe) even after some locks are no longer used (either they expired or were unlocked). These channels are never cleaned up (still present after 24h since created). The only workaround to get rid of these is to restart the client.
This was observed because it caused a connection leak. When calling RedissonLock to obtain new locks this returned the error : Subscribe timeout: (7500ms). Increase 'subscriptionsPerConnection' and/or 'subscriptionConnectionPoolSize' parameters. We have increased the limits in order to have a workaround for this bug
Steps to reproduce or test case
use RedissonLock.java implementation with method lockInterruptibly(long leaseTime, TimeUnit unit) to obtain multiple locks simultaneously.
use lower limits for  subscription-connection-pool-size and  subscriptions-per-connection to increase the probability to see the bug
wait until this error shows up Subscribe timeout: (7500ms). Increase 'subscriptionsPerConnection' and/or 'subscriptionConnectionPoolSize' parameters.
connect to Redis server and fetch all lock keys and all pub-sub channels.
if number of pub-sub channels > active locks , then the bug was reproduced
if number of pub-sub channels does not decrease at all long after locks are being created, this means that subscriptions have leaked, active long after these are no longer used in RedissonLock implementation.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2576
How to know if RedissonMap is created at redis end
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is there a way to know if a map with given name is created at redis end. As per understanding, org.redisson.api.RedissonClient.getMap(java.lang.String name) always gives new RedissonMap and only creates interacts with redis when one does any map operations like get/put.
Which means Using org.redisson.api.RedissonClient.getMap(java.lang.String name) will not send any request to redis ?
So how can i know that if a map with given name already exists at redis end using any of the redisson apis?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2579
I find a bug about Redisson,when I use it to set data into redis server.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
code:
I want to set "" into redis server,but I find that this data become "",when I check redis server with tool——Redis Desktop Manager.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2580
Add TTL on Comparator
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
We works with a lot of priority queue associated with Comparator (method trySetComparator). Result : Redisson create object in database like {akey}:redisson_sortedset_comparator, but never remove them.
Describe the solution you'd like
Could you add a parameter to set a TTL on theses objects? perhaps in method trySetComparator?
Describe alternatives you've considered
We have to delete these keys regularly, by hand
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2581
Behaviour of RPermitExpirableSemaphores
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
few questions on RPermitExpirableSemaphore
what is the probability that permit id generated by  acquire() method returns same permit id for different or same key ? In otherwords is there a possiblity of collision of permit Ids in any scenario when acquiring the permit via this interface ?
What happens to the permit when redisson node on which the permit was taken has crashed after permit ? Does the permit expire ? Does the LockWatchDogTimeout come into play here as well ?
How does LockWatchDog Scheduler works ? Is this a single daemon thread or is there a TimerTask triggered for every lock request ? I am looking to understand implementation details of LockWatchDog . can we get a reference to the java class in Redisson Source code that is responsible for prolonging the expiry of keys
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2582
Unable to decode data with NullPointer
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No exceptions
Actual behavior
Error messages from CommandPubSubDecoder with messages saying:
Use @EnableRedissonWebSession or tryLockAsync (or potentially anything that uses pubsub). Then configure redisson to decode in executor via isDecodeInExecutor. Under decent load it easily throws these exceptions.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2583
spring data redis to redisson api
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I've recently used spring-data redis and planning to move to redisson without spring.
How do I migrate this snippet of codes to redisson without flushing / reinserting my previous data.
I tried using RSet but it throws an NPE
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2584
Writing to RLocalCachedMaps is seeding the data to redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello Nikita,
In our application we are using RLocalCachedMaps to improve performance. In certain cases we want to persist the data locally and not send it to redis. For that we are writing to RLocalCachedMaps with the assumption that it would not seed the same data to redis. But we see in background that writes to RLocalCachedMaps are also sent to redis. We verified this using Monitor command on Redis Server.
Can you please confirm if we have a way to prevent the writes to RLocalCachedMaps from going to redis. In case if there is any other Map that we should use, kindly let us know about that as well.
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2585
RPermitExpirableSemaphore and RSemaphore
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does Redisson allows to release the semaphore  (RPermitExpirableSemaphore and RSemaphore) on different redisson client (different jvm) than the one on which permit was acquired ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2586
Client randomly timeout and won't recover
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, we have some redisson client timeout issue.
We run a service with 30+ JVM instances. some instances' redisson client will randomly timeout (about 2 - 5 instances) and won't recover, but other instances still works fine.  The failed instances also use Jedis for some legacy feature, and it works fine too. We had to reboot the failed instances so it can recover.
Redis servers are in cluster mode, we recently scaled our cluster from 3 masters, 3 slaves to 9 masters, 9 slaves, and the problem happens more often.
Here's the timeout exception, hope it helps:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2587
broken connections on the pool
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Relate to #2043
Expected behavior
When using a fixed connection pool of min=64 and max=64 to every node (masters and slaves) on cluster config. Redisson is able to open a healthy connection pool of 64 to each of the nodes
and request controller, each HTTP GET request will fetch 100 keys from Redis cluster in batch mode.
stress test 100 concurrency
just after running about 20 seconds and stop the stress test tool.
it will already return an error and never recover.
error log is
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2588
'java.lang.IndexOutOfBoundsException' exception in org.redisson.jcache.JCacheEventCodec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm using a Redis Cluster over JCache API with Redisson 3.12.0.
This is my codec:
And I'm using javax.cache.event.CacheEntryListener the following way:
When the event occurs, it comes to org.redisson.jcache.JCacheEventCodec failing here:
with this:
Changing buf.readIntLE() / buf.readLongLE() to buf.readInt() / buf.readLong() fixes the issue.
Can anyone assist with any explanations?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2589
Redisson does not propogate security principal
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
see discourse here:
So the bug comes down to the fact that Redisson uses StandardSession, which does not serialize the security credential at all. Redisson should either:
Implement/Extend it's own Session object
Intentionally replicate security credentials
If a failover event occurs, it should go un-noticed to an end user
The user is logged out during a failover event
Steps to reproduce or test case
So you have two tomcat nodes: A & B, clustered in any fashion (forget I mentioned redisson) of your choosing; let's say they're clustered using the built in tcp point-to-point replication. Have 5 people logged into an application on the first server using standard JavaEE APIs (HttpServletrequest.login) Now turn off server A. Your load balancer starts sending traffic to server B. Their sessions will be there, BUT they will be logged out; one has to call HttpServletRequest.login() again. Upon login, Tomcat destroys the previous session (as it should), nullifying any benefit for clustering the application in the first place.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2590
What happens when Locks are not released because of a thread terminate/crash
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using RLock to acquire Lock, Does LockWatchDog releases the lock when the thread that acquired the lock crashes for some reason without unlocking ?
Does Redisson gurantee that taking a permit on semaphore via RPermitExpirableSemaphore/Semaphore is an atomic operation ? Means what happens when Redis or Redisson gets crashed in the process of creating the semaphore object ? Is there any chance that there is some partial state left on the Redis ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2591
onConnect, onDisconnect seem doesn't work as expected
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We're using the Redis provided by AWS ElastiCache, Cluster mode and we need to handle some logic once losing connections with Redis, so we implement these 2 methods.
I shutdown the Redis manually in order to test these methods. However, it doesn't work as expected.
onDisconnect() is trigged successfully while onConnect() is also trigged unexpectly. Is there anything wrong inside?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2592
Is it possible to destroy session on deserialization issue?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version: 3.12.1
We have the next situation:
Sometimes we update some of our entities that stored in a session.
After that we get a lot of exceptions in log:
We catch this exception when we trying to get some client session parameters.
And it looks strange because the client already in the authorized zone and have a session, but actually session is invalid, so is it possible to invalidate session on deserialization?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2593
JCacheEventCodec fails to read class name causing ClassNotFoundException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi! Thanks for your work! I'm pretty new to this client and now trying to understand how it should be configured.
I'm using single node of Redis (5.0.7) with Redisson 3.12.1 and keep getting an error:
Looking at the source code of JCacheEventCodec I noticed that it reads length of key differently depending on the platform. I'm running Java on Windows machine while Redis is on Linux. Now I want to figure out is it a bug or am I doing something in a wrong way?
BTW I tried to rebuild Redisson with reading key length as long (as if it was Linux or Mac) and the error disappeared.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2594
Listener question (about Lists)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey, sorry for disburbing, is there a way or an event to listen to Object change (for example when I call RBucket.set(something) ?
If no, what do you advise me to use instead ?
Thanks in advance ! :)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2595
Map EntryExpiredListener
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Sentinel mode
Map EntryExpiredListener is disabled, which is restored after the application is restarted, but will be disabled again soon.
I found that it would work every half hour during the failure, which should be a clue.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2596
tryLock()，Machines are not evenly distributed, and one server never gets the lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Machines are not evenly distributed, and one server never gets the lock.It's going to last forever
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2597
Memory leak or misconfigured
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are having an issue using Redisson with Hibernate 5.3.
It appears the items are getting removed correctly due to the TTL, but their is still a Sorted Set that grows without ever getting pruned.
Any of the " " grow without ever having elements removed.
Current properties:
Add sensible max. Otherwise they are unbounded.
I've traced the code and I don't see any locations where the redisson__map_cache__last_access__set has any elements removed.
In the MapCacheEvictionTask, it does pass in the key, but it is never used in the LUA.
Let me know if I'm missing something in the config. Thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2598
Update dependency to adress Vulnerability CVE-2017 18640
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
Yes. One of the dependencies (snakeyaml 1.2.4) has a known vulnerability:
The Alias feature in SnakeYAML allows entity expansion during a load operation, a related issue to CVE-2003-1564.
Describe the solution you'd like
Please update to the latest snakeyaml
Describe alternatives you've considered
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2599
warnings coming from dependent library fst
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
This is observed in JDK11 JVM. There should be no warnings, especially those that indicate that code may stop working in a future release.
Steps to reproduce or test case
Running the app that uses redisson
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2600
`addAndGet` operation fail on `RMap` with write-behind mode enabled
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have some counter stored in RMap (LongCodec) so addAndGet operation is used. Unfortunately, following exception thrown when MapWriteBehindTask is invoked.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2601
Memory leak when using cluster mode to read by RBatch
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
and request controller, 500 threads and each HTTP GET request will fetch 1-10 RandomKeys from Redis cluster in batch mode then sleep 30ms.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2602
Add field "name" to RedissonCache.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, it would be nice to have the ability to set  name for RedissonCache different from map inside cache.
To have different cache in different services with same names in the one redis instance just changing the name of the map inside the cache.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2603
RBinaryStream should expose SeekableByteChannel and AsynchronousByteChannel interfaces
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2604
Add RBucketsReactive and RBucketsRx objects
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2605
Add RBinaryStreamReactive and RBinaryStreamRx objects
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2606
Add SWAPDB command support
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2607
Add RPUSHX and LPUSHX commands support
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2608
Auto-Reconnect to a Modifed Elasticache Cluster
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am trying to optimize an elasticache cluster clustered mode disabled in productive use by downscaling to a smaller instance type. As we all know, AWS will migrate to new nodes with different IP addresses and the client will need to reconnect.  I would like to configure my redisson client to reconnect fast to the master node so we minimize the downtime as much as possible. What are the best practices to reduce downtime and to connect to new master nodes and slaves as fast as possible? Note that I am using ReplicatedServers to connect to the cluster.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2609
Does any form of visibility / metrics / eventing require Redisson Pro
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
From what I can tell it does. I don't think this is justified. No one should be using a library - casually or otherwise - without metrics and a basic eventing system.
There's many fine features of this product that I'd be HAPPY with as commercial only, including most of its task scheduling, but metrics is an absolute no-go.
Of course my needs may be different from others, but I ask you to reconsider this. Even providing a basic eventing system that OSS could build metrics from would be great.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2610
RPriorityQueue should extend RQueue and RPriorityDeque should extend RDeque
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2612
Add Caffeine as alternative local cache implementation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2613
In a frequent job , sometime lock.tryLock() can not get lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In a spring boot 1.5.6 application , We have a new job which is running every 30 seconds and try to acquire lock to do something . In recent days the job has tried to acquire one specific lock cause of business , We found from 00:13 on Feb 24  the job can not get the lock but after 15:03 the job can get the lock again . The operation on this lock only in this job .
the code on the lock as below :
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2614
Add RxJava3 implementation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2615
A WARNING
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2616
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2617
Can RRateLimiter create permits evenly
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
This doesn't seem to be a problem, I just don't think it is elegant enough.
Describe the solution you'd like
When I use RRateLimiter:
Like this, it will be 4 seconds apart and then create 8 permits in a split second.
I think it is best if it can create 8 permits evenly in 4 seconds. Instead of creating 8 permits in an instant after 4 seconds. I hope it can be smart to create permits every 500ms.
If I use "(RateType.OVERALL, 1, 500, RateIntervalUnit.MILLISECONDS)", this will affect the capacity of the bucket.
Describe alternatives you've considered
I didn't think of a good solution, I just hope that he can create permits evenly according to my configuration.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2618
RRateLimiter cannot update settings
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I can provide a demo directly.
Expected behavior
I hope I run the code after changing the rate in trySetRate() and the RRateLimiter can use the new rate.
Actual behavior
In fact it will only use the rate set for the first time.
I checked the KV in Redis and it hasn't changed.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2619
RMapCache Cache expiration on a cluster of Redisson clients
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi @mrniko ,
I have a query regarding RMapCache expiration events . I have the following use case
I have a backend API which will push data to redis on an API call from a third party system . I am setting a ttl to the key because I want to initiate a process in the background when the key expires.
The process to listen to key expiration events sits in a microservice.
I read in the documentation there is a EntryExpiredListener for RMapCache.
Now if the microservice sits in a cluster and if I am subscribing to key expiration events on RMapCache through EntryExpiredListener in each of my microservice instance then
a) if the key is "123" for example , on ttl expiry would all the instances get the key expiration notification ?
b) if yes , is it possible to shard the key expiration events of RMapCache lets say in 100 expiration events , 50 events go to instance 1 and 50 got to instance 2 ?
c) Whats the performance of key expiration listener if  I have 100000 expiration events to process , if there is only one instance ?  Is there a hard limit in terms of throttling the no of expired events per poll inside redis/redisson?
Regards,
Harish
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2620
Inconsistent library versions reminder.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi. I have implemented a tool to detect library version inconsistencies. Your project have 5 inconsistent libraries.
Take org.awaitility:awaitility for example, this library is declared as version 3.1.0 in redisson-spring-data/redisson-spring-data-21, 3.1.6 in redisson and etc... Such version inconsistencies may cause unnecessary maintenance effort in the long run. For example, if two modules become inter-dependent, library version conflict may happen. It has already become a common issue and hinders development progress. Thus a version harmonization is necessary.
Provided we applied a version harmonization, I calculated the cost it may have to harmonize to all upper versions including an up-to-date one. The cost refers to POM config changes and API invocation changes. Take org.awaitility:awaitility for example, if we harmonize all the library versions into 4.0.0. The concern is, how much should the project code adapt to the newer library version. We list an effort table to quantify the harmonization cost.
The effort table is listed below. It shows the overall harmonization effort by modules. The columns represents the number of library APIs and API calls(NA,NAC), deleted APIs and API calls(NDA,NDAC) as well as modified API and API calls(NMA,NMAC). Modified APIs refers to those APIs whose call graph is not the same as previous version. Take the first row for example, if upgrading the library into version 4.0.0. Given that 13 APIs is used in module redisson, 13 of them is deleted in a recommended version(which will throw a NoMethodFoundError unless re-compiling the project),  0 of them is regarded as modified which could break the former API contract.
Also we provided another table to show the potential files that may be affected due to library API change, which could help to spot the concerned API usage and rerun the test cases. The table is listed below.
If you are interested, you can have a more complete and detailed report in the attached PDF file.
redisson__fdse__redisson_2020-02-20.pdf
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2621
ERR unknown command 'AUTH' while connecting sentinel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
We met below exception in Redisson 3.12.2, could you please help have a check? There is a small change in MasterSlaveConnectionManager.createRedisConfig() against Redisson 3.10.1:
Is this change relevant?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2622
Redisson entity invalidation with JCache CreatedExpiryPolicy
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are experimenting with Redisson through the JCache implementation. We don't understand completely the behaviour of Redisson using the JCache CreatedExpiryPolicy.
Test
The test has been conducted using a cache with a TTL of 30 seconds and CreatedExpiryPolicy as expiry policy. An entry was created and put into the cache at the beginning of the tests, and checked using a loop. When the TTL expiration happens, we try to put again the entity in the cache.  To do this, we use another loop that performs retries until it succeeds.
Actual behavior
When the entity is invalidated, it is not possible to put again a new entity with the same key for a given amount of time (usually some seconds). We also tried to remove the entity with that given key just after the invalidation, but it is not possible to do that. It seems like the entity is 'freezed' for a given amount of seconds. The duration of this 'freezed' status is not clear to us.
In particular, during this 'freezed' status we noticed the following:
on Redis the entity exists (we checked with redis-cli) with the new value and the same key;
Redisson returns 'null' when we try to get the entity;
the jcache_timeout_set:{cache-name} dataset on Redis (that we think is the one used by Redisson in order to keep track of the timestamps) keeps the old timestamp.
Expected Behaviour
For our point of view, the entity should also be removed from Redis when the TTL is expired (probably at the very first moment in which one tries to get it from redis).
Is the actual behaviour by design? How is the duration of this 'freezed' status established?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2623
getPatternTopic not working
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Listener never receives published data
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2624
support parsing config file in utf8 encoding with bom
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
If redisson yaml config file has a bom header, application will fail to start. stacktrace:
File content is like :
Describe the solution you'd like
According to the unicode standard, although utf8 with bom is not recommended, it's valid. So I think redisson should support reading config files with bom.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2625
Reddison live Object as RExpired not correctly clean up index
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Persist an Reddison Live Object and cast it as RExpirable. After expiration, the RMap Objects got deleted while the key remains in the index hash object. Find action will still return an empty proxied object.
And delete action on that object will fail because the map no longer exists.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2626
Add NettyHook object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Allows to customize Netty Bootstrap and Channel objects
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2627
ARGV[1] get nil when run lua script  through redissonClient.getScript().eval()
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2628
org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (6000 ms) occured after 3 retry attempts.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
We use RedissonSessionManager that we hope will share the session of the application in redis
and We use the redis sentinel model.
Actual behavior
type Exception report
Steps to reproduce or test case
This exception occurs on the page or in the background of the application after the user is rare or over the weekend. The application returns to normal after you restart it
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2629
Does entrySet with count support sorting?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have RMapCache on my program, and store values with TTL.
Then, I want to get 100 entries that saved first on this map.
So, i have a question - entrySet with 'count' parameter returns values that saved first or last?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2630
Update dependency to address Vulnerability CVE-2017 18640 that remains since the last update
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
Yes. One of the dependencies (snakeyaml 1.25) has a known vulnerability:
The Alias feature in SnakeYAML allows entity expansion during a load operation, a related issue to CVE-2003-1564.
Describe the solution you'd like.
Please update to the latest snakeyaml.
Describe alternatives you've considered.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2631
Why is BaseConfig package protected
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
That prevents anyone from generalizing their configuration if they have to configure for multiple environments.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2632
Overriding toString() method on a live object breaks the object.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I discovered that overriding the toString() method on an object annotated with an @REntity results in the object not being stored in redis.
Steps to reproduce:
Then save the object through a RLiveObjectService.
It appears that when I override the toString method but do it with:
everything works fine, which leads me to believe that some method in the live object service is relaying on the toString method to id itself. If that is the case then this library should not be relying on the toString method, but should instead use that line above to get what it needs through reflection.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2633
Why setUseLinuxNativeEpoll has been removed from the config?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Everything's in title.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2634
Add username support to AUTH command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2635
Can't construct a java object for org.redisson.codec.JsonJacksonCodec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2636
LEAK: HashedWheelTimer.release() was not called before it's garbage-collected.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are getting the below error when trying to bring up the app with has a gradle dependency compile("org.redisson:redisson:3.12.1")
Recent access records:
Created at:
Though we are seeing this error,we are not getting blocked and our app is able to run successfully without any issue.
I need to identify whether this is a false message or this has any impact on our application.
Could you please check and identify this.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2638
Implement Spring Cloud connector
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2639
question with RBlockingQueue.poll(timeout, TimeUnit.SECONDS)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, in one of our environments BLPOP doesn't pop the elements, though there are elements in the queue when queried via redis-cli with LRANGE command. The issue happens only in one of the environments, are there any known issues with RBlockingQueue.poll(timeout, TimeUnit.SECONDS) where the timeout is zero? This method is called from a while(true) loop, the functionality works for 3-4 hours and then stops popping the elements. As I couldn't reproduce locally I couldn't attach the reproducible code.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2640
why tomcat 7.0.100 can not load files in directory "META-INF/services/" of spring-web
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
List load(Class serviceType) of WebappServiceLoader.java can not load files in directory "META-INF/services/" of spring-web.
why here has a slash? delete it will be ok.
And in pre-version tomcat, there is no slash here.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2641
tomcat 7.0.100 can not load META-INF/services/javax.servlet.ServletContainerInitializer file of webApp jars
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
My web app can not be loaded by tomcat when upgrading to version-7.0.100. My start class is loaded by defining in 'META-INF/services/javax.servlet.ServletContainerInitializer'. In tomcat-7.0.100, WebappServiceLoader.java has a bug:
why here add a "/" in version-7.0.100, which lead to ServletContainerInitializer can not be load.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2642
RMapCache adds some special characters before
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
My question - what is the special characters in RMapCache.
And how can i read json without this characters by call HGET on raw Redis?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2643
java.io.IOException: Failed to read the next byte
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I've run into the following exception and searching online does not yield any useful information. This is a Springboot app and the following is the config:
We have multiple apps that are using tableOne and tableTwo, some writes some reads/writes. Each app has multiple instances.
This exception happens after the initialization of tableTwo. TableOne has always been fine. We are able to circumvent this by doing tableTwo().clear() during startup but the following error returns when it is being used. Has anyone run into this issue before or have any guess/insight of what's going on?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2644
Redisson Configuration For AWS ElastiCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, we are using redisson with elasticache (Cluster Mode Disabled). We have 3 nodes. There are the primary endpoint, the reader endpoint and 3 node endpoints. Which URLs to use for ReplicatedServersConfig.addNodeAddress? Should we add all the nodes URLs, without the primary and the reader endpoints?
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2645
RExecutorService - Some tasks won't get executed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The setup:
Service A -> Producing tasks to executor service
Service B -> Consuming tasks (RedissonNode)
ServiceA static, ServiceB is autoscaled in N replicas
Expected behaviour
All tasks put into executor service will get executed, tasks counter is reporting correct value.
Actual behaviour
Some tasks won't get executed, the task counter is reporting negative numbers.
Steps to reproduce or test case
I was trying hard to get a reproducer on this but I am unable to simulate it deterministically. But I tracked it down to shutdown of the redisson node.
The best that could be done for reproducing the issue is to run n replicas of RedissonNode(s) schedule hundreds of tasks to the executor service and then shut down and startup some of these RedissonNodes. If for example the task print some random id or stores it somewhere you will find out that some ids are missing even though the queue is empty (the tasks HASH is empty) and counter is having a negative value of exact number of missing tasks.
My hypothesis is that the issue is in org.redisson.executor.TasksRunnerService#executeCallable
if the RedissonInstance is in shutdown state the finally clause will still decrement the counter but as the exception is not thrown the task is not re-queued. But it is a wild guess.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2646
decodeInExecutor=true isn’t compatible with certain replays
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Configuring decodeInExecutor=true works for all replays
Actual behavior
We receive periodic IndexOutOfBoundsExceptions during decoding, because of Netty’s implementation of ReplayingDecoderByteBuf#copy.
Steps to reproduce or test case
We are using  RedissonSessionRepository (Spring Session), and can reproduce by running two application instances. We use ab to creating many sessions on one of them. The other instance receives many messages—created, expired, etc.
I don’t have a code test case, but the issue is readily apparent in the debugger. When the ByteBuf is copied for the executor, the copy is of the underlying buffer—the special behavior of ReplayingDecoderByteBuf is lost. This means that incomplete messages cause IndexOutOfBounds exceptions, rather than having the message rewound and decoding retried once there is more data in the buffer.
I’m not sure if this should be considered a bug in Netty, but I’ve filed netty/netty#10122.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2647
Question about PingConnectionInterval and KeepAlive
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In production we saw below error few times. As per some closed issues if we set pingConnectionInterval, will the excess idle connections be closed after idleConnectionTimeout ?
And also enabling KeepAlive solved the issue for any?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2648
Distlock Mutual exclusion problem?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
1、assume a Redis cluster has a 5 master node; A , B, C ,D ,E representative node name.
2、Client A  lock to A,B,C three node. lock success.
3、This time B，C Node happen Network partition。
4、Client B lock to D,E tow node, lock success，Satisfy N/2 + 1 ，because have A，D，E three node。
5、Violation of mutual exclusion。
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2649
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2650
Is it possible to restrict session loading/saving to specific requests?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm working on a legacy project and trying to integrate Redisson Tomcat. The project uses the session object to store lots of data, and doesn't use setAttribute to do it. Because of this I'm forced to use the AFTER_REQUEST update mode. Since every page needs multiple calls to the server to render the whole process is very slow as Redisson will load and then save the session on every request.
Is it possible to restrict session loading/saving to specific requests? I couldn't see a mechanism which enables it so I thought of injecting a valve before the UpdateValve which will skip it in specific cases. Is there a better way?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2651
RedissonBoundedBlockingQueue drainTo method got infinite hung
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
RedissonBoundedBlockingQueue drainTo method will return result.
Actual behavior
RedissonBoundedBlockingQueue drainTo method got infinite hung.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2652
Introduce new API to manage Redis nodes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RedissonClient.getNodesGroup and RedissonClient.getClusterNodesGroup methods are deprecated
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2653
RedissonReactiveClient not saving data to Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am trying to use Redission with spring boot. I followed but when I check my Redis data is not saved. What am I doing wrong? I am new to Reactive Programming.
These are setting I am using
After that when I do keys * in Redis  I get (empty list or set) , however when I use normal RedissonClient everything works.
Clearly I am doing something wrong there, I would appreciate if someone can point that out
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2654
Unable to decode data...InvalidDefinitionException..Collections$SetFromMap..no Creators
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The class SetFromMap of Collections don't have no args construct method....
how can i fixed this .
Thx
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2656
Spring Data connector sends multiGet (MGET) commands to master instead of slave
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
When using a master/slave configuration using Sentinel and ReadMode of SLAVE, all Redis reads should go to the slave nodes.
Actual behavior
Reads of type multiGet (MGET) get sent to the master node.
Steps to reproduce or test case
NOTE: To reproduce, use the Spring Data Redisson connector.
Set up a master/slave Redis configuration using Sentinel and run the Redis MONITOR command on master and slave nodes.
Do a SET on a key. You should see the command on the master node first. The master will send the command to its slaves.
Do a GET on the key. You should see the command on the slave node
Do an MGET on an array of keys including the key you just set. You will see the command on the master node instead of the slave node.
Redisson configuration
Master/Slave using a Sentinel. Connect to Redis using Spring Data Redisson connector.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2658
FstCodec copy constructor doesn’t preserve ConfType of FSTConfiguration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have the following code:
When a copy of the codec is created by RedisExecutor, the ConfType of the FstConfiguration is always DEFAULT.
This can be fixed by using FSTConfiguration#deriveConfiguration.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2660
FstCodec exception when copying session map in changeSessionId
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We’re currently switching from Lettuce to Redisson to handle our Spring Sessions. We’re using FstCodec, because JacksonJsonCodec doesn’t support all of the objects we need to serialize.
We’re getting an exception processing the response from Redis when reading the old map (stack trace at end).
It looks like the issue is that the map’s codec isn’t being passed to the batch command, so FstCodec is being used for both keys and values, rather than the map’s CompositeCodec(StringCodec, FstCodec).
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2662
Redisson error when create client
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, when I create a client I have an error with netty...
The code:
I use the last version of redisson
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2663
Redisson considers XREADGROUP and XCLAIM commands as read only but redis considers them read-write commands not allowing these commands to be executed on read-only replica
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
In a sentinel environment with 1 master(write only), 2 slaves (Read only), Redisson Stream's readGroup and Claim method should execute commands on redis master node.
Actual behavior
The XREADGROUP and XCLAIM redis commands are actually write commands in redis but Redisson consider these as read only commands and executes on slave nodes resulting in the following error
from redis:
Steps to reproduce or test case
Use readGroups and claim  method in a  master-slave redis environment with master being write only and slaves being read only
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2665
RLock throws java.lang.IllegalMonitorStateException in the thread where got the lock twice
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In a spring boot 1.5.6 application, We have below operations on merchant account ,
In PayServiceImpl class , using spring proxy (IOC) to call payHandlerService.balanceFreeze.
It seems (B) throws the exception as below
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2666
DB count not decreased as expected.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does mybatis-redisson keep on sending query to DB in background? I changed in project from local mybatis cache in distributed env. to redis cache using mybatis but load on DB is still same. I expected load on DB lesser after using redisson-mybatis.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2667
about reading from replicas
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Configuring only few maps for strong consistency:
Can i configure that few maps are read from the replicas and for others where i need strong consistency are read from the master only?
In this way i get strong consistency and also performance for other maps.
If not, can i have  to have two redisson instances with different configurations (one with read from replicas and other w/o )  for doing this?
Preventing data loss for map.
have a copy of map and write to it every time when the primary map changes name the map in such way that slot# is on different redis master when there is a node crash, start using other map as primary map (we are planning to use elastic cache ,hopefully there is a way to get notified which master failed)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2668
use redisson make jvm old generation overflow
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
redisson use without problem
Actual behavior
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2669
Improve RLock reliability during failover and deprecate RedLock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The main idea behind RedLock algorithm is to overcome losing of lock acquisition during failover since Redis replication is asynchronous. Moreover its effectiveness still subject of dispute.
To overcome this every Redis command execution made by RLock object is synchronized through WAIT command introduced in Redis 3.0.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2670
RRateLimiter delete
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version:3.11.6
Delete the invalid
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2671
Sentinelconnectionmanageris not correctly in IPv6 dual stack environments
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Note:this ticket is different from ticket2471 and ticket2303
I found the following bugs in the SentinelConnectionManager class，my test environment is as follows，three sentinels(node10, node14, noe15)，one master(node14)， one slave(node15), the network environment of each node is IPv6 dual stack, and the IP of each node is as follows：
The application program runs in node14 and node15 respectively. The following logs are captured in node14 and printed frequently in the log:
When the application is initialized, we will get all sentinels in the constructor of SentinelConnectionManager by synchronously call (140 lines)：connection.sync(StringCodec.INSTANCE, RedisCommands.SENTINEL_SENTINELS, cfg.getMasterName())，debug log as below：
In the function scheduleChangeCheck, we will asynchronously call(446 lines), RedisCommands.SENTINEL_SENTINELS, cfg.getMasterName()). Get the sentinel of the current time point, and the debug print is as follows:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2672
The idle connection does not be released after redis cluster failover.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In cluster mode, when I called cluster failover in redis-cli, the redis-cli client list showed that connection number increased than masterConnectionMinimumIdleSize/ slaveConnectionMinimumIdleSize  while those connections idle time is larger than idleConnectionTimeout. I have tried both redisson verion 3.7.2 and 3.12.4, redis verion 3.2.9 and 5.0.8. So i wander why the idle connection does not be released after redis cluster failover? It's a feature or the problem of setting or just a bug? Thanks for reply.
Here is my setting of redisson:
Here is my redisson connection count and details, and you can see there are many connection idle time is larger than 10s, cmd is NULL, and connection number is larger than masterConnectionMinimumIdleSize, but is does not release the idle connection.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2673
Exception after upgrading to redisson 3.12.4
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Earlier i was using redisson 3.11.6, application was working fine.
after upgrading to redisson 3.12.4 , during application startup i am getting this exception
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2674
Do we have support for Micronaut framework
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2675
How does Redisson handle concurrent requests?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Say I have a page which requires two requests to render. In my session I hold a variable A=1. I use Redisson with readMode="MEMORY" updateMode="AFTER_REQUEST" broadcastSessionEvents="false".
Now I load the page. Both requests fire concurrently, the first completes before the second. The first request goes to Redis, gets A=1, changes it to A=2 and persists the session to Redis. The second request goes to Redis, gets A=1, does nothing and persists the session to Redis. Now in Redis I have A=1, even though I expected A=2.
Does Redisson do anything clever to handle this scenario or is it up to me?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2676
RLiveObjectService  search conditions not working as expected.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
LiveobjectService find method not working as expected, I am trying to search an object based on its  properties values, something like this
It should not return any values is condition is not satisfied
Actual behavior
It's returning all the values
Steps to reproduce or test case
Create an object with at least 3 properties, Populate it with random values and store it as live objects
Use something line below-mentioned code to replicate.
Here if
Lets say we have following entries
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2677
RTopic.countListeners() unexpected result
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Consider the following code:
The countListeners should return 1 per topic.
It looks like the countListeners returns the total of listeners registred for all topics (2 in this case).
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2678
RedisNodeNotFoundException after failover in AWS Elasticache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior : Redisson should be able to talk to redis without any hiccups while failover is in progress or completed.
Actual behavior  : After failover is completed, redisson is throwing exceptions for a slot which is 1684. It also mentions that it is unable to connect to master in logs.
Why we think redisson is causing issue and not redis:
When the application was restarted which means the redisson was disconnected and reconnected to same configuration URL. Redisson worked fine, which tell us the issue was with redisson and not redis. We could see that all slots were covered via redis console and also via redis-cli. We were able to connect and retrieve data from 1684 slot from redis-cli. Cluster nodes and Cluster info command also shows everything is fine.
Below is the logs of interest:
Steps to reproduce or test case:
While the application was running. We have triggered a manual failover from AWS elasticache console. Which resulted in this exception. It is consistently reproducible.
Redis version: Elasticache Redis 5.0.6, cluster mode, ssl enabled, password enabled. Redisson connects using configuration URL provided for redis.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2679
Redisson is unable to start if first sentinel node in list is down
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2680
RedissonConnection#del() doesn’t participate in pipeline
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We’ve been experiencing intermittent NullPointerExceptions (stacktrace at end) that appeared to be race condition. The root seems to be that del(byte[] keys...) doesn’t properly participate when a connection is pipelined.
I believe the simplest reproduction is:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2681
ERROR reactor.core.scheduler.Schedulers:319 : Scheduler worker in group main failed with an uncaught exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I had use the version:
compile group:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2682
Unable to find master entry for local.db.xxx.xx.com/10.80.xxx.xx:6379. Multiple IP bindings for single hostname supported only in Redisson PRO!
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We use load balancing to achieve high redis availability,So we're using a domain name to connect to redisson.But now this error occurs:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2683
Error: java.lang.ClassCastException: class org.redisson.api.BatchResult cannot be cast to class java.util.List
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, I really want to start migrating to JDK14.
So my question is about JDK14 support estimates?
Since bloomfilter doesn't work right now (which is pretty logical):
java.lang.ClassCastException: class org.redisson.api.BatchResult cannot be cast to class java.util.List (org.redisson.api.BatchResult is in unnamed module of loader 'app'; java.util.List is in module java.base of loader 'bootstrap')
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2684
Elasticache and Clustered Redis, question about Configuration Endpoint
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is there a example of how to correctly connect to a Redis Cluster using Configuration Endpoint? It seems like you must add all the nodes to Redisson configuration?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2685
ClassCastException between BatchResult<?> and List<Boolean>
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
No exception
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2686
RedissonReactiveSubscription is not initialized properly and as a result - no messages are handled
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
In case of using through org.springframework.data.redis.core.ReactiveStringRedisTemplate, I expect to handle messages from the channel I subscribed to via reactiveRedisTemplate.listenTo(channel)
Actual behavior
The subscription via reactiveRedisTemplate.listenTo(channel) is happening and redis-cli PUBLISH channel hello returns (integer) 1, but NO messages are handled.
Spent some time debugging, I noticed that anonymous subclass of BaseRedisPubSubListener  is created in RedissonReactiveSubscription.receive() with overridden onMessage(CharSequence channel, Object msg) method which as I understand should handle all the messages from redis channel (by the way, perhaps you could explain why BaseRedisPubSubListener overrides onMessage with empty implementation? ).
In fact the listener handles all messages and swallows it somewhere, debugging the message hits onMessage breakpoint, but nothing happened then.
By the way, in some unexplainable cases (I really don't know how to explain it) somewhere in the code the SubscribeListener is initialized and message that is handled by that listener is handled downstream (happens only in debug mode with some combination of breakpoints placed:)).
But event in that base, a single message first handled by BaseRedisPubSubListener empty implementation of onMessage and only then by SubscribeListener which translates the message downstream.
I tried a lot of times but didn't understand what is really needed to achieve this.
Steps to reproduce or test case
Initialize ReactiveStringRedisTemplate with regular spring config (example attached).
Call reactiveRedisTemplate.listenTo(channel) and subscribe to it.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2687
publish  message  throw exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
rtopic can receive message,  but throw exception on publish message  every time.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2688
Best method to zero-out Bloomfilter
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm wondering what the best approach would be using Redisson to zero-out (remove all entries) residing in the bloomfilter entry generated by Redisson's RedissonBloomFilter.tryInit() and .add commands?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2689
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2690
RedissonSessionRepository topic listeners initialization has race condition
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We’ve successfully migrated to using RedissonSessionRepository for our Spring sessions, but we get intermittent NPEs right after startup. It looks like the issue is that the first listener is added before all of the topics are initialized, and the conditional matching in onMessage doesn’t go in the same order as initialization.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2692
RedissonSession#changeSessionId expiredKey race condition
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a number of instances of our app in production, and we’ve encountered a race condition where the same session might have changeSessionId invoked on the same session separate servers. This means one server might receive -2 from PTTL, which isn’t currently handled.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2693
RedissonSession retains reference to wrong map after changeSessionId
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When RedissonSession#changeSessionId is called, state is copied to the new key in Redis, but the field remains a reference to the old RMap. Any subsequent session updates in that request will get persisted to the wrong key.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2695
Spring session timeout
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The spring session documentation has two spring boot ways of configuring session timeout (spring.session.timeout, server.servlet.session.timeout) Redisson does not make use of either of these, instead you have to set it on the EnableRedissonHttpSession annotation which is not configurable.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2696
SessionExpiredEvent and SessionDestroyedEvent
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Inside RedissonSessionRepository is code for publishing session expired, session destroyed, and session created events. Of these, i have only been able to get the session created event to fire. What circumstances trigger the destroyed and expired events?
Have attempted deleting by session id from the repository, deleting directly in redis, and trying to load an expired session from the repository, waiting for the entry to expire on its own. Thank you.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2697
ClosedChannelException during RPUSH and BLPOP
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected: RPUSH should work without any exception
Actual: WriteRedisConnectionException/ClosedChannelException occured
Steps to reproduce: Intermittent error in production
When doing RPUSH, it's trying on the connection which is busy with BLPOP on entirely on different queue. Can you let me know how to avoid this issues. I have also added ping interval.
This issue is also happening on connections waiting with command BLPOP.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2698
publish return 0 when redisson as client
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
sentinel mode, 3 node
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2699
Simplifying debugging of sentinel connection problems
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
Yes; it's a problem. It's difficult to debug connection problems when connecting to sentinel servers fails. Example log below. When each sentinel node connection fails, a small warning with no stack trace and real error message is emitted. When finally no connection is made a message with list of servers tried is included. We've no information about the actual underlying problem.
Describe the solution you'd like
Collect the exceptions in a list and output them with stack traces after it's established that no connection was made.
Describe alternatives you've considered
Log stack dumps to INFO or DEBUG.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2700
I don't want redisson connect to some specific nodes in redis cluster, can I do it?If yes, how?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a redis cluster with 3 master and 6 slave,and I want redisson only connect to the nodes in config file.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2701
A lot of threads waiting on “org.redisson.spring.data.connection.RedissonConnection.sync”
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When I was doing the stress test, there were more than 180 threads （like:org.redisson.spring.data.connection.RedissonConnection.write() ,OR org.redisson.spring.data.connection.RedissonConnection.read(),and org.redisson.spring.data.connection.RedissonConnection.del()）waiting for "org.redisson.spring.data.connection.RedissonConnection.sync()". What is the reason for this? And how to solve it?Thank you very much!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2702
ReactiveValueOperations#set result calls onComplete directly without offering Boolean value
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The Mono<Boolean> set(K key, V value, Duration timeout) in ReactiveValueOperations  from Spring Data Redis Reactive implies the Mono will return an Boolean to indicate success or fail.
However when using Redisson's Spring Data Redis Integration, the response is either onComplete or onError. It's not revealed in documents that this method should not rely on the Boolean value. It would be easier to use the integration if documents offers these important information.
Besides, the Spring Boot Starter includes spring-boot-starter-web module which conflicts with newer spring-boots-starter-webflux module, which is necessary for Spring Webflux applications.
After exclude the spring-boot-starter-web module from Gradle, Redisson Starter works well. So, can the web module be removed from starter dependencies officially, or, change it to other dependencies?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2704
wheather use the shared instance or a new one, when getting reids object every time？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
hi,@mrniko
in the following scenarios, i do not know how to use the API, can you give me some advice?
since the password of the server will be changed, the client needs to get a new redisson object every time to access redis server. then, how to configure the codec？
1、redissonClient.getBucket("a", new JsonJacksonCodec()).set(new Animal());
Whether the above code will cause OOM when used in multiple threads，described in #2574
2、redissonClient.getBucket("a", JsonJacksonCodec.INSTANCE).set(new Animal());
if so, is there performance issue with json serialization and deserialization？
Gilberto Torrezan said "the ObjectMapper is indeed Thread safe. But reusing the same object can decrease the performance of your application, since all - 1 threads can be locked at a given time waiting for the owner of the lock to complete the serialization/deserialization of JSON." in
and, wheather you provide this  instance(JsonJacksonCodec.INSTANCE) to advise not to new  instance every time?
thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2705
org.redisson.client.RedisResponseTimeoutException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Sometimes the following error occurs:
org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 3 retry attempts. Increase nettyThreads and/or timeout settings. Command: (EVAL),
problem analysis:
After catching the network packet,we found the reason is the redission client use a closed connection (maybe closed by os tcp or redis-server ) in the ConnectionPool.
question:
Because the connection in the connection pool has not been operated for a long time, it is closed by the server, and the connection pool does not know.
I want to konw whether there is a heartbeat mechanism on the redisson client and redis-server(use the default configuration)?
Is there any problem with this configuration?
Is there any invalid connection detection mechanism?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2706
error in RedissonBoundedBlockingQueue
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
when I use this method in project：
I fount some error like this:
seems like the message's value is too large,bug I'm not sure, and I  can't reproduce the error.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2707
Failover with Elasticache cluster causes excessive failures, RedisNodeNotFoundException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Elasticache Redis cluster failover on primary should not cause several minutes of failing Redis calls.
Actual behavior
After failover ClosedChannelException caused by WriteRedisConnectionException happen.
Requests timeout and fail with WriteRedisConnectionException.
Note: this looks like the same problem as issue #2678
Steps to reproduce or test case
Run application
Do "failover primary" on a shard from AWS Console
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2708
Cache not working for hibernate collection, that is joined by non primary key field
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When it's like this:
Every time I getting bs it calls database.
But when we change joining field to A primary key:
It gets bs from cache.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2710
Events per client
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, using redisson for http session, the created, expired, destroyed events for sessions are raised on each client. Are there any strategies to isolating this to the client that created the session? Looking at prefixing an identifier, and filtering based on that. Wondering if there are better ways? Thank you.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2711
About asynchronous methods in RMapCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, Ask a question:
We want to control the data through redis in a high concurrency scenario, but now we have a problem. After reading the methods inside, all of them are asynchronous. It seems that the data retrieval is not correct. Please ask me how to solve this problem. It is my object. Is it wrong?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2712
RSetReactive contains not full equals
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redis set has element
Expected behavior
should returen false, because use redis SISMEMBER
Actual behavior
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2713
Redisson fastRemove not working in AWS Lambda
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
We use redisson library pom dependency for an AWS lambda code. The lambda job is to evict a cache entry from the AWS Redis cache. The Lambda has stopped working since we have upgraded the redisson version from 3.3.1 to 3.12.3. Looking at the Lambda cloudwatch logs, we can see the following in logs.
But the entry in the cache is not deleted. There is no exception/error in the logs. Is there any known issue related to it or are we missing any configuration in the latest version to make the deletes happen.
We use the following code
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2714
RedissonLock.tryLock() interrupted and keep renew lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
when tryLock is interrupted, watchdog renew listener is cancelled too
Actual behavior
when tryLock is interrupted, watchdog keeps renewing lock, this makes ifinite lock
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2715
MapLoader and TTL
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is it possible to load entry into hash map (e.g. RMapCache) and set TTL for loaded entry? What would be workaround if this feature not exists?
I would like to add entries into cache using read-through strategy but to keep that entries with TTL and evicted after TTL.
Thanks,
Marko
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2716
Rbatch String values pre append \x00\
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I am using the below code:
Why are my values appending \x00\x00\x00\x00\x00\x00\x00\ before the XYZ string which is my real value?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2717
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2718
RedissonReactiveClient getLock and getLexSortedSet is executing on different thread.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
So here lockk is printed as true, but redissonReactiveClient.getLexSortedSet(redisKey) cannot execute and directly goes to onErrorResume as it is executing in different thread than lock.tryLock(). I'm new to this reactive style of programming, I don't know what I'm doing wrong maybe there is a better way to lock and get the sortedset? please help.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2719
Storing UUID objects is impossible?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey !
Everytime I try to store UUIDs on redis (with a List, a Set, a bucket) and I wish to compare them or use them as a keys to get elements in a hashmap for example, this error occurs, UUID is considered as a string, here is the format in redis:
Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.UUID
Maybe JsonJackson can't serialize correctly uuids, I sadly didn't find anything interesting about that :/
Thanks in advance for your answer, and sorry for disturbing with weird questions
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2720
Master fail over with AWS ElastiCache with ReplicatedServersConfig
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have 1 primary and 2 replicas in our production AWS ElastiCache Redis cluster (cluster mode disabled). All three nodes given to ReplicatedServersConfig as mentioned in. We have set scan interval as 2000, and readMode as MASTER. We are using replicas only for failover, when we tested failover to one of the slaves, the Redisson client still sending the write requests to replica (which is old master) and failing with error org.redisson.client.RedisException: READONLY You can't write against a read only replica.
Does it have to anything to do with readMode? Should we use SLAVE or MASTER_SLAVE?
With readMode MASTER redissonClient.getRedisNodes(RedisNodes.MASTER_SLAVE).getSlaves().size() returns 0, so I assume it will not have old slaves info in the context.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2721
org.redisson.client.RedisException: Unexpected exception while processing command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2722
Use MarshallingCodec by default
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2723
RedissonSessionRepository.loadSession fail when there is an empty attribute in session
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
RedissonSessionRepository.loadSession throws RedisException
Actual behavior
RedissonSessionRepository.loadSession seccess
Steps to reproduce or test case
1.new Sesssion
2.make one of session key's value empty
3.load session
readAllEntrySet can't read a map with an empty value
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2724
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2725
JbossMarshallingRiver Codec implementation corrupts objects serialized in the thread which had a serialization exception before
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
For JbossMarshallingRiver Codec
If I encounter notSerializableException for an object, then any other object afterwards sent for serialization should not be incorrectly serialized i.e there should not be any cascading effects
Actual behavior
On encountering notSerializableException , some objects serialized  in the same thread afterwards throw unsupported protocol version exception during deserialization.
Root Cause
When an encoding exception (like notSerializable) occurs during encoding, Marshaller methods finish() and close() are not called and since the Marhsaller encoder is stored in FastThreadLocal variable,further serialization by same marshaller create a problem. We have fixed same by simply applying try{..} finally clause in our implementation and it works.
Mostly default configuration but with MarshallingCodec
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2726
Question about retryAttempts&retryInterval
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In our environment, we see randomly long time access due to some commands go to 1 time or 2 times retry.  ~1500ms(retryInterval) passed after connection acquired but not able to send command and go to attempt.
Restart Redis server will recover it.
I wonder to know:
In which possible scenarios Redis command can't be sent to Redis server, and enter retry mode?
Why restart Redis server can recover?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2727
`tryLock` in redis cluster working not properly
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
tryLock of RLock can not return true when the lock key still exist in cluster redis.
Actual behavior
Sometimes tryLock can acquire the lock key although it still exists. Moreover, the TTL of the lock key also is reset.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2728
Connection Pool refresh. Redis ips keep changing.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, we have deployed our Redis on Kubernetes and the pods can die. One of our java apps uses redisson. I want to know if there is any setting that if one of my pod dies and a new pod comes up with new IP redisson can get the new IP and refresh the connection pool?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2729
In a sentinel configuration, the configuration subscriptionMode.SLAVE does not seem to work
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
My question is regarding configuration
for redisson pubsub in a redis sentinel environment.
Since redis master node does not seem to replicate topics and subscription to the slaves. I wanted to know how does redisson track on which slave nodes topics have been created. Also,  if a subscription is created on slave node, it will not replicate to anywhere (being a slave) for two logical reasons:
Redis does not replicate topic subscriptions to slaves
A slave does not replicate anything to other nodes in Sentinel
I am asking this question, because I am unable to publish messages with this configuration.
I will be happy to be corrected if my assumptions above are wrong.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2730
Get multiple delayed queues of one queue
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi all,
I wanna create two delayed queues, whose items can be both transferred to one specific queue. It seems, however, there's no queue name for delayed queues since the function getDelayedQueue only accepts just one argument. So getDelayedQueue(specificDestinationQueue) always returns the same delayed queue, right?
Is there any solutions? Any help would be appreciated.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2731
Problem of 'java.util.Collections$SetFromMap' already exist in V3.12.4
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Problem of 'java.util.Collections$SetFromMap' already exist in V3.12.4
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2732
Node not discovered
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Seeing the following exception in logs which results in command failure:
Is the above issue resolved by: #2234 ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2733
Bucket cast exception：java.lang.Long cannot be cast to org.redisson.client.protocol.decoder.ListScanResult
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
description：
When using Redisson's Bucket function, the type conversion error is reported from time to time
such as：java.lang.Long cannot be cast to org.redisson.client.protocol.decoder.ListScanResult
va:193)
Steps to reproduce or test case
The code is called as follows(odd and even will appear)：
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2734
how to use Redisson Lock if lua 'eval' is forbiddened in Redis Cluster because of not good support？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In Redis Cluster, all keys require in same slot with lua, so 'lua eval' is forbiddened in some case or in company，then how to solve this to use Redisson Lock?
Caused by: org.redisson.client.RedisException: ERR unknown command 'EVAL'
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2735
Different DB of same redis instance share session among tomcat instances which belong  to different apps?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When different tomcat instance which belong to different App use a same redis instance, but not same DB , it looks the session shared among instances ......The  session id of B98D3CB43DC1DF0B40C47EA71B45AED7 (exception as follows ) is belong to user of app A, but the exception throwed in app B.....Is it a bug?
Threy use same redis , but different database。 Is it not correct usage of redisson in tomcat  session  manager?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2736
org.redisson.tomcat.RedissonSessionManager.findSession Session can't be found
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I was trying to deploy simple webapp using Redisson manager on AWS Elastic Beanstalk. The redis that I have configured, is also from AWS Elasticache.
I have moved these 2 files to conf folder of Tomcat8, and also the required JARs to lib folder. If I login to box, I can see these files correctly updated in Tomcat directory.
Still when the deployment is complete, if I try to access the application, it does not come up. Even though I am able to see the war getting deployed in Tomcat.
Upon observing the logs, I saw below :
Am I making any mistake here? Redisson version is : 3.12.4
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2737
Redisson cannot reconnect to Redis cluster after Redis service is bounced
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, I'm current experiencing an issue with a Redis cluster(5.0.7) on Redisson 3.12.0 while testing how our system will handle the outage.
I'm using the springboot+Redisson. The test case will keep writing data to Redis Cluster.  On system startup, everything looks good and cache keys created in all the shards. However, if I take down the entire cluster and restart it again, I saw a bunch of following exception:
Per the output of "CLUSTER NODES", all the nodes' status is "connected"
Expected behavior
Redisson successfully reconnects to the cluster after the cluster restarts
Actual behavior
Throw exception every time the slot is in 2nd/3rd shard, which means slot number is larger than 5460.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2738
How does redisson determine the number of connections to Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use https://github.com/Grokzen/docker-redis-cluster as my redis-cluster which crates 3 masters ans 3 slaves. I use the following redisson configurations:
On app start up, I use "CLIENT LIST | grep MyService | wc -l" to calculate all the connection numbers on each node and get the following results:
Could u please help to clarify how Redisson determine the connection numbers? or do we have any document that can describe the internal mechanism?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2739
On sentinel failover, connections to the new master are getting doubled
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
version: 3.12.4
When force failing over the number of connections to the new master are getting doubled. We establish around 6000 connections to redis server across all application servers. We didn't change the default idle connections from 24. After failover we observe 48 idle connection to new master, and it's not coming down till we restart the application servers. Because of this issue we had to change the max connections in redis-server to 20000 from 10000.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2740
Idle connection is not killed after timeout
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use the above settings. The connections is always 2 event the idle time is bigger than 20 seconds.
Did I miss something?
Btw, for the connections in master node, it always 4 and no connection is closed after idleConnectionTimeout.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2741
How to custom rules of acquire lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RLock base on thredId to judge holder, how can i custom rules like base on an income string?
or is there any way to implements ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2742
Implement TimeSeries structure.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
It should support multiple timestamps per value and entry expiration.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2743
Can't connect to server for AWS ElastiCache Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Background
I'm using redis as a lock manager in my application. I set up the AWS elasticache redis server with 1 primary and 2 replicas.
Expected behavior
All Redisson clients can connect to the server
Actual behavior
My application is running on mutiple ec2 instances, there is always some instances(for example 2/10, 5/30) can't connect to elasticache redis server.
Steps to reproduce or test case
When I deploy the application through beanstalk. There is always some instance fail at the healthcheck. When I check the log of those instances. Here is what I found:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2744
Connections are not dropped even idle time is larger than idleConnectionTimeout
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
connections for Redis cluster
For those connections to 7002/7003, I found that all of their idle time is larger than idleConnectionTimeout.   Could you please help to clarify why Redisson doesn't kill those connections?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2745
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2746
DNS monitoring for cluster mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a prod env which is using Redis cluster in AWS and aws provide a cluster endpoint. Our redisson configuration is cluster mode. But we just use the cluster endpoint in nodeAddress but not a list of cluster nodes:
When we upgrade Redis cluster,  ip address of all the nodes are  changed. It seems that Redisson cannot figure out the new ip address. It keeps  reconnecting to the old ip addresses and we have to bounce all the micro services to mitigate this issue.
I found that DNS monitoring is not enabled for cluster mode. Do you have any suggestion do solve/work-around this issue?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2747
masterConnectionPoolSize cannot limit the maximum connection pool size
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Description : I set slaveConnectionPoolSize/masterConnectionPoolSize to 64. But node 7000/7002(master) has 115 connections
Question_1: Is this a bug?
Description : I waited for a long time to check if those connections can be killed.  Unfortunately, those connections are always alive. It seems that idleConnectionTimeout doesn't work as expected.
Question_2 : I'm wondering if there's something wrong with my configuration or it's a bug?
My Configuration is as followed: Cluster mode
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2748
Command execution timeout for command: (SENTINEL GET-MASTER-ADDR-BY-NAME)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version: 3.12.4
In production we are seeing intermittent error spikes of background sentinel commands timeout failures like SENTINEL SENTINELS, SENTINEL SLAVES, SENTINEL GET-MASTER-ADDR-BY-NAME. Are these related to available nettyThreads? This is happening only in couple of servers, we have around 100+ servers in production with similar settings. At the same time we didn't see any regular application side used commands' redis timeouts.
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (SENTINEL GET-MASTER-ADDR-BY-NAME)
Can you let me know what could be reason for these intermittent errors?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2749
Distributed scheduled executor service
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[]
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2750
Node for slot: 14296 hasn't been discovered yet. Check cluster slots coverage using CLUSTER NODES command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2751
Tomcat valves need to check getNext() if it is not null first
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
in UpdateValve,java there is following code (all tomcat valves needs to be checked for such code):
and getNext() could return null if there are no additional valves to invoke
Expected behavior
No NullPointerException to occur
Actual behavior
NullPointerException would occur in Valves that uses getNext().invoke(...), if getNext() return null.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2752
How to stop Redisson connecting to a stale node
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a Redis cluster in AWS, in which there're 50 master nodes. Each master node has 1 slave node.
One of the nodes looks like
I use nslookup to check the ip address of these dns records.
master(001-001.usw2.cache.amazonaws.com) has ip : 172.31.33.149
slave(001-002.usw2.cache.amazonaws.com) has ip : 172.31.33.51
Our Redisson client keeps connecting to an unknown ip:  172.31.33.151
Per the result of "cluster nodes", I found that the unknown ip is a failed slave node,
Per the AWS console, I'm sure that dns name of the current slave is 172.31.33.51.
So the ip 151 should be stale and we should not reconnect to that address. The retry attempts throw a timeout exception and make cpu/memory usage high, which lead to memory leak issue.
Our system do have connection for the master node (ip 172.31.33.149) and the new slave node (ip 172.31.33.51)
Is there any way/configuration to stop Redisson connecting to the stale node?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2753
Bloom Filter can add by pipeline?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I want to use bloom filter by redisson and set expire.
when data is expired, init agin, I need to execute RBloomFilter.add() too many times.
how can I use by pipeline? thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2754
Ratelimiter occur error in aliyun redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Exception as below:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2755
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2756
What's the best way to update an attribute outside the normal flow?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use Redisson-Tomcat with update mode AFTER_REQUEST. I'd like to do an update to a specific session attribute before the request gets to the UpdateValve. I think (ignoring for the moment ClassLoader issues) I can do something like; but is there a better way?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2757
(missing no-arg constructor): org.apache.catalina.realm.GenericPrincipal
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Environment:
Scenario:
An app is hosted by two tomcat instances, Tomcat A, and Tomcat B, both are configured with AWS ElastiCache/Redis. The host is registered with AWS Application Load Balancer (sticky enabled).
The user logon to Tomcat A, and the session is cached by Redis -- good.
I killed Tomcat A
Load balancer started forwarding the traffic to Tomcat B -- Expected
The user continue to work wit the app
Tomcat B detect the change, and try to fetch session id from Redis, the I get this error, see stack dump:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2758
RedissonTransactionalMapCache.put() creates entries with incorrect TTLs
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When calling RedissonTransactionalMapCache.put(K key, V value, long ttl, TimeUnit ttlUnit, long maxIdleTime, TimeUnit maxIdleUnit), the TTL for cache entries is not set correctly.  The problem is that putAsync is passing the expiration timestamp into putOperationAsync.  However, the code in expect it to be a passed the actual TTL value.
What happens is that when we get here (in BaseTransactionalMapCache)
The ttlTimeout is a timestamp (number of ms since the epoch) rather than the timeout.  This results in the entries being created with what is effectively an infinite TTL.
Expected behavior
Entries are created with the provided TTL
Actual behavior
Entries are created with a TTL of ~50 years
Steps to reproduce or test case
If you check the TTL, using map.remainTimeToLive(key), you will see that it is well over 600.  The value you get back is approximately System.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2759
Do async operations come with ordering guarantees?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is the order in which async operations are submitted to the Redisson client guaranteed to match the order in which they are actually executed?
For context, I am using RStream.addAllAsync to submit items to a stream, and I need the items stream order to exactly match the addAllAsync call order. Are there any race conditions possible with rapid calls to this method (1-2ms delays between calls) that would result in out-of-order insertion?
Thanks in advance!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2761
I have a question about how can I make sure of member in set or not in set?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Now, I can only get All members, but I cant make sure of  member in set or not in set.
Thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2762
RateLimiter Overall configuration across different nodes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I have 3 different processes accessing Redis. I am using the below code to make sure only one node gets hold of the resource for the specified time.
My understanding here is 1 permit is available for every 60 seconds. If one node is processing the code after acquiring the permit, other nodes trying to call acquire should get as false.
Here, other nodes are able to acquire the lock without 60 seconds delay. Is there something wrong with the usage? Please help me understand how would I hold the access on the resource for the specified time.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2763
ResissonSessionRepository  create many  redis  key  like  “xxorg.springframework.session.FindByIndexNameSessionRepository.PRINCIPAL_NAME_INDEX_NAMExxx”, but not set ttl, how to deal with?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2764
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2765
how to config redisson cluster in springboot
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2766
RScoredSortedSet.entryRange() can't get entry list under redis cluster？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson version：3.7.5
I created a redis cluster of three masters and three slaves in the virtual machine.
I want to test whether the scoresortedset supports clustering.So I wrote a unit test class
I found that the key and score can be inserted normally in the scoreportedset, but when I try to read the size of the current scoreportedset, I find that the return value is 0.
This is the output：
I tried distributed lock under this condition. It seems that there is no problem, so I am confused about the above problems
I hope you can answer my question, thank you
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2767
sentinel: redis://xxx was down
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use org.redisson:redisson-spring-boot-starter:3.12.5.
When spring-boot app with spring yaml redis section
started i see in log file
What's wrong?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2768
JsonJacksonCodec decode occur error
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The trace log as below:
field "liveStreamUrl" decode error
redisson: 3.12.5
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2769
maxSize on RMapCache
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does setMaxSize() always successfully apply the size limit on cache?
(Why do we have two methods: maxSize and tryMaxSize)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2770
Connectivity issue while using Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a Redis cluster(running in Sentinel mode) with 3 nodes and we are using Redisson (version 3.10.7) to interact with Redis.
Since last one week, we are facing an issue in our Development environment wherein the client application is not able to connect to the cluster. Continuously older connections are being dropped and new connections are being created. Below is the snapshot for the logger.
We tried below points to investigate the issue:
Restart the client application.
Restart Redis cluster nodes.
Post these restarts as well, the same issue persisted. We were able to resolve the issue by changing the "timeout" property from 0 to 10 seconds in server.conf of Redis. On reverting timeout back to 0 also is not causing the issue again.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2771
Connection leak issue while using Redis-Redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have a Redis cluster(running in Sentinel mode) with 3 nodes and we are using Redisson (version 3.10.7) to interact with Redis. While checking for some other issue, we noticed a high number of client being connected to server.
On further investigation, we noticed the below scenarios.
In case app restart is not done as well, connection remains open even though we have a "timeout" set at server level. Is Redisson leaving the older connection open  and creates a new one in case of redis server crash or network glitch?
Also, I noticed that with each client connection to Redis server,Redis is opening 4 file descriptor. Is this normal?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2772
redis-cli scan 0 COUNT 20 equivalent in redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I want to know what is the >redis-cli scan 0 COUNT 20 equivalent in redisson. I have 4  million records in redis and want to iterate through them (with a key pattern)
I tried using Stream getKeysStreamByPattern(String var1, int var2); and Iterable getKeysByPattern(String var1, int var2); but it hangs infinitly.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2773
How can RBlockingDeque.pollLastFromAny() return the queue name?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
1.Return List whose size is 2 when use jedis brpop method, the first is the queue name,and the second is the value.
2.pollLastFromAny() only return the value
So how can i get the matching queue name with the value.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2774
Nullpointer exception after logout Tomcat application
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Logout without nullpointer exception
Actual behavior
Logout throws this exception
Tested with updateMode="AFTER_REQUEST" at first, changed to DEFAULT later, exception is still thrown.
It doesn't really affect the application as it happens after destroying the session but it does fill up application logfiles.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2775
Add keyPrefix="" to Redisson Tomcat documentation page
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Not much to mention, the title says it all I guess. It's a nice feature but it seems to be missing in the documentation.
Best regards,
Werner
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2777
RedissonKeys.unlink uses del instead of unlink
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Redisson configuration
Default single server configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2778
RLiveObjectService.merge() method doesn't override collection state
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2779
Add RLiveObjectService.findIds() method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Add method to find all stored entiry ids by specified entityClass.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2780
How to update RateLimiter interval?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I have created RRateLimiter instance and want to update interval field. If I call trySetRate() it is not updating.
If I remove the item and create again it works. Is there a way to update RateLimiter instance without removing the item?
Please let me know.
Thanks,
Ravindra
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2781
How to configure scheduling times?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using the periodic scheduling method（e.g. RScheduledExecutorService.scheduleAtFixedRate）, I want to stop scheduling after a specified number of times. What should I do?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2782
How to configure scheduling times?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When using the periodic scheduling method（e.g. RScheduledExecutorService.scheduleAtFixedRate）, I want to stop scheduling after a specified number of times. What should I do?
Thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2783
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2784
Custom start time when scheduling a task with cron expression
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Part of the source code of the RedissonExecutorService class:
As the remark above says,It is possible new Date () as a method parameter.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2785
Add RLiveObjectService.count() method
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Count LiveObjects with specified conditions
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2786
Extend RLiveObjectService.delete() method to accept multiple ids.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2787
Question about RLocalCachedMap
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Nevermind, I think I figured it out.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2788
Why we need to execute SENTINEL SENTINELS command?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In this case, I configured the all intranet domain sentinel node list info。
like this
But I can't start redisson successfully,  it throws a RedisConnectionException with 'SENTINEL SENTINELS command returns less than 2 nodes..' message
Because the first configured sentinel node will be used to execute the SENTINEL SENTINELS MASTER_NAME command when initializing the SentinelConnectionManager, and then try to connect to the returned node list.
But the IP:PORT information of the sentinel node list we return is inaccessible by the current machine（By default, we only allow access via intranet domain）, So all these sentinel node failed to register, except the current node（It uses intranet domain access).
Can we add an option to directly use the configured node list without having to execute the  SENTINEL SENTINELS MASTER_NAME command to get the list?
Now, I called dba to restart the sentinel node list, and replaced the sentinel list information, so that the information returned by sentinel list api can be accessed by my current machine, temporarily solved this problem.
However, if my new machine in another network cluster also needs to use redisson to connect to this sentinel cluster, things will become more troublesome.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2789
Redisson scalable put on cluster nodes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello:
I am new to Redis. And I wrote a simple code to test hashmap objects in a Redis cluster of 3 nodes.
Then I try the redis-cli to get all hashmap objects. it seems that all pairs are stored on the same cluster node instead of round-robin.
However, when I use the redis-cli to put key and value pairs into the cluster, I can see it is round-robin.
May I know how to put hashmap object in the round-robin way?
In my test environment, redission maven
redis server 6.0.1.
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2790
Thread that called tryLock stops in standby state
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
Running the redisServer again does not resolve the issue.
In particular, Scheduler threads cause serious problems.
Is there a solution?
Below is the test code.
This result is Thread dump.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2795
Spring Data Redis 2.3 support
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2796
Auto configuration for reactive redis client in Spring Boot
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Currently I am using Redisson for locks with the RedissonClient that gets automatically configured via the spring.redis.(host|port|password) properties in the application.yaml which is super convenient.
Now I wanted to include some message handling via reactive topics to return a Flux for a websocket-based subscription. Thus I attempted to autowire a RedissonReactiveClient and noticed it isn't autoconfigured.
I am curious what the proposed way to expose a RedissonReactiveClient bean with the same configuration would look like.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2797
redisson 3.12.5 with error of Can't init enough connections amount! Only 0 from 30 were initialized
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson 3.12.5
redis 3.2.9
I meet this problem when project startup with multiple replicas in kubernetes, some of replicas with following errors, but some are fine:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2798
org.hibernate.LazyInitializationException: could not initialize proxy - no Session
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I want to use to hibernate level2 cache as flow config.
Now for get object at the first time, all things are ok! (that means I want to load 'post' from personnel)
But when I call this function for a second time, in my personnel object the 'post' is null and I get an error as below:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2799
At Android both FstCodec and MarshallingCodec don't run
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I get this IllegalStateException:
The problem is, at android, FstCodec call this function:
Thanks for this incredible program, I holpe that this help you to improve it.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2800
RedisConnectionException: Not all slots are covered! Only 10923 slots are avaliable
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use the 7000 port node to create a redis cluster. When the cluster is running normally, the client connection to the cluster is normal. When the 7000 port is the master, there will be an error. 0-5000 solt cannot be added. But when the 7000 port is the slave, it is normal. But in a moment, there will be three retry failures and the connection problem cannot be found
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2801
Is tryLock() method expected to return false when redis is not available
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
tryLock() method return false after certain time when redis is not available
Actual behavior
tryLock() method is hanging forever
Steps to reproduce or test case
when application starts, the redis server is there, then bring down the redis.
local redis docker without authentication
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2802
cluster throw WriteRedisConnectionException while slave become new master after master shutdown
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
use new master and everything is OK
Actual behavior
use connection of the shutdown master
Steps to reproduce or test case
cluster three master and three slave
master A, slave B
kill A, then B as master
start A, then A as slave of B
kill B, then A as master
start B, then B as slave of A
kill A, then B as master
now cluster status is OK,
but throw WriteRedisConnectionException because try to use connect of A
ClusterConnectionManager log
WriteRedisConnectionException
Everything is OK after restart java application.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2803
spring-integration unlock error when use redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
use redisson and spring-integration
Steps to reproduce or test case
this keyCommands() retuen this OBJECT occur recursion.
Maybe,we need override method unlink in RedissonConnection
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2804
Unexpected exception while processing command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use spirng cache and throw this exception  I can't see what is the real exception it throw
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2805
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2806
NatMapper is not applied to the first online Sentinel in list.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2807
redisson lock uncontrolled release.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi all,
I am facing strange problems with Redisson lock.
I use the lock without expiration - which means is that watchdog mechanism in-charge of updating the lease time of the lock in redis.
Threads that are using the lock, lock it for time ranging from couple of seconds to 300 seconds or even more.
The problem:
sometimes when a thread(that acquired it) tries to release the lock the thread receives IllegalMonitorStateException , which means that this lock is already released.
One solution was to increase the watchdog timeout - I increased it to 100 seconds and it decreased the number of errors but they still occur from time to time...
I don't want to increase the timeout even more because this doesn't address the root problem.
How can I solve this? is anyone else encountered this behaviour?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2808
Scheduled Executor Example Fails
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
This should work according to examples
Actual behavior
Throws exception
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2809
SSL connection can't be established if Redis Sentinel discovered by DNSMonitor
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2810
Shall the read.me file get updated to use the latest master version of redisson-all jar?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
shall this versoin be 3.13.0
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2811
Concurrent invoke still may be get null
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
behavior like #2217
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2812
Batch default values not consistent with RedissonClient
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
For example, in comment it says default value is 3000 ms, but it's actually 0. Does this mean RBatch execution will not timeout and could block the netty channel for quite long time?
Should the BatchOptions like timeout, retryAttempts use the values from RedissonClient?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2813
The first online Sentinel hostname in Redisson config isn't resolved at startup
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2814
RedissonSetMultimap has a bug here redisson.getSetMultimap( "" ).removeAll( collection )
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
You need judge the size of set when executing hdel
return commandExecutor.evalWriteAsync(BugfixRedissonSetMultimap.this.getName(), codec, RedisCommands.EVAL_BOOLEAN_AMOUNT,
Actual behavior
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2815
The  poll(limit) in ReactiveQueue returns a MonoLift instead of Flux
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
When call
I expect it returns
Flux
Actual behavior
But it returns below error, and the non-reactive lib is OK, is the reactive function provided in redisson PRO only?
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2816
AWS Reader DNS being defined as master during failover
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Scenario:
We configured Redisson with 2 AWS DNS endpoints: Primary and Reader. Primary has one node and Reader has 2.
After failover, one of the read replicas got promoted as the primary. Technically, since this happened behind the scene in AWS, we should not see any change to the Primary and Reader.
However, in Redisson log, we saw the type of the Reader endpoint got changed to be Master
Before failover:
Wonder if this is a bug or we didn't configure our Redisson correctly. Any help would be greatly appreciated.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2817
Support for SETXX operation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a use case in which I must update a value only if the key exists. This is supported by the SET XX option.
I was wondering if it makes sense to enhance the RedissonBucket class to support a setIfPresent operation(s) - encapsulating the SET XX command just like trySet does for SET NX, or if I should just try to get an instance of CommandAsyncService and run the command myself.
I'm happy to contribute to this feature if it's deemed useful.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2818
StreamInfoDecoder relies on field order of XINFO response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
When using redis streams with redisson, the expected behaviour is, that redisson is able to identify the fields of the xinfo response for streams and fill the StreamInfo type accordingly.
Actual behavior
While switching from redis 5.0.6 to redis 6.0.4 I experienced, that the fields "groups" and "last-generated-id" have switched their positions. The result is, that I get an ClassCastException because redisson tries to cast the String "last-generated-id" to Long "groups".
Steps to reproduce or test case
Use redis Version 6.0.4.
Connect redisson client to this database.
Get stream info with redisson RStream:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2820
Issue in the latest README.md file change of redisson-tomcat
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
a76949a#r39710042
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2821
SyncStrategy.INVALIDATE publish without subscribe possible?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi!
We have a redis server with about 600 commands per seconds sent via redisson. And we have some cronjobs that update information in the db (and cache). We are using redisson 3.12.3 with LocalCachedMap with the following options.
The synchronization is working great. However, since the cronjob is setting up new connections then disconnects we often during the peak hours receive errors like so.
I'm thinking that we can either wait longer for the shutdown or configure the instance not to subscribe to updates? I realize that this might be a weird use case, I tried manually constructing the publish command but got lost somewhere in the command encoding. I'm thinking that ideally a new SyncStrategy that only publish invalidation, and doesn't listen to them, would be the best solution for us.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2822
[Cluster] scanning nodes stops if `ClusterConnectionManager#addMasterEntry` fails
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Periodic scan of cluster nodes runs forever (every scanInterval milliseconds)
Actual behavior
Periodic scan of cluster nodes stops when a single master is added to the cluster and Redisson cannot perform CLUSTER INFO
Steps to reproduce or test case
Failure to perform CLUSTER INFO is probably a side effect from another problem but I expect that Redisson can recover.
I'm using a 6 nodes cluster in a VM (libvirt) environment on 3 virtual machines. Each VM hosts one master and one slave in way that master and slave happens to be on different VMs (master1 is on VM1, but slave1 is on VM2; master2 is on VM2, while slave2 is on VM3 and master3 is on VM3 while slave3 is on VM1). Hard stop VM2 which effectively disconnects master2 and slave1. Then I bring back VM2. Former master2 is no longer master so I promote it to be master again by executing CLUSTER FAILOVER on it. After I do so, Redisson attempts to reconnect to master2 but for unknown reason fails with:
All defaults, except useClusterServer and one node address.
Notes
I traced back the issue to org.redisson.cluster.ClusterConnectionManager#checkMasterNodesChange: addMasterEntry returns failed future (e is not null) and  futures.addAll(res); is never executed. As a result result future is never resolved and the next round of scanning is not performed.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2823
RedissonCacheStatisticsAutoConfiguration conditions not matched
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
I expect to get metrics of RedissonSpringCacheManager
Actual behavior
But RedissonCacheStatisticsAutoConfiguration not matched to condition @ConditionalOnBean({CacheManager.class, RedissonCache.class})
The reason is that there isn't RedissonCache bean registered in context.
If you dive deep into RedissonSpringCacheManager you can see RedissonCache instance created, but not registered in ApplicationContext and it should not.
RedissonCacheStatisticsAutoConfiguration":{"notMatched":[{"condition":"OnBeanCondition","message":"@ConditionalOnBean (types: org.springframework.cache.CacheManager,org.redisson.spring.cache.RedissonCache; SearchStrategy: all) did not find any beans of type org.redisson.spring.cache.RedissonCache"}]
Steps to reproduce or test case
Fail case:
Configure spring boot cache (see below)
Configure spring-boot-starter-data-redis (ip, port, db)
Use spring cache annotations on objects an methods
check /actuator/metrics
You won't see any cache metrics
Success case:
Repeat all from Fail case (steps 1-3)
Register RedissonCacheMeterBinderProvider on your own
check /actuator/metrics
You will see cache.puts, cache.gets, cache.size metrics
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2824
Add RExpirable interface to  RRateLimiter
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2825
Topic channels connected to master node aren't resubscribed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2826
volumes for redis replica nodes in docker swaram environment?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have an application in which we are using Redis as a small database.
We are using Redis in a master-slave configuration in docker swarm environment. We have 1 master node and 2 replica nodes.
For persistent storage we have enabled volumes for master/replica nodes in docker swarm environment e.g if container restarts it can pick data from the volumes file on disk.
Few of my doubts are as below -
Is it necessary to enable volumes for replica nodes?
If we have volumes enabled for replica nodes, in a scenario when replica docker container restarts, will it pick its data from its volumes file on disk? or it ignores that file and only get data after syncing with master node?
Please let me know if you need more information.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2827
org.redisson.client.RedisException occurs after upgrading redisson client
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
After upgrading redisson client from 2.2.12 to 3.10.6 there are a lot of org.redisson.client.RedisException errors when performing various queries to Redis via redisson.
It seems there are a couple of issues:
There cannot be two applications using different redisson versions at the same time, e.g. App1 with 2.2.12 and App2 with 3.10.6, otherwise the RedisException occurs.
The keys created by the old version must be flushed, otherwise the RedisException occurs.
Expected behavior
After upgrading redisson client from 2.2.12 to 3.10.6 new keys can be created and old keys can be read/updated without errors.
Actual behavior
After upgrading redisson client from 2.2.12 to 3.10.6 new keys cannot be created and old keys cannot be read/updated without RedisException.
Question
Is there a way to avoid flushing the cache in order to avoid the errors?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2828
redisson lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I have a quick question about the redisson lock.
Does the redisson lock is share between all clients ? We have several services/jvm and we want to be sure that these services cannot read / write in concurrently on the same ressources.
We use AWS redis with 1 master and 2 slave.
Thank you
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2829
support redis version?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson support redis 6.0+?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2830
support of aws unique reader endpoint for Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
Should I use useMasterSlaveServers for an AWS redis (1 master - 2 slaves) with an unique reader endpoint (Amazon ElastiCache launches reader endpoints for Redis)
here is my current configuration
Remember we haven't enabled the cluster mode .. We have only 1 master with 2 slaves.
However we got 2 troubles (redis-2 is the primary, redis-1 and redis-3 are the slaves)
As you can see in the picture, the current connections between the 2 slaves are strange. I know there is load balacing between the 2 slaves. But why the connections fall back to 0 periodically ? Should I increase the maximum idle time of the connections before they are released ?
Then after the failover, 2 services failed to reconnect on the master node. Our other services had no problems with  the same configuration.
It makes no sense to me because the unique primary endpoint and the unique reader endpoint have not changed ... Should I disabled the dns monitoring interval on the redis client ?
let me know if you have answers to these troubles
Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2831
CLUSTERDOWN error handling
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redisson should try to send command later if this error arose.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2832
Blocking commands connected to Redis Cluster aren't resubscribed after Master node failover ·32
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2833
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2834
How to get callback from RDelayedQueue
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Use case
When I put the content into delayed queue, I manage to add listener on the content transferring to the destination.
Questions
Is there any methods I can get to listen delayed queue callback when transferring entity to destination ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2835
Cluster Mode Configuration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
From this documentation:
It is written for cluster mode "Minimal cluster configuration requires to contain at least three master nodes"
I want to understand why this limitation is there?
So overall if I have a cluster enable AWS elastic cache with single shard(1 master,2 Replicas) then i can't use cluster mode configuration?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2836
Unable to acquire connection when all connections are free and nothing is in queue..
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
@mrniko on occasion we are seeing timeouts like this..
from what I gather all connections are free, none are in queue yet it still didn't manage to acquire a connection.. does this indicate all Netty threads are busy decoding a response, in which case we should consider adopting the dedicated executor for decoding, or something else? Currently running redisson-3.11.5
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2837
AutoDiscover in Redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a cluster mode enabled AWS Elastic cache with current configuration 1 shard(1 master 2 slaves) and i wan't to know that if i increase the shards count say to 2, would Redisson able to auto discover the newly added shard nodes?
As per this: Redisson only take the node addesses but AWS also provides the configuration endpoint but i don't see any option to provide that in Redisson.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2838
AWS elastic cache Shards support in Redisson.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have a sharded AWS cluster enabled elastic cache with multiple shards.
I want to use the Redisson client to interact with my AWS Elastic Cache .
Can this be possible in OpenSource Redisson or it's possible only in Redisson pro?
Also it would be really helpful if you can share a sample code to connect to a sharded AWS elastic Cache using Redisson Client
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2839
RedisNodeNotFoundException after redis cluster restart.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
The client to reconnect to new masters
Actual behavior
Seeing this exception
After the redis cluster restart the error is showing up only on a small percentage of instances. The rest were able to reconnect as expected the p95 latency was under 20ms for fetching a single key from a hashset and around 100ms for fetching the entire hashset.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2840
org.redisson.client.RedisConnection memory leak
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Seems RedisConnection is leaking in a queue?
Expected behavior
No leak.
Actual behavior
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2841
RedisTimeoutException: Redis server response timeout (3000 ms) occured for command: (LPOP) with params:
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am getting below error while trying push a message to RDelayedQueue. Using Redission version 3.6.2. Any thoughts?
Also, below error pop up sometimes.
Below are my settings.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2842
How to retrieve DelayedQueue by name using getDelayedQueue.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Want to understand how to retrieve delayed queue (RDelayedQueue) by name using getDelayedQueue method on org.redisson.api.RedissonClient.
Does it require to call redissonClient.getDelayedQueue(destinationQueue) every time before queuing a message as below or retrieve queue once and use it for every message queuing ?
RDelayedQueue..offer(message, delayInMillisFromCurrent, TimeUnit.MILLISECONDS);
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2843
Which API to use to get a config value?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I am trying to find the API equivalent to "CONFIG GET"
I found:  getRedisNodes( RedisNodes.CLUSTER ) and cluster info but not config.
Thanks in advance!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2844
Is it possible to access to the data maintained or written by Redisson in Nodejs? And would it be a bad practice?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, I have using Redisson for not a long time, and I realize that I need my old project to access to Redis and retrieve data that is maintained by the current Java code which use Redisson.
But Redisson is not just a redis client but a In-Memory Data Grid, therefore it's quite different and not compatible friendly for nodejs program for it only has pure redis client tools to use.
So the idea I have is:
Write a Java Redisson program as a proxy and serve data for nodejs program.
Figure out how Redisson save data, for sorted set, and Bucket, and write a package for nodejs to decode data from Redis.
Give up Redisson and use pure redis client, like Redis.
Is there any other solutions? Or is there any nodejs middleware for Redisson? Would that be difficult to write one for Redisson(I haven't read much source code of Redisson yet)?
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2845
Connection leak if SSL connection got reconnected
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2846
Closed connection was taken into use and always get failed.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
IDLE Closed channel should not be used in latter command execution.
Actual behavior
See below log, acquire connection and IDLE connection check happens around at same time, therefore IdleConnectionWatcher closed it. But this connection was taken into use in latter phase and always get "failure: java.nio.channels.ClosedChannelException)], command=(PING),". However, PING cannot recover it.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2847
Using lockAsync with Scala Akka
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
Does lockAsync / unlockAsync and bucket async APIs work with Akka actor using Scala/Play?
I am getting the exceptin below:
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id
Is that because of unlockAsync being triggered inside Future of lockAsync? I am using Scala converters to get Scala Futures from these APIs.
If I generate my own thread ids using random long then it does work.
Thanks
Rakesh
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2848
org.redisson.client.RedisException: BUSY Redis is busy running a script.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We are using redis delay queue and see below error with around 20k message in queue.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2849
Support for OBJECT command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi - I cant find support for redis OBJECT command in RedisCommands. Is there any plan to add support for the OBJECT command?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


2850
http is broken
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
http returning 404
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2851
Duplicate execution of scheduled job with multiple RedissonNodes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
multiple RedissonNodes has Different system time
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2852
Is Redis Labs Enterprise Cluster (RLEC) officially supported?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
we are using redisson with en RLEC it does work but not in every case, so the question is does redisson officially support RLEC and when yes how should we configure it? Is there a example somewhere. If there is one and I could not find it, pleas give me a hint :)
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2855
Issue with config when trying Tomcat Session Management
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm attempting to the RedissonSessionManager to handle sessions for tomcat.  I have setup the manager like this in my tomcat context.xml file
and created the following redisson.yaml file
With it set like this I get this error,......
I had to manually add the fst-2.47.jar as well as the objenesis-3.1.jar to get this and I'm kind of stuck now.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2856
Logging: CommandAsyncService.get(RFuture<V> future) and InterruptedException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We notice with small connection pool sizes under load that some promises seem to be interrupted or time out. This is normal behavior, but the root cause is omitted under the stack trace.
Redisson tries future.await(), catching the InterruptedException. In this case I believe future.isSuccess() is unlikely to return true, and convertException will be called. If InterruptedException is the cause for the future failing, we want to preserve that as part of the cause in the stack trace.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2857
RedissonSetMultimap and RedissonListMultimap has a bug here. get("key").delete() will throw exception.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2862
DefaultSavedRequest cannot be cast to org.springframework.security.web.savedrequest.SavedRequest.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I see this same issues from #1850 but nothing about how it was fixed or what to do.
My setup is redisson-all.3.13.1 and redisson-tomcat-8-3.13.  I have the RedissonSessionManager configured.
Is there something I am most likely missing?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2863
Why the redisson reconnected the connection  and still throw exceptions
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
using the latest version.
After debugging,I found that when the connection lost,redisson will try to reconnect and it do succeed,but it still throw an Exception.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2864
when GenerationType is IDENTITY, test failed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2865
redisson 3.13.1 Always connected to redis cluster and can not to acquire lock,but no exception
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redis version:5.0.8
redisson version: 3.13.1
i have built redis cluster with six instance。and use cluster nodes to view clusters info。
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2866
Replace slf4j-simple Dependency w/ slf4j-api
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
Redisson in https creates a hard dependency on an SLF4J binding, which if you already have a binding in place in your application, causes logs like:
Note the link and warning from SLF4J: http.  This is a random behavior and could be catastrophic depending on your intended logging config versus what Redisson attempts to do. Also note this paragraph:
Embedded components such as libraries or frameworks should not declare a dependency on any SLF4J binding but only depend on slf4j-api. When a library declares a compile-time dependency on a SLF4J binding, it imposes that binding on the end-user, thus negating SLF4J's purpose. When you come across an embedded component declaring a compile-time dependency on any SLF4J binding, please take the time to contact the authors of said component/library and kindly ask them to mend their ways.
Describe the solution you'd like
Remove the dependency on slf4j-simple and replace it with slf4j-api like is recommended by SLF4J.  This is noted in the SLF4J link above and is concisely:
Embedded components such as libraries or frameworks should not declare a dependency on any SLF4J binding but only depend on slf4j-api.
Describe alternatives you've considered
We have considered rebuilding the Redisson jars to remove this dependency, but it should not be there to begin with.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2867
How could i deserialize a value which put by RedisTemplate of Spring from redis?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
How could i deserialize a value which put by RedisTemplate of Spring from redis ?
especially when i used RedisTemplate of spring before in my project, and now changed to Redisson.
I get an deserialize failed error.
exception stack as follows:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2868
How Redisson figures out the key slot in cluster enabled Redis with multiple shards?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does Redisson maintains a map of all the slots available in each master node. Uses this map to figure out the relevant master for read and write and then queries that master? Or
Does it queries a random master it gives the answer where the slot lies and then queries again the new master.
what is the hashing algorithm being used in Redisson?Just for confirmation it should be CRC16(Key)?
Does it hash the whole key or partial?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2869
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2870
redisson,The current thread does not release the lock, will hava some problems.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
yesterday,i test the redisson lock，i use  Apache JMeter to test the concurrency。param: thread number = 1000,  loop = 1。i found when i not release the lock .but other thread can get the lock.
example:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2871
RedissonBloomFilter NullPointerException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2872
Don't release the lock actively, there is a problem in high concurrency
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
yesterday,i test the redisson lock，i use  Apache JMeter to test the concurrency。param: thread number = 1000,  loop = 1。i found when i not release the lock .but other thread can get the lock.
example:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2873
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2874
RedissonAtomicLong#getAndSet throws NullPointerException when value does not exist yet
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Either no Exception (just create the value, getAndSet shoudl be able to create the value as well) or documented behaviour
Actual behavior
Null Pointer Exception, but only during first execution. Reproducible if I manually delete the value in Redis again
Steps to reproduce or test case
When the value does not exist yet, counterInDb is not null but calling getAndSet on it without checking isExists as well in the if gives me a NullPointerException at RedissonAtomicLong.java:122. This is quite confusing as
The Null Pointer Exception is from the implicit cast from Long to long, which makes it really hard to spot
There is no JavaDoc warning that this might happen
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2875
RedissonAtomicDouble#getAndSet() method throws NPE
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2876
error: Provider org.redisson.jcache.JCachingProvider not a subtype
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I am running tomcat with Equinox and want to use redisson for session storage. The shared session storage works fine but I have this error in my localhost.xxx.log.
Here is my redisson.config.yaml
I am not actually interested in replacing the caching provider. I'd like to use redisson only for shared session storage.
Appreciate your ideas.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2877
Redis native commands are not supported using redisson client
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I wanted to run Redis Native commands using redisson provided low-level client, However.  Some of the commands i see not exposed from
I just explored String and Hash commands, however list of commands not supported might be more.
Usage:
a) Is there are way i can actually run the redis native commands via some interfaces?
b) Any reason why redisson is not exposing complete set of redis native commands? Does Redisson make any effort on a regular basis to support new commands that are offered by Redis?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2878
Better support for subclassing RedissonRegionFactory
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, to configure redisson for hibernate only using code (like env variables) i subclass the RedissonRegionFactory and override method createRedissonClient. This works great until i want to take advantage of the property hibernate.cache.redisson.fallback. This property has private access so i cant alter it in the same way as the base class do. My only way forward is via reflections which is hackish...
Could you provide a protected setter or refactor code for fallback-setting to a protected method? Also allow for inheritance in the future. Thanks!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2879
Sentinel hostname isn't used for ssl connection during Redisson startup
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2880
hibernate 2LC, multiple tomcat node is causing flush on each node join to cluster
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
hi everybody,
I am experiencing unexpected behaviour(at least from my perspective) when I try to use RedissonRegionFactory.
what I am trying to do is:
I have a clustered application and all of my nodes are using same database, and I was configured ehcache for second level cache on each node, and when something happened on one entity, I was sending an event to other nodes for evict their 2LC to keep data consitenct over the cluster.  Now I try to replace that eh_cache + event system with one central 2lc provider.
for that surpose,  first node is connecting and configuring redis on its startup.
how I am configuring redis: after first node startup is completed I put a flag on redis to avoid second configuration from other nodes.
I am able to see redis keys/values like this:
I would be appreciated for any idea advice whatever to help to understand why this behave like this.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2881
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2883
RedissonFairLock deadlock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RedissonFairLock result
Only more than 100 "endLok" were printed。if use RedissonLock，it can be print all。
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2884
RMapCache.clear() method shouldn't clear maxSize option
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2885
Don't handle empty sentinels list
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2886
RedisResponseTimeoutException bug
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson client config
Expected behavior
get lock and continue to do business logic
Actual behavior
after first time fail and three times retry fail, I got RedisResponseTimeoutException
Steps to reproduce or test case
the prerequisite is
your redis server require a password auth
your redisson client in a NAT
your redis server config have this:
after 5 minute you will get this RedisResponseTimeoutException problem, however the redis server did not receive the request at all.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2887
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2888
Set Redisson config using AWS ElastiCache as Clustered Mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey there!
What is the proper way to configure Redisson when you have a AWS ElastiCache Redis running as Clustered Mode? I have tried to set using it as follows:
Configuration endpoint: test-rest-encryption.p0vefj.clustercfg.use1.cache.amazonaws.com
For nodeAddress, I have tried to use configuration endpoint and node endpoint but fails in both case (connection timed out): Am I missing something?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2889
sentinel more failure ,You can't write against a read only replica..
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
use redisson sentinel mode
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2890
instead of creating config out of redisson file, get config object from property map
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is your feature request related to a problem? Please describe.
this is not directly related with a problem, but instead of maintaining file and doing io operation, passing config object on-the-fly would be more suitable on my scenario. then I wanted to ask to maintaniers about this.
Describe the solution you'd like
My solution would be to as follows, adding additonal if statement to check object is passed or not
Describe alternatives you've considered
I am currently overriding this method and using this RegionFactory
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2891
BITFIELD command support
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2892
Unable to decode data. channel: [id: 0x34a72ba5, L:/xxxxxxx - R:xxxxxxxx], reply: ReplayingDecoderByteBuf(ridx=88, widx=88) java.lang.NullPointerException: null
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Unable to decode data. channel: [id: 0x34a72ba5, L:/xxxxxxx - R:xxxxxxxx], reply: ReplayingDecoderByteBuf(ridx=88, widx=88) java.lang.NullPointerException: null
thanks for your help
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2893
possible concurrent issue in RedissonLock?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
When running multiple threads to acquire the lock with the same name, the below error happened from time to time.
Not sure if we need any concurrency control in the ExpirationEntry of RedissonLock? e.g. by simply converting the threadIds to a synchronized map, the issue got fixed in our particular case.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2894
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


2895
RRateLimiter doesn't work
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I have created RRateLimiter instance.  If I call acquire (), it doesn't work.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2896
Redis Cluster - fails to calculate key slot when missing closing "}"
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have { as part of the key but no } because it is part of my domain which is not intended to be used key hash tags. As a result I get:
Expected behavior
According to Redis documentation missing closing} is fine, use the whole string to calculate the hash slot. Similarly, if there is no string between {and} (i.e. abc{}xyz), use the whole key too.
Actual behavior
Exception
Steps to reproduce or test case
I suggest to modify org.redisson.cluster.ClusterConnectionManager.calcSlot(java.lang.String) like this:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2897
Strange characters on value when read data in other language
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey there!
I was wondering if it's possible to perform a simple operation like we do on Redis StackExchange (c#) client:
Right now I'm using a Map but I would like to make it simple as this example on C#.
When I try to retrieve values fro other clients like C# or Python, I got some strange characters on value like myv alue.
Is there any option to clear/remove those characters on Redisson and store it as plain string?
Is there any option to store it simple as we do in C#?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2898
Getting Register a custom serializer implementing instantiate or define empty constructor - redis cache on wildfly
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello, When I deploy my code on Wildfly-19 with Redisson client to connect to Redis cluster. I am getting below error.
Here is my redis configuration
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2899
Getting too many cache misses and high cache put after a period
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Our solution uses Redisson configuration with a programmatic cache creation using org.redisson.jcache.JCacheManager with a single Redis server.
Caches are created with cache-api configuration and a ExpiryPolicy.
When the application loads for the first time, caches started to be used and for a period they work as expected with high cache hits.
After a period of tests, one (or many) caches start "deteriorating" and cache miss ratio starts to be higher. Cache put time also started to be very high.
We have a screen showing cache statistics. This is one example of statistics after the problem occurs.
At the example, all other caches of same type are working as expected. Just "Usuario.funcionalidades" is having the problem.
The problem always happens with a nested collection in a Hibernate entity.
Have you seen similar behavior? Any clues about how to understand better what is happening?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2900
Indexes of an RLO in Redis
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I do the Persistence of a RLO with some indexes, and I have a time for it to expire, however the indices, never disappear from the memory of the redis, can anyone help?
After 1 minute, the object is removed from the redis, OK ... but the indeces are not
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2901
debug log command is null
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
why?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2902
PING command still send on IDLE closed channel
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
PING command should not be sent on IDLE closed connection
Actual behavior
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2903
Why the value of the lock >1?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson-version：3.13.2
I have three servers ,in order to ensure that only one  scheduled task is executed at the same time,
I use lock like this:
But after a while, the value of lock >1,
Although it will not cause an error.But I'm curious about how it happened.
I use Junit to test it: But it didn't reappear.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2904
For the expire method of some RExpirable instances, there should be a bug
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
For example, RedissonRateLimiter has 3 keys: getName(), getValueName(), getClientValueName(), but expire only sets the expiration time of the getName() key in the parent class. And there is no overwrite expire method in RedissonRateLimiter.
Expected behavior
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2905
 Unable to decode data. Unsupported protocol version 252
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Actual behavior
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2906
Retry Attempt in Redisson
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I went through the below mentioned documentation .
What I understood is, the redisson client will try to retry to execute the command according to this configuration, correct me if I am wrong.
But what I want to ask is , will it also retry to create the client connection while starting up the application according to this configuration?
I tested it by shutting down the redis server and then started the application . It is throwing exception as expected like
But nowhere I see in the log regarding retry attempts.
It would be helpful if you can shed some light on it.
Redis version
5.0
Redisson version
3.12.5
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2907
RedisTimeoutException while processing task polled from blocking queue within the same CompletionStage
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I created two simple tests (in Kotlin but its pretty straightforward to be translated in Java):
And a second one:
I had the expectation that these two tests will work more or less in the same way (i.e. I expected that both tests will pass). Surprisingly first test fails after running several times in the loop . It fails with:
The only difference between these two tests is the async function composition. First test uses thenAccept and second one uses thenCompose, i.e. the difference is in the CompletionStage. Is it expected that first test should fail?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2908
Reasoning behind returning false on RSemaphore
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Why do methods such as trySetPermits only return false when the attempt fails? I am trying to debug an issue around using semaphores, and this method is returning false; however, since no exception is thrown, I have no insight into why this is failing.
What would be the possible reasons for failing on this method?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2909
Redisson warning jboss marshlling
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I  am getting this warning :
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2910
redis tryLock is always reconnect
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I interrupt Redis while the program is running;
tryLock retryAttempts  3,the system business will not continue to go down
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2911
writeMode=WriteBehind causes Command still hasn't been written into connection error
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2912
RedisTimeoutException on ElastiCache being called by Kubernetes
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey there!
We moved our code to production and we are facing a lot of timeout errors:
It's happening for GET and PSETEX commands. I have found the FAQ with possible solutions like increase nettyThreads and I was wondering if our problem is related with FAQ instructions - our code is super simple, it's a spring boot application with the following implementation:
For now, we don't have massive requests, probably it's missing some configuration or just update Redisson Client because we are using a super outdated version 3.5.6.
Do you have any other suggestion behind update lib? Do you know if is possible set nettyThread using application.properties?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2913
RedissonResponseTimeoutException in HSCAN
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The application is throwing RedissonResponseTimeoutException. It is happening when Redisson fires HSCAN command because the code is iterating over HashMap with size of 8.5k entries. Below is the exception message
I tried increasing the netty thread to 64 and retryAttempts to 6 and timeout time to 6000.5
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2914
redisson-netty thread lock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
We have setup Redis cluster and populated key/values. Some Keys contain more than 2M fields. When we call getAll of RMap using redission client, it takes more than 30 mins and goes to idle state. We analyzed the thread dump and noticed the below errors. We are using redission client (3.13.1). Is this known issue with Redisson client?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2915
Only a single pod is working using Redis Clustered Mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hey there!
I'm running Clustered Redis on AWS ElastiCache with 3 shards, 6 nodes (cache.m5.large) and using engine 5.0.6. Today, I was facing a lot of RedisTimeout error so I have choosed to upgrade Redisson from version 3.5.6 to 3.13.2.
The timeout error were gone but now I'm facing a strange behaviour.
My application is running on Kubernetes (it starts with 3 pods and can scale up) but only a single pod is working correctly with Redis, the others pods are throwing some exceptions like:
Usually, this exception is throwed when the app make a request to cacheServiceImpl.get("<key>").
The code is super simple, I'm using RBucket to read and insert data:
And for Redisson configuration, I'm using the following: I'm assuming that Redisson is using default values for other attributes. As host, I have tried the cluster endpoint and a specific node endpoint but both cases fail with same excepion.
Any idea where can I look or what can I change in configuration to make it work?
Thanks in advance.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2916
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2917
IllegalArgumentException: RIVER
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I use Redisson with Spring Boot Project. While RedissonClient bean is created, IllegalArgumentException: RIVER is thrown. The problem is at MarshallingCodec.java:214 because my computer's language is Turkish. In Turkish, the lowercase of "I" is "ı"(without a dot) instead of "i"(with a dot). Therefore, "rıver"(without a dot) is not found.
I think, toLowerCase() method at MarshallingCodec.java:214 should be toLowerCase(Locale.ENGLISH).
Have a nice day.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2918
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2919
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2920
Caused by: org.redisson.client.RedisException: ERR unsupported unit provided. please use m, km, ft, mi.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2921
Thread gets stuck when trying to acquire lock via tryLock()
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
The thread should get release i.e tryLock should return false
Actual behavior
Thread gets stuck in Waiting state
Steps to reproduce or test case
This is how we are calling the tryLock and multiple threads are scheduled to call this.
Some threads gets stuck at the Waiting state at tryLock.
This is observed when the shards are being added (Sharding is In Progress state).  After sharding is done then Restarting the application releases the threads.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2922
Object Listener - question
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
Thanks for creating this great library! You also have a great wiki!
Is there any thing wrong with this code? This is a simple example.
I expect the delete event should get triggered. But It does not seem to work.
Thanks.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2923
Redis stream - Can we return Flux instead of Mono?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redission library is great!  Stream is not exactly like pub/sub. But they do have some similarities.
So, like pub/sub, Can the stream return the flux of messages to make it more reactive style?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2924
RRatelimiter-Can the method of delete and trySetRate support in a transaction?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Problem:
In a production environment, we often deploy more than one application for high availability (HA). There are two steps: delete and trySetRate when update the RRatelimit object. In HA architecture, there will be such a situation: application 1 delete the object when application 2 trySetRate it,  therefore application 1 will update failed.
The solution i would like is support the update operation(delete and trySetRate) in a transaction.
The alternatives I have used in my project is locking object globally when update it.
Redisson Version: 3.13.0
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2925
(XREADGROUP) in redisson-spring-data cause READONLY You can't write against a read only replica
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
I start to use redis stream as a mq to send log record,  I add a record to the stream in client service , when I try to get the log record from the redis stream I got the exception.
What I Think
From #2663, and redis website, the command XREADGROUP
XREADGROUP is a write command because even if it reads from the stream, the consumer group is modified as a side effect of reading, so it can be only called in master instances.
#2663 fix  redisson/src/main/java/org/redisson/RedissonStream.java method readGroupAsync, so I think maybe org.redisson.spring.data.connection method xReadGroup
should change to use the write operation.
Actual behavior

add a record using redis stream api
try to get the stream message use StreamMessageListenerContainer  and StreamListener
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2926
Neither `expired` nor `deleted` listeners are getting events for `RBucket`
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
This is just creating a ticket for #2922 because it's real.
Expected behavior
Listeners for bucket's deleted and expired should work.
Actual behavior
They do not.
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2927
Spring Data Redis connection in multi mode may cause thread hang
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2928
Spring Data Redis connection in multi mode causes connection leak if it wasn't executed during RedisTemplate execution
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2929
connection leak in sentinelMode and without ssl
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
(default masterConnectionMinimumIdleSize,slaveConnectionMinmumIdkeSize is 32, masterConnectionPoolSize,slaveConnectionPoolSize is 64)
when sentinel/master/slave node and client network jitter, master/slaves role switching, masterConnectionPoolSize, slaveConnectionPoolSize can't limit connection, use jmap dump heap, ClientConnectionsEntry.freeConnectionsCounter.counter is bigger than 64!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2930
Error when configuring empty password
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
If I configure a empty password for the standard configuration of redis, an error will be reported when the service starts.
In order to facilitate the migration of the service environment，i reserved an empty password configuration for redis,like this
The service will report an error when it starts
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2931
RRateLimiter rate interval might be exceeded if permits aquired at the end of interval and the start of next interval
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2932
When performing failover, RedisConnectionException is thrown when accessing the cache after failover.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Please let me know because an unexpected event has occurred.
Expected behavior
Successful access to the cache once failover is complete
Actual behavior
RedisConnectionException is thrown when getting cache
Conditions that cause an exception
I tried it several times, but I have confirmed that this event occurs only when information is acquired from the cache during failover.
Steps to reproduce or test case
State at start：master A, slave B
Step1：kill slaveB
Step2、create slaveC, slaveD
Step3、Fail over Master A
State at the time of error:slave A, master B,slave C
Redisson version
3.13.2
Exception Log
Other
Since this phenomenon first occurred in version 3.6.5, I tried 3.3.12 but the phenomenon did not resolve.
In version 3.6.5, throw WriteRedisConnectionException
I would like support.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2933
Watchdog for RSemaphore
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
RLock is great mechanism for distributed locking since it has a watchdog for releasing lock when client application is dead.
However, when it comes to reactive version (RLockReactive) it becomes totally unuseful because unlocking can be done only by the thread that performs locking. And with reactive streams this never happens for sure.
Instead, it is suggested to use RSemaphore as an alternative since it is not bound to threads. In general, it does the job. However, when client application becomes dead, already performed lock hangs forever. Setting key expiration time partially solves the problem, however, actual atomic operation time may differ, so it is usually difficult to choose the correct timeout.
Another option is a watchdog, but apparently Redisson one does not work with RSemaphore.
So, is it possible to configure the Redisson watchdog for prolonging RSemaphore expire time? Or the only way out is implementing own watchdog?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2934
Redis Sentinel - RedissonAutoConfiguration (SpringBoot) - StringIndexOutOfBoundsException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
SpringBoot application does not start due to the following 'StringIndexOutOfBoundsException' exception when the RedissonClient is tried to be instantiated:
The line of code that fails seems to be this one (RedisURI.java:46):
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2935
Bug: LiveObjectService#persist returns empty object
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm using the Redisson Live Objects 3.13.2 and I have the following object:
Expected behavior
LiveObjectService#delete removes the object immediately and LiveObjectService#persist returns a full object.
Actual behavior
So I have two problems:
When I do this operation(to override the current object):
I sometimes get java.lang.IllegalArgumentException: This REntity already exists. although I'm performing a deletion beforehand. I can get it even if the cache is totally empty before then.
Sometimes after the persist operation supposedly succeed, what I receive is an empty object so when I try to get any field(for example call ReporterObject#getParent a NullPointerException is  being thrown, and when I debug it I see an empty object or not "fully full" object:. In this example I only have sId and type but no id , no rId, no ac etc. As I stated, If I try to getAc() a NullPointerException is thrown. Of course it's not limited to this fields only. Sometimes it's other fields that are missing. Sometimes I get a fully empty object like this one:
Steps to reproduce or test case
I guess use the same object as me.
It might be important to know that I'm inserting those object concurrently(different objects though - no two objects with the same id at the same time).
Hope you can help! Thanks
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2936
Does redisson support the client side caching which starts with Redis 6.0 ？
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Does redisson support the client side caching which starts with Redis 6.0 ？Or whether it will support the client side caching in the future ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2937
Reset Jodd ClassIntrospector instance after RLiveObjectService.persist() method invocation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2938
OOM arise during RLiveObjectService.persist() method invocation
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2939
Incorrect registration of Sentinel node defined with hostname
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2940
org.redisson.client.RedisTimeoutException use RLock
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Environment Info:
error:
The online environment has been running for many days without problems, and the above error has been reported recently and it is normal after restarting.
When the error is reported, the application still has 27 connections to x.x.x.22:6370
Except  the connections to x.x.x.22:6370 has errors, other redis nodes have no errors
The application is using redisClient at the same time, but no error is reported,indicating that there should be no problem with the network
question:
I want to know what are the possible reasons for the above error
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2941
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2942
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2943
ExecutorService - how to specify workers
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
hi, I wonder what does the workers mean when I register a worker:
Do I have to specify all the workers that might be registered into this cluster? The problem is that the auto-scaling strategy makes it hard to specify the number of all workers, because the number varies in runtime.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2944
more connected clients than allowed
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have setup redis client with setConnectionPoolSize(64) . At heavy load when I check the Redis server it shows connected clients to be  284. I am running 4 replicas of application. I expect it should never go above 64*4 = 256.
No other app is currently connected nor any manual connection has been done to the redis server.
I am not sure whats the exact reason here.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2945
Failure on ProxyJCacheConfiguration
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I have an application on Spring boot 2.2.6 using Caffeine Cache with @EnableCaching and @Cachable annotations.
And I'm trying to integrate redisson 3.12.5 to only read from a Redis cache.
When the app is starting up I'm getting this error and the app fails to start:
Any clue?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2946
Caused by: java.io.IOException: java.io.IOException: Failed to read the next byte at org.redisson.codec.FstCodec
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Using Redisson client to connect to the Redis server. My Java Object has changed recently, added a new variable into my Java Object.
Started seeing this exception since then. How can I use the updated Object.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2947
some closed channel in freeConnections after network jitter
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Actual behavior
Steps to reproduce or test case
use chaosblade, set losspackage 50% and 200ms delay in redis port, keep 5min
start 50 thread to use redisson to read redis (client.getBucket("testkey").get())
i find there are some closed connection(channel) in the free connection pool
i use arthas to attach process, and watch org.redisson.command.CommandAsyncService#async(...int attempt, ...)
when chaosblade execute finished,also have method invoke with attempt > 0,than i find async(attempt > 0) only called by org.redisson.command.CommandAsyncService$6(it's a anonymous TimerTask)#run, getconnection() succes and call sendcommand() but netty writefuture not complete,than trigger the TimerTask, and i watch org.redisson.command.CommandAsyncService#sendCommand, find any connections is closed....and i use netstat -nt to confirm the connection is closed, but their also in the freeConnectionPool.....
the find freeConnectionCounter is bigger than slaveConnectionPoolSize, and freeConnection, allconnection also unlimit at sometime and sometime freeConnections size is bigger than allConnection......
it just like #2929 (comment)
and i reproduce it without RBatch command
i don't know why not check connection and drop it when getconnection?(
in org.redisson.connection.pool.ConnectionPool#connectTo, poll() get a connection,the connection is not actived,just trySetupFistFail?)
and i want know this bug is fixed in 3.13.xx?
thanks for you
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2948
MapCache EntryRemovedListener not working
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello,
I've encountered a  bug when using EntryRemovedListener .
When i run test , i got the errors .
But, another listener as EntryExpiredListener works well
My setup:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2949
how to set rmap hashkey Serializer method?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
when I use redistemplate, I can do this:
how can I set Serializer for hashkey or key independently
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2950
how to set rmap hashkey Serializer method?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Follow the issue: #2949
when I use redistemplate, I can do this:
I hava known this method, just like
but my hahkey want to use StringCodec, not JacksonCodec, how can I set codec just for hashkey separately.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2951
BloomFilter renmae bug
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2952
Sentinel in junit test.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hello
I want to write junit test in redisson to check my problem with Sentinel.
I found test org.redisson.RedissonBlockingQueueTest#testTakeReattachSentinel and wanted to use it as example for
Sentinel setup, but it's failing to run.
What am i doing wrong?
all other tests run fine
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2953
Error: org.redisson.client.RedisConnectionException: SlaveConnectionPool no available Redis entries, with version 3.13.2 and 3.13.1.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
We are using Redisson for AWS elasticache cluster and established connection should work consistently without any exception or error.
Actual behavior
Redisson client fails with the following exception  randomly , have to restart the application.
Steps to reproduce or test case
We are using redis in our multiple microservices and  the above exception happens very randomly in any of the services after some days.
Redis version
AWS elastic cluster.
Redisson version
Tried both 3.13.1 and 3.13.2 but same issue.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2955
redisson clusterConfig getMap method bug
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
o is not empty,o1 is not empty;
Actual behavior
The first getMap execution result is not empty, and the second getMap execution result is null;
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2957
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2958
ls
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2959
XPENDING causes syntax error in redisson-spring-data-23
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
list of PendingMessage
Actual behavior
Steps to reproduce or test case
Seems like command for connection should be XPENDING_ENTRIES, not XPENDING
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2960
FairLock is freezed after run more than 9000 times
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
this is my code.the log will not print after a few minute.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2961
The value stored in RedIS is different from the target value
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2962
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2963
JCache removeAsync throws NPE when remove fails
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Test setup:
Expected behavior
Failure reported as original failure cause (RedisTimeoutException)
Actual behavior
Null pointer when Redisson updates stats bean
Notice the explicit null argument
Then the boolean unboxing in the listener
This causes NullPointerException
Steps to reproduce or test case
Have several JCache caches. Start application. Suspend Redis server to force connection timeouts. Call removeAll() on an existing JCache
Default SingleServer connecting to localhost with FstCodec
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2964
CommandPubSubDecoder: Unable to decode data & NPE
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2965
MasterSlaveConnectionManager allocates superfluous 113Kb of memory for non-cluster Redis setup
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2966
function: RLiveObjectService.persist() ,why not have batch method? someone can help me ? persist very slowly one by one.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2967
when i try batch persist, but return result is not correct. please help .thanks.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
code like as below:
result will throw exception:
Exception in thread java.lang.IllegalArgumentException: REntity should be attached to Redisson before save.
i think ,current object:xxx always java object, not link to redisson object , if i add some code ,will be normal.
so i think batch persist result why not link to redisson object automatic ?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2968
InternalThreadLocalMap memory leak
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
Actual behavior
after long running, application gets oom
Steps to reproduce or test case
our app runs about 1 month
Redis version
cloud service, not sure
very big array(1048576 size) in each threadlocal, new array was created in old-gen and always fail
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2969
Distributed exclusive task with Redisson?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I'm using Redisson distributed executor service. A task class A is designed to process a given queue identified by its queue ID. There are multiple such queues. I need to ensure for any time in the cluster, there are no more than one instance of task class A that works on the same queue.
Allowed:
Task class A instance1 working on queue1
Task class A instance2 working on queue2
Not allowed:
Task class A instance1 working on queue1
Task class A instance2 working on queue1
There are a large number of such queues and they change dynamically. So pre-allocation of task instances may not be an option, because the queue ID is dynamic.
How can this be achieved with Redisson executor? If not directly, can this be achieved with some distributed lock or queue?
I have the same question on Stackoverflow as well:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2970
Not able to  remove custom object from RScoredSortedSet JAVA
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have code like above in my application. i am not able to remove custom obj from RScoredSortedSet.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2971
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2972
Redisson throw an RedissonShutdownException
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi,
I am facing problem in redisson after a while of running the application. it threw an exception with the following stack trace.
and it failed to recover from that state untill the application is restarted. we also found another exception with the same stack trace
Redisson version: 3.13.2
can anyone help me how shall we recover from this problem without restarting application? also what is the cause of that problem?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2973
All cached Lua scripts are executed on Redis master nodes only.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
No description provided.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2974
can i use spring.redis.pool.size to  change connectionPoolSize?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
can i use spring.redis.pool.size to  change connectionPoolSize? although use redisson.yaml can set this parameter. however, I want to only set parameters in application.properties, then i can put application.properties in git which used in spring-cloud-config.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2975
Change hostname or port at runtime
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Is there any way to change the redissonClient hostname at runtime and force the connexion to the new ip:port ?
I tried to remove listener from the previous client, shutdown and then create a new RedissonClient and a listener with the updated config but when I receive the first message, Redisson is shutdown and throw an exception.
It is possible to use the @RefreshScope from spring boot to achieve this goal ?
Thanks you !
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2976
slave has been disconnected after 500 ms interval since moment of the first failed connection
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redisson version 3.13.3
After upgrading to 3.13.3, the problem has not been solved.
Report an error every morning, usually once. Both errors occur at the same time.
error 1：
slave  has been disconnected after 500 ms interval since moment of the first failed connection.
error2:
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2977
Kotlin classes incompatible with RedissonLiveObjectService
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
User should be able to register arbitrary Kotlin classes.
Actual behavior
ByteBuddy throws new IllegalArgumentException("Cannot subclass primitive, array or final types: " + superType); on normal class declarations. This is because Kotlin's classes are final by default. However, to allow sub-classes, even after the open keyword is applied, and constructor keyword declared. ByteBuddy is still failing, with: java.lang.IllegalArgumentException: Can't find default constructor for class
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2978
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2980
[JCache] IllegalStateException: Default configuration hasn't been specified
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I have specified redisson-jcache.yaml in my resources folder.
If I add the codec property in the configuration then get java.lang.IllegalStateException: Default configuration hasn't been specified!
If I remove the codec configuration property then everything works fine.
Expected behavior
Config should be parsed successfully with codec property.
Actual behavior
Steps to reproduce or test case
Comment the codec part in config and run agian.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2981
Reads only happening from Master Node for Hibernate L2 Cache in Elastic Cache replicated mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Redis Setup:
Nodes: 1 Primary and 2 Replica Nodes
002 is Primary, rest 2 are replica node.
What I want to acheive
I want to configure Redis as a distributed l2 cache to improve my application's performance as ~70% of my traffic is read only. I am using hibernate as my ORM, thus don't want to write lots of custom code when there is a standard implementation provided by redisson.
Issue:
I see all the cache hits are from the master node meaning every write, as well as read, is just happening from the master node.
I went through all the issues reported till now to find the solution but none of them were around hibernate l2 cache. Finally found #2165 where its mentioned "RMapCache.get operations modifies data so it can't use slave node. This method updates idletimeout and lasttimeaccess parameters per entry.
You could use RMap object in this case."
And After looking at the code here I found we are using RMapCache<Object,Object> for each region.
This indicates we can't use it correctly for Hibernate L2 Cache as every time I try to fetch a cached object, redisson will write to the master node and my entire traffic will become dependent on a single master node. Which is not very reliable.
Please help with this.
Proof
Cache Hit Rate: You can clearly see its just hitting primary node.
Cache Hits: You can clearly see its just hitting primary node.
Cache Misses:
Happy to provide more details.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2984
Classloading issues with jboss-marshalling and redisson-tomcat
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
When using redisson-tomcat to provide a SessionManager for our tomcat installation, we expect the classloader used to instantiate objects should be the current thread classloader, regardless of which Codec is being used. Using FSTCodec this worked as expected. This is to allow the right classloader, Tomcat vs WAR classloader to create the objects which it knows how to create.
Actual behavior
After the switch to the MarshallingCodec as default we are running into issues with the RiverUnmarshaller is throwing errors after calling classResolver.resolveClass(). When a thread from my WAR attempts to unmarshall a class it has loaded, for example org.springframework.security.web.savedrequest.DefaultSavedRequest the classresolver on the RiverUnmarshaller for some threads points to tomcat’s Classloader (URLClassLoader with apache-tomcat paths)
This RiverUnmashaller is a FastThreadLocal<Unmarshaller> decoderThreadLocal which is field on the MarshallingCodec.
I can see in the debugger that the MarshallingCodec has classLoader field of my WAR’s class loader, not a reference to tomcat’s. The configuration object on the same MarshallingCodec also points to the WAR class loader.
The number of threads in this broken state where the classloader being used to unmarshall isn't shared by the MarshallingCodec seems to change on each run, but reproduced pretty consistently.
Steps to reproduce or test case
Running Tomcat 8.5.57.0, deploy a WAR with a context xml with a manager as described
Place objects onto the session and attempt to retrieve them that are instances of classes not on the tomcat classpath directly (only within the war, spring security for example)
See requests fail sometimes, depending which thread picks up the work.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2985
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2986
org.redisson.client.RedisNodeNotFoundException: Node for slot: 7727 hasn't been discovered yet. Check cluster slots coverage using CLUSTER NODES command
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We have an AWS Elasticache cluster, with cluster mode enabled - multiple shards, NO replicas.
When ever a node is replaced, after new node comes up, Redission is not able to discover the new node, fails with
RedisNodeNotFoundException
Exception trace:
Expected behavior
Redisson to discover new replaced node without any issue
Actual behavior
Redisson fails to discover new node with RedisNodeNotFoundException.
After node replacement:
---Put and Deletes are failing
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2987
RedisException: ERR Error running script while using RRateLimiter
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I currently have an application where I first create a RRateLimiter. I then acquire one permit in a loop and do an operation. This application is intended to run in a distributed fashion. To test the behavior, I set off concurrent invocations of this program. While it works well for the most part, it does throw an error occasionally as described below.
Expected behavior
No error. The thread waits to acquire a permit and does so.
Actual behavior
Occasionally, the limiter.acquire() in the below code throws the following error-
Steps to reproduce or test case
Code snippet in AWS lambda talking to elasticache
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2988
Issue in connecting cluster
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Hi, I am facing error while connecting to cluster.
It is giving following error:
Let me know if any other detail is required.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2989
Tomcat session deserialisation error for object of Vector type
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
The session details are maintained in a  Vector class which doesn't have a default constructor
Sample class below:
While deserialising session data , we are getting following error
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2990
Redis tomcat session deserialisation fails for vector without default constructor
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
We are using RedissonSessionManager to store tomcat sessions to Redis. When session object contains object of type Java Vector  without default constructor, it  throws a deserialisation exception
The session details are maintained in a Vector class which doesn't have a default constructor. When we try to add this to redis session it fails
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2991
When RMapCache key-value timeout, try to put("key","anotherValue") immediately, and then get("key") immediately, but it gets a null value
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Expected behavior
anotherValue
Actual behavior
null
Steps to reproduce or test case
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2992
none
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2994
HA Failover: Redisson client maintaining the connection with the previous node, unable to read/write to redis.
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Facing the following issue during HA testing the application wtih Redisson Client:
Steps:
Kill one of the masters, the slave becomes the master.
Make the master up after a minute, it then becomes the slave.
Kill the master node(which was slave), the slave becomes the master.
Sometimes its not reproducible in one shot, need to do this 3-4 times.
At this point, redisson is not able to read/write anything to that redis partition  because the client is still taking the previous master(which was killed) and not the promoted slave node.
As per below logs, port 8000 was the master node, which was killed, and the slave node 9000 was promoted to master. But still Redisson is sending the command to the previous master node. We need to restart the application to make it working or make the previous master up.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2996
How can I force Redisson to resolve the Redis server hostname again?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
We had an issue where the IP address of the Redis server changed. We saw logs like these from the DNSMonitor:
Detected DNS change. Master rediss://{host}:{port} has changed ip from IP1 to IP2
Unable to find master entry for host/{IP1}:port. Multiple IP bindings for single hostname supported only in Redisson PRO!
I saw in response to a similar issue the recommendation to disable DNS monitoring. I tried to prototype (with 3.13.3) on a local PC using the hosts file to simulator a DNS change. But Redisson continues to use the earlier resolved IP address instead of resolving the hostname again. I confirmed with InetAddress.getByName() that I can retrieve the updated IP address, but Redisson is still trying to use the old one.
I also tried to detect the connection drop when the IP changes (using ConnectionListener) and then completely recreate the Config and RedissonClient objects with the hostname, but still the older IP is used, and shown in the exception after failure to connect. I guess it remains cached somewhere?
Is there any way to force a new attempt to resolve the IP?
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2997
Delayed queue cannot store data in the target queue on time in cluster mode, but it is normal in single mode
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
In cluster mode, delayed queue can't put the data to the target queue on time. The timeout data will be put into the target queue when the next offer is made
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

2998
why RedissonBoundedBlockingQueue pollAsync(int limit) not call redis incrby to increase the queue capacity?
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
I use the RedissonQueue 'pollAsync(int limit)' method, after i poll some elements, the capacity of the queue did not recovery, at last, the capacity becomes 0, wow , i can not offer element any more!!
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
